var pE=e=>{throw TypeError(e)};var H1=(e,t,r)=>t.has(e)||pE("Cannot "+r);var oe=(e,t,r)=>(H1(e,t,"read from private field"),r?r.call(e):t.get(e)),Et=(e,t,r)=>t.has(e)?pE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),nt=(e,t,r,n)=>(H1(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Lt=(e,t,r)=>(H1(e,t,"access private method"),r);var C0=(e,t,r,n)=>({set _(a){nt(e,t,a,r)},get _(){return oe(e,t,n)}});function e7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R4={exports:{}},ey={},F4={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=Symbol.for("react.element"),t7=Symbol.for("react.portal"),r7=Symbol.for("react.fragment"),n7=Symbol.for("react.strict_mode"),a7=Symbol.for("react.profiler"),s7=Symbol.for("react.provider"),i7=Symbol.for("react.context"),o7=Symbol.for("react.forward_ref"),l7=Symbol.for("react.suspense"),c7=Symbol.for("react.memo"),u7=Symbol.for("react.lazy"),gE=Symbol.iterator;function d7(e){return e===null||typeof e!="object"?null:(e=gE&&e[gE]||e["@@iterator"],typeof e=="function"?e:null)}var L4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$4=Object.assign,B4={};function Lf(e,t,r){this.props=e,this.context=t,this.refs=B4,this.updater=r||L4}Lf.prototype.isReactComponent={};Lf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U4(){}U4.prototype=Lf.prototype;function RS(e,t,r){this.props=e,this.context=t,this.refs=B4,this.updater=r||L4}var FS=RS.prototype=new U4;FS.constructor=RS;$4(FS,Lf.prototype);FS.isPureReactComponent=!0;var xE=Array.isArray,W4=Object.prototype.hasOwnProperty,LS={current:null},V4={key:!0,ref:!0,__self:!0,__source:!0};function H4(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)W4.call(t,n)&&!V4.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Kp,type:e,key:i,ref:o,props:a,_owner:LS.current}}function f7(e,t){return{$$typeof:Kp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $S(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kp}function h7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vE=/\/+/g;function z1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h7(""+e.key):t.toString(36)}function Ag(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kp:case t7:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+z1(o,0):n,xE(a)?(r="",e!=null&&(r=e.replace(vE,"$&/")+"/"),Ag(a,t,r,"",function(u){return u})):a!=null&&($S(a)&&(a=f7(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(vE,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",xE(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+z1(i,l);o+=Ag(i,t,r,c,a)}else if(c=d7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+z1(i,l++),o+=Ag(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function k0(e,t,r){if(e==null)return e;var n=[],a=0;return Ag(e,n,"","",function(i){return t.call(r,i,a++)}),n}function m7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ba={current:null},Cg={transition:null},p7={ReactCurrentDispatcher:ba,ReactCurrentBatchConfig:Cg,ReactCurrentOwner:LS};function z4(){throw Error("act(...) is not supported in production builds of React.")}Ht.Children={map:k0,forEach:function(e,t,r){k0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return k0(e,function(){t++}),t},toArray:function(e){return k0(e,function(t){return t})||[]},only:function(e){if(!$S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ht.Component=Lf;Ht.Fragment=r7;Ht.Profiler=a7;Ht.PureComponent=RS;Ht.StrictMode=n7;Ht.Suspense=l7;Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p7;Ht.act=z4;Ht.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$4({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=LS.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)W4.call(t,c)&&!V4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Kp,type:e.type,key:a,ref:i,props:n,_owner:o}};Ht.createContext=function(e){return e={$$typeof:i7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s7,_context:e},e.Consumer=e};Ht.createElement=H4;Ht.createFactory=function(e){var t=H4.bind(null,e);return t.type=e,t};Ht.createRef=function(){return{current:null}};Ht.forwardRef=function(e){return{$$typeof:o7,render:e}};Ht.isValidElement=$S;Ht.lazy=function(e){return{$$typeof:u7,_payload:{_status:-1,_result:e},_init:m7}};Ht.memo=function(e,t){return{$$typeof:c7,type:e,compare:t===void 0?null:t}};Ht.startTransition=function(e){var t=Cg.transition;Cg.transition={};try{e()}finally{Cg.transition=t}};Ht.unstable_act=z4;Ht.useCallback=function(e,t){return ba.current.useCallback(e,t)};Ht.useContext=function(e){return ba.current.useContext(e)};Ht.useDebugValue=function(){};Ht.useDeferredValue=function(e){return ba.current.useDeferredValue(e)};Ht.useEffect=function(e,t){return ba.current.useEffect(e,t)};Ht.useId=function(){return ba.current.useId()};Ht.useImperativeHandle=function(e,t,r){return ba.current.useImperativeHandle(e,t,r)};Ht.useInsertionEffect=function(e,t){return ba.current.useInsertionEffect(e,t)};Ht.useLayoutEffect=function(e,t){return ba.current.useLayoutEffect(e,t)};Ht.useMemo=function(e,t){return ba.current.useMemo(e,t)};Ht.useReducer=function(e,t,r){return ba.current.useReducer(e,t,r)};Ht.useRef=function(e){return ba.current.useRef(e)};Ht.useState=function(e){return ba.current.useState(e)};Ht.useSyncExternalStore=function(e,t,r){return ba.current.useSyncExternalStore(e,t,r)};Ht.useTransition=function(){return ba.current.useTransition()};Ht.version="18.3.1";F4.exports=Ht;var T=F4.exports;const se=yr(T),q4=e7({__proto__:null,default:se},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g7=T,x7=Symbol.for("react.element"),v7=Symbol.for("react.fragment"),y7=Object.prototype.hasOwnProperty,w7=g7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b7={key:!0,ref:!0,__self:!0,__source:!0};function K4(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)y7.call(t,n)&&!b7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:x7,type:e,key:i,ref:o,props:a,_owner:w7.current}}ey.Fragment=v7;ey.jsx=K4;ey.jsxs=K4;R4.exports=ey;var s=R4.exports,G4={exports:{}},ss={},Y4={exports:{}},X4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,R){var z=C.length;C.push(R);e:for(;0<z;){var J=z-1>>>1,U=C[J];if(0<a(U,R))C[J]=R,C[z]=U,z=J;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var R=C[0],z=C.pop();if(z!==R){C[0]=z;e:for(var J=0,U=C.length,q=U>>>1;J<q;){var Y=2*(J+1)-1,Q=C[Y],Z=Y+1,ue=C[Z];if(0>a(Q,z))Z<U&&0>a(ue,Q)?(C[J]=ue,C[Z]=z,J=Z):(C[J]=Q,C[Y]=z,J=Y);else if(Z<U&&0>a(ue,z))C[J]=ue,C[Z]=z,J=Z;else break e}}return R}function a(C,R){var z=C.sortIndex-R.sortIndex;return z!==0?z:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,x=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=C)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function y(C){if(p=!1,w(C),!x)if(r(c)!==null)x=!0,I(j);else{var R=r(u);R!==null&&M(y,R.startTime-C)}}function j(C,R){x=!1,p&&(p=!1,b(S),S=-1),m=!0;var z=h;try{for(w(R),f=r(c);f!==null&&(!(f.expirationTime>R)||C&&!F());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var U=J(f.expirationTime<=R);R=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),w(R)}else n(c);f=r(c)}if(f!==null)var q=!0;else{var Y=r(u);Y!==null&&M(y,Y.startTime-R),q=!1}return q}finally{f=null,h=z,m=!1}}var N=!1,E=null,S=-1,_=5,D=-1;function F(){return!(e.unstable_now()-D<_)}function O(){if(E!==null){var C=e.unstable_now();D=C;var R=!0;try{R=E(!0,C)}finally{R?L():(N=!1,E=null)}}else N=!1}var L;if(typeof g=="function")L=function(){g(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,P=k.port2;k.port1.onmessage=O,L=function(){P.postMessage(null)}}else L=function(){v(O,0)};function I(C){E=C,N||(N=!0,L())}function M(C,R){S=v(function(){C(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,I(j))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var z=h;h=R;try{return C()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var z=h;h=C;try{return R()}finally{h=z}},e.unstable_scheduleCallback=function(C,R,z){var J=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,C={id:d++,callback:R,priorityLevel:C,startTime:z,expirationTime:U,sortIndex:-1},z>J?(C.sortIndex=z,t(u,C),r(c)===null&&C===r(u)&&(p?(b(S),S=-1):p=!0,M(y,z-J))):(C.sortIndex=U,t(c,C),x||m||(x=!0,I(j))),C},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(C){var R=h;return function(){var z=h;h=R;try{return C.apply(this,arguments)}finally{h=z}}}})(X4);Y4.exports=X4;var j7=Y4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N7=T,rs=j7;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q4=new Set,vm={};function yu(e,t){Zd(e,t),Zd(e+"Capture",t)}function Zd(e,t){for(vm[e]=t,e=0;e<t.length;e++)Q4.add(t[e])}var Ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cb=Object.prototype.hasOwnProperty,S7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yE={},wE={};function _7(e){return Cb.call(wE,e)?!0:Cb.call(yE,e)?!1:S7.test(e)?wE[e]=!0:(yE[e]=!0,!1)}function T7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E7(e,t,r,n){if(t===null||typeof t>"u"||T7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ja(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ln[e]=new ja(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ln[t]=new ja(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ln[e]=new ja(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ln[e]=new ja(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ln[e]=new ja(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ln[e]=new ja(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ln[e]=new ja(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ln[e]=new ja(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ln[e]=new ja(e,5,!1,e.toLowerCase(),null,!1,!1)});var BS=/[\-:]([a-z])/g;function US(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(BS,US);Ln[t]=new ja(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(BS,US);Ln[t]=new ja(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(BS,US);Ln[t]=new ja(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ln[e]=new ja(e,1,!1,e.toLowerCase(),null,!1,!1)});Ln.xlinkHref=new ja("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ln[e]=new ja(e,1,!1,e.toLowerCase(),null,!0,!0)});function WS(e,t,r,n){var a=Ln.hasOwnProperty(t)?Ln[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E7(t,r,a,n)&&(r=null),n||a===null?_7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Uo=N7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),rd=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),VS=Symbol.for("react.strict_mode"),Db=Symbol.for("react.profiler"),Z4=Symbol.for("react.provider"),J4=Symbol.for("react.context"),HS=Symbol.for("react.forward_ref"),kb=Symbol.for("react.suspense"),Ob=Symbol.for("react.suspense_list"),zS=Symbol.for("react.memo"),rl=Symbol.for("react.lazy"),eI=Symbol.for("react.offscreen"),bE=Symbol.iterator;function hh(e){return e===null||typeof e!="object"?null:(e=bE&&e[bE]||e["@@iterator"],typeof e=="function"?e:null)}var Fr=Object.assign,q1;function $h(e){if(q1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);q1=t&&t[1]||""}return`
`+q1+e}var K1=!1;function G1(e,t){if(!e||K1)return"";K1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{K1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$h(e):""}function A7(e){switch(e.tag){case 5:return $h(e.type);case 16:return $h("Lazy");case 13:return $h("Suspense");case 19:return $h("SuspenseList");case 0:case 2:case 15:return e=G1(e.type,!1),e;case 11:return e=G1(e.type.render,!1),e;case 1:return e=G1(e.type,!0),e;default:return""}}function Pb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nd:return"Fragment";case rd:return"Portal";case Db:return"Profiler";case VS:return"StrictMode";case kb:return"Suspense";case Ob:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J4:return(e.displayName||"Context")+".Consumer";case Z4:return(e._context.displayName||"Context")+".Provider";case HS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zS:return t=e.displayName||null,t!==null?t:Pb(e.type)||"Memo";case rl:t=e._payload,e=e._init;try{return Pb(e(t))}catch{}}return null}function C7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pb(t);case 8:return t===VS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ul(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D7(e){var t=tI(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function P0(e){e._valueTracker||(e._valueTracker=D7(e))}function rI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=tI(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ib(e,t){var r=t.checked;return Fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ul(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nI(e,t){t=t.checked,t!=null&&WS(e,"checked",t,!1)}function Mb(e,t){nI(e,t);var r=Ul(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rb(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rb(e,t.type,Ul(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function NE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rb(e,t,r){(t!=="number"||Gg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bh=Array.isArray;function yd(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ul(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Fb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return Fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function SE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(Bh(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ul(r)}}function aI(e,t){var r=Ul(t.value),n=Ul(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function _E(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var I0,iI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(I0=I0||document.createElement("div"),I0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=I0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ym(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k7=["Webkit","ms","Moz","O"];Object.keys(Xh).forEach(function(e){k7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xh[t]=Xh[e]})});function oI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xh.hasOwnProperty(e)&&Xh[e]?(""+t).trim():t+"px"}function lI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=oI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var O7=Fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $b(e,t){if(t){if(O7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function Bb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ub=null;function qS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wb=null,wd=null,bd=null;function TE(e){if(e=Xp(e)){if(typeof Wb!="function")throw Error(We(280));var t=e.stateNode;t&&(t=sy(t),Wb(e.stateNode,e.type,t))}}function cI(e){wd?bd?bd.push(e):bd=[e]:wd=e}function uI(){if(wd){var e=wd,t=bd;if(bd=wd=null,TE(e),t)for(e=0;e<t.length;e++)TE(t[e])}}function dI(e,t){return e(t)}function fI(){}var Y1=!1;function hI(e,t,r){if(Y1)return e(t,r);Y1=!0;try{return dI(e,t,r)}finally{Y1=!1,(wd!==null||bd!==null)&&(fI(),uI())}}function wm(e,t){var r=e.stateNode;if(r===null)return null;var n=sy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var Vb=!1;if(Ao)try{var mh={};Object.defineProperty(mh,"passive",{get:function(){Vb=!0}}),window.addEventListener("test",mh,mh),window.removeEventListener("test",mh,mh)}catch{Vb=!1}function P7(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qh=!1,Yg=null,Xg=!1,Hb=null,I7={onError:function(e){Qh=!0,Yg=e}};function M7(e,t,r,n,a,i,o,l,c){Qh=!1,Yg=null,P7.apply(I7,arguments)}function R7(e,t,r,n,a,i,o,l,c){if(M7.apply(this,arguments),Qh){if(Qh){var u=Yg;Qh=!1,Yg=null}else throw Error(We(198));Xg||(Xg=!0,Hb=u)}}function wu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function EE(e){if(wu(e)!==e)throw Error(We(188))}function F7(e){var t=e.alternate;if(!t){if(t=wu(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return EE(a),e;if(i===n)return EE(a),t;i=i.sibling}throw Error(We(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(We(189))}}if(r.alternate!==n)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function pI(e){return e=F7(e),e!==null?gI(e):null}function gI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gI(e);if(t!==null)return t;e=e.sibling}return null}var xI=rs.unstable_scheduleCallback,AE=rs.unstable_cancelCallback,L7=rs.unstable_shouldYield,$7=rs.unstable_requestPaint,qr=rs.unstable_now,B7=rs.unstable_getCurrentPriorityLevel,KS=rs.unstable_ImmediatePriority,vI=rs.unstable_UserBlockingPriority,Qg=rs.unstable_NormalPriority,U7=rs.unstable_LowPriority,yI=rs.unstable_IdlePriority,ty=null,Pi=null;function W7(e){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(ty,e,void 0,(e.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:z7,V7=Math.log,H7=Math.LN2;function z7(e){return e>>>=0,e===0?32:31-(V7(e)/H7|0)|0}var M0=64,R0=4194304;function Uh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Uh(l):(i&=o,i!==0&&(n=Uh(i)))}else o=r&~a,o!==0?n=Uh(o):i!==0&&(n=Uh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-si(t),a=1<<r,n|=e[r],t&=~a;return n}function q7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-si(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=q7(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function zb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wI(){var e=M0;return M0<<=1,!(M0&4194240)&&(M0=64),e}function X1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-si(t),e[t]=r}function G7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-si(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function GS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-si(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var mr=0;function bI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jI,YS,NI,SI,_I,qb=!1,F0=[],_l=null,Tl=null,El=null,bm=new Map,jm=new Map,sl=[],Y7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CE(e,t){switch(e){case"focusin":case"focusout":_l=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":bm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jm.delete(t.pointerId)}}function ph(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Xp(t),t!==null&&YS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function X7(e,t,r,n,a){switch(t){case"focusin":return _l=ph(_l,e,t,r,n,a),!0;case"dragenter":return Tl=ph(Tl,e,t,r,n,a),!0;case"mouseover":return El=ph(El,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return bm.set(i,ph(bm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,jm.set(i,ph(jm.get(i)||null,e,t,r,n,a)),!0}return!1}function TI(e){var t=Ac(e.target);if(t!==null){var r=wu(t);if(r!==null){if(t=r.tag,t===13){if(t=mI(r),t!==null){e.blockedOn=t,_I(e.priority,function(){NI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ub=n,r.target.dispatchEvent(n),Ub=null}else return t=Xp(r),t!==null&&YS(t),e.blockedOn=r,!1;t.shift()}return!0}function DE(e,t,r){Dg(e)&&r.delete(t)}function Q7(){qb=!1,_l!==null&&Dg(_l)&&(_l=null),Tl!==null&&Dg(Tl)&&(Tl=null),El!==null&&Dg(El)&&(El=null),bm.forEach(DE),jm.forEach(DE)}function gh(e,t){e.blockedOn===t&&(e.blockedOn=null,qb||(qb=!0,rs.unstable_scheduleCallback(rs.unstable_NormalPriority,Q7)))}function Nm(e){function t(a){return gh(a,e)}if(0<F0.length){gh(F0[0],e);for(var r=1;r<F0.length;r++){var n=F0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(_l!==null&&gh(_l,e),Tl!==null&&gh(Tl,e),El!==null&&gh(El,e),bm.forEach(t),jm.forEach(t),r=0;r<sl.length;r++)n=sl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<sl.length&&(r=sl[0],r.blockedOn===null);)TI(r),r.blockedOn===null&&sl.shift()}var jd=Uo.ReactCurrentBatchConfig,Jg=!0;function Z7(e,t,r,n){var a=mr,i=jd.transition;jd.transition=null;try{mr=1,XS(e,t,r,n)}finally{mr=a,jd.transition=i}}function J7(e,t,r,n){var a=mr,i=jd.transition;jd.transition=null;try{mr=4,XS(e,t,r,n)}finally{mr=a,jd.transition=i}}function XS(e,t,r,n){if(Jg){var a=Kb(e,t,r,n);if(a===null)iw(e,t,n,ex,r),CE(e,n);else if(X7(a,e,t,r,n))n.stopPropagation();else if(CE(e,n),t&4&&-1<Y7.indexOf(e)){for(;a!==null;){var i=Xp(a);if(i!==null&&jI(i),i=Kb(e,t,r,n),i===null&&iw(e,t,n,ex,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else iw(e,t,n,null,r)}}var ex=null;function Kb(e,t,r,n){if(ex=null,e=qS(n),e=Ac(e),e!==null)if(t=wu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ex=e,null}function EI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B7()){case KS:return 1;case vI:return 4;case Qg:case U7:return 16;case yI:return 536870912;default:return 16}default:return 16}}var vl=null,QS=null,kg=null;function AI(){if(kg)return kg;var e,t=QS,r=t.length,n,a="value"in vl?vl.value:vl.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return kg=a.slice(e,1<n?1-n:void 0)}function Og(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function L0(){return!0}function kE(){return!1}function is(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?L0:kE,this.isPropagationStopped=kE,this}return Fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=L0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=L0)},persist:function(){},isPersistent:L0}),t}var $f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZS=is($f),Yp=Fr({},$f,{view:0,detail:0}),eU=is(Yp),Q1,Z1,xh,ry=Fr({},Yp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xh&&(xh&&e.type==="mousemove"?(Q1=e.screenX-xh.screenX,Z1=e.screenY-xh.screenY):Z1=Q1=0,xh=e),Q1)},movementY:function(e){return"movementY"in e?e.movementY:Z1}}),OE=is(ry),tU=Fr({},ry,{dataTransfer:0}),rU=is(tU),nU=Fr({},Yp,{relatedTarget:0}),J1=is(nU),aU=Fr({},$f,{animationName:0,elapsedTime:0,pseudoElement:0}),sU=is(aU),iU=Fr({},$f,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oU=is(iU),lU=Fr({},$f,{data:0}),PE=is(lU),cU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dU[e])?!!t[e]:!1}function JS(){return fU}var hU=Fr({},Yp,{key:function(e){if(e.key){var t=cU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Og(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JS,charCode:function(e){return e.type==="keypress"?Og(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Og(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mU=is(hU),pU=Fr({},ry,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IE=is(pU),gU=Fr({},Yp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JS}),xU=is(gU),vU=Fr({},$f,{propertyName:0,elapsedTime:0,pseudoElement:0}),yU=is(vU),wU=Fr({},ry,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bU=is(wU),jU=[9,13,27,32],e2=Ao&&"CompositionEvent"in window,Zh=null;Ao&&"documentMode"in document&&(Zh=document.documentMode);var NU=Ao&&"TextEvent"in window&&!Zh,CI=Ao&&(!e2||Zh&&8<Zh&&11>=Zh),ME=" ",RE=!1;function DI(e,t){switch(e){case"keyup":return jU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ad=!1;function SU(e,t){switch(e){case"compositionend":return kI(t);case"keypress":return t.which!==32?null:(RE=!0,ME);case"textInput":return e=t.data,e===ME&&RE?null:e;default:return null}}function _U(e,t){if(ad)return e==="compositionend"||!e2&&DI(e,t)?(e=AI(),kg=QS=vl=null,ad=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return CI&&t.locale!=="ko"?null:t.data;default:return null}}var TU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TU[e.type]:t==="textarea"}function OI(e,t,r,n){cI(n),t=tx(t,"onChange"),0<t.length&&(r=new ZS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jh=null,Sm=null;function EU(e){VI(e,0)}function ny(e){var t=od(e);if(rI(t))return e}function AU(e,t){if(e==="change")return t}var PI=!1;if(Ao){var ew;if(Ao){var tw="oninput"in document;if(!tw){var LE=document.createElement("div");LE.setAttribute("oninput","return;"),tw=typeof LE.oninput=="function"}ew=tw}else ew=!1;PI=ew&&(!document.documentMode||9<document.documentMode)}function $E(){Jh&&(Jh.detachEvent("onpropertychange",II),Sm=Jh=null)}function II(e){if(e.propertyName==="value"&&ny(Sm)){var t=[];OI(t,Sm,e,qS(e)),hI(EU,t)}}function CU(e,t,r){e==="focusin"?($E(),Jh=t,Sm=r,Jh.attachEvent("onpropertychange",II)):e==="focusout"&&$E()}function DU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ny(Sm)}function kU(e,t){if(e==="click")return ny(t)}function OU(e,t){if(e==="input"||e==="change")return ny(t)}function PU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ui=typeof Object.is=="function"?Object.is:PU;function _m(e,t){if(ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Cb.call(t,a)||!ui(e[a],t[a]))return!1}return!0}function BE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function UE(e,t){var r=BE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=BE(r)}}function MI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RI(){for(var e=window,t=Gg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gg(e.document)}return t}function t2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IU(e){var t=RI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&MI(r.ownerDocument.documentElement,r)){if(n!==null&&t2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=UE(r,i);var o=UE(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MU=Ao&&"documentMode"in document&&11>=document.documentMode,sd=null,Gb=null,em=null,Yb=!1;function WE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yb||sd==null||sd!==Gg(n)||(n=sd,"selectionStart"in n&&t2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),em&&_m(em,n)||(em=n,n=tx(Gb,"onSelect"),0<n.length&&(t=new ZS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sd)))}function $0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var id={animationend:$0("Animation","AnimationEnd"),animationiteration:$0("Animation","AnimationIteration"),animationstart:$0("Animation","AnimationStart"),transitionend:$0("Transition","TransitionEnd")},rw={},FI={};Ao&&(FI=document.createElement("div").style,"AnimationEvent"in window||(delete id.animationend.animation,delete id.animationiteration.animation,delete id.animationstart.animation),"TransitionEvent"in window||delete id.transitionend.transition);function ay(e){if(rw[e])return rw[e];if(!id[e])return e;var t=id[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in FI)return rw[e]=t[r];return e}var LI=ay("animationend"),$I=ay("animationiteration"),BI=ay("animationstart"),UI=ay("transitionend"),WI=new Map,VE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tc(e,t){WI.set(e,t),yu(t,[e])}for(var nw=0;nw<VE.length;nw++){var aw=VE[nw],RU=aw.toLowerCase(),FU=aw[0].toUpperCase()+aw.slice(1);tc(RU,"on"+FU)}tc(LI,"onAnimationEnd");tc($I,"onAnimationIteration");tc(BI,"onAnimationStart");tc("dblclick","onDoubleClick");tc("focusin","onFocus");tc("focusout","onBlur");tc(UI,"onTransitionEnd");Zd("onMouseEnter",["mouseout","mouseover"]);Zd("onMouseLeave",["mouseout","mouseover"]);Zd("onPointerEnter",["pointerout","pointerover"]);Zd("onPointerLeave",["pointerout","pointerover"]);yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wh));function HE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,R7(n,t,void 0,e),e.currentTarget=null}function VI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;HE(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;HE(a,l,u),i=c}}}if(Xg)throw e=Hb,Xg=!1,Hb=null,e}function Tr(e,t){var r=t[ej];r===void 0&&(r=t[ej]=new Set);var n=e+"__bubble";r.has(n)||(HI(t,e,2,!1),r.add(n))}function sw(e,t,r){var n=0;t&&(n|=4),HI(r,e,n,t)}var B0="_reactListening"+Math.random().toString(36).slice(2);function Tm(e){if(!e[B0]){e[B0]=!0,Q4.forEach(function(r){r!=="selectionchange"&&(LU.has(r)||sw(r,!1,e),sw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[B0]||(t[B0]=!0,sw("selectionchange",!1,t))}}function HI(e,t,r,n){switch(EI(t)){case 1:var a=Z7;break;case 4:a=J7;break;default:a=XS}r=a.bind(null,t,r,e),a=void 0,!Vb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function iw(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ac(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}hI(function(){var u=i,d=qS(r),f=[];e:{var h=WI.get(e);if(h!==void 0){var m=ZS,x=e;switch(e){case"keypress":if(Og(r)===0)break e;case"keydown":case"keyup":m=mU;break;case"focusin":x="focus",m=J1;break;case"focusout":x="blur",m=J1;break;case"beforeblur":case"afterblur":m=J1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=OE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xU;break;case LI:case $I:case BI:m=sU;break;case UI:m=yU;break;case"scroll":m=eU;break;case"wheel":m=bU;break;case"copy":case"cut":case"paste":m=oU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=IE}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var g=u,w;g!==null;){w=g;var y=w.stateNode;if(w.tag===5&&y!==null&&(w=y,b!==null&&(y=wm(g,b),y!=null&&p.push(Em(g,y,w)))),v)break;g=g.return}0<p.length&&(h=new m(h,x,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Ub&&(x=r.relatedTarget||r.fromElement)&&(Ac(x)||x[Co]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Ac(x):null,x!==null&&(v=wu(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(p=OE,y="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=IE,y="onPointerLeave",b="onPointerEnter",g="pointer"),v=m==null?h:od(m),w=x==null?h:od(x),h=new p(y,g+"leave",m,r,d),h.target=v,h.relatedTarget=w,y=null,Ac(d)===u&&(p=new p(b,g+"enter",x,r,d),p.target=w,p.relatedTarget=v,y=p),v=y,m&&x)t:{for(p=m,b=x,g=0,w=p;w;w=Lu(w))g++;for(w=0,y=b;y;y=Lu(y))w++;for(;0<g-w;)p=Lu(p),g--;for(;0<w-g;)b=Lu(b),w--;for(;g--;){if(p===b||b!==null&&p===b.alternate)break t;p=Lu(p),b=Lu(b)}p=null}else p=null;m!==null&&zE(f,h,m,p,!1),x!==null&&v!==null&&zE(f,v,x,p,!0)}}e:{if(h=u?od(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=AU;else if(FE(h))if(PI)j=OU;else{j=DU;var N=CU}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=kU);if(j&&(j=j(e,u))){OI(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Rb(h,"number",h.value)}switch(N=u?od(u):window,e){case"focusin":(FE(N)||N.contentEditable==="true")&&(sd=N,Gb=u,em=null);break;case"focusout":em=Gb=sd=null;break;case"mousedown":Yb=!0;break;case"contextmenu":case"mouseup":case"dragend":Yb=!1,WE(f,r,d);break;case"selectionchange":if(MU)break;case"keydown":case"keyup":WE(f,r,d)}var E;if(e2)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ad?DI(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(CI&&r.locale!=="ko"&&(ad||S!=="onCompositionStart"?S==="onCompositionEnd"&&ad&&(E=AI()):(vl=d,QS="value"in vl?vl.value:vl.textContent,ad=!0)),N=tx(u,S),0<N.length&&(S=new PE(S,e,null,r,d),f.push({event:S,listeners:N}),E?S.data=E:(E=kI(r),E!==null&&(S.data=E)))),(E=NU?SU(e,r):_U(e,r))&&(u=tx(u,"onBeforeInput"),0<u.length&&(d=new PE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}VI(f,t)})}function Em(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tx(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=wm(e,r),i!=null&&n.unshift(Em(e,i,a)),i=wm(e,t),i!=null&&n.push(Em(e,i,a))),e=e.return}return n}function Lu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zE(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=wm(r,i),c!=null&&o.unshift(Em(r,c,l))):a||(c=wm(r,i),c!=null&&o.push(Em(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var $U=/\r\n?/g,BU=/\u0000|\uFFFD/g;function qE(e){return(typeof e=="string"?e:""+e).replace($U,`
`).replace(BU,"")}function U0(e,t,r){if(t=qE(t),qE(e)!==t&&r)throw Error(We(425))}function rx(){}var Xb=null,Qb=null;function Zb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jb=typeof setTimeout=="function"?setTimeout:void 0,UU=typeof clearTimeout=="function"?clearTimeout:void 0,KE=typeof Promise=="function"?Promise:void 0,WU=typeof queueMicrotask=="function"?queueMicrotask:typeof KE<"u"?function(e){return KE.resolve(null).then(e).catch(VU)}:Jb;function VU(e){setTimeout(function(){throw e})}function ow(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Nm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Nm(t)}function Al(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function GE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bf=Math.random().toString(36).slice(2),Ci="__reactFiber$"+Bf,Am="__reactProps$"+Bf,Co="__reactContainer$"+Bf,ej="__reactEvents$"+Bf,HU="__reactListeners$"+Bf,zU="__reactHandles$"+Bf;function Ac(e){var t=e[Ci];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Co]||r[Ci]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=GE(e);e!==null;){if(r=e[Ci])return r;e=GE(e)}return t}e=r,r=e.parentNode}return null}function Xp(e){return e=e[Ci]||e[Co],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function od(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function sy(e){return e[Am]||null}var tj=[],ld=-1;function rc(e){return{current:e}}function Cr(e){0>ld||(e.current=tj[ld],tj[ld]=null,ld--)}function Nr(e,t){ld++,tj[ld]=e.current,e.current=t}var Wl={},ra=rc(Wl),Da=rc(!1),Qc=Wl;function Jd(e,t){var r=e.type.contextTypes;if(!r)return Wl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ka(e){return e=e.childContextTypes,e!=null}function nx(){Cr(Da),Cr(ra)}function YE(e,t,r){if(ra.current!==Wl)throw Error(We(168));Nr(ra,t),Nr(Da,r)}function zI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(We(108,C7(e)||"Unknown",a));return Fr({},r,n)}function ax(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wl,Qc=ra.current,Nr(ra,e),Nr(Da,Da.current),!0}function XE(e,t,r){var n=e.stateNode;if(!n)throw Error(We(169));r?(e=zI(e,t,Qc),n.__reactInternalMemoizedMergedChildContext=e,Cr(Da),Cr(ra),Nr(ra,e)):Cr(Da),Nr(Da,r)}var io=null,iy=!1,lw=!1;function qI(e){io===null?io=[e]:io.push(e)}function qU(e){iy=!0,qI(e)}function nc(){if(!lw&&io!==null){lw=!0;var e=0,t=mr;try{var r=io;for(mr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}io=null,iy=!1}catch(a){throw io!==null&&(io=io.slice(e+1)),xI(KS,nc),a}finally{mr=t,lw=!1}}return null}var cd=[],ud=0,sx=null,ix=0,xs=[],vs=0,Zc=null,fo=1,ho="";function wc(e,t){cd[ud++]=ix,cd[ud++]=sx,sx=e,ix=t}function KI(e,t,r){xs[vs++]=fo,xs[vs++]=ho,xs[vs++]=Zc,Zc=e;var n=fo;e=ho;var a=32-si(n)-1;n&=~(1<<a),r+=1;var i=32-si(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,fo=1<<32-si(t)+a|r<<a|n,ho=i+e}else fo=1<<i|r<<a|n,ho=e}function r2(e){e.return!==null&&(wc(e,1),KI(e,1,0))}function n2(e){for(;e===sx;)sx=cd[--ud],cd[ud]=null,ix=cd[--ud],cd[ud]=null;for(;e===Zc;)Zc=xs[--vs],xs[vs]=null,ho=xs[--vs],xs[vs]=null,fo=xs[--vs],xs[vs]=null}var Ja=null,Qa=null,kr=!1,Ks=null;function GI(e,t){var r=ws(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function QE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ja=e,Qa=Al(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ja=e,Qa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zc!==null?{id:fo,overflow:ho}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ws(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ja=e,Qa=null,!0):!1;default:return!1}}function rj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nj(e){if(kr){var t=Qa;if(t){var r=t;if(!QE(e,t)){if(rj(e))throw Error(We(418));t=Al(r.nextSibling);var n=Ja;t&&QE(e,t)?GI(n,r):(e.flags=e.flags&-4097|2,kr=!1,Ja=e)}}else{if(rj(e))throw Error(We(418));e.flags=e.flags&-4097|2,kr=!1,Ja=e}}}function ZE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ja=e}function W0(e){if(e!==Ja)return!1;if(!kr)return ZE(e),kr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zb(e.type,e.memoizedProps)),t&&(t=Qa)){if(rj(e))throw YI(),Error(We(418));for(;t;)GI(e,t),t=Al(t.nextSibling)}if(ZE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qa=Al(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qa=null}}else Qa=Ja?Al(e.stateNode.nextSibling):null;return!0}function YI(){for(var e=Qa;e;)e=Al(e.nextSibling)}function ef(){Qa=Ja=null,kr=!1}function a2(e){Ks===null?Ks=[e]:Ks.push(e)}var KU=Uo.ReactCurrentBatchConfig;function vh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var n=r.stateNode}if(!n)throw Error(We(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function V0(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function JE(e){var t=e._init;return t(e._payload)}function XI(e){function t(b,g){if(e){var w=b.deletions;w===null?(b.deletions=[g],b.flags|=16):w.push(g)}}function r(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function n(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function a(b,g){return b=Ol(b,g),b.index=0,b.sibling=null,b}function i(b,g,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<g?(b.flags|=2,g):w):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,g,w,y){return g===null||g.tag!==6?(g=pw(w,b.mode,y),g.return=b,g):(g=a(g,w),g.return=b,g)}function c(b,g,w,y){var j=w.type;return j===nd?d(b,g,w.props.children,y,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===rl&&JE(j)===g.type)?(y=a(g,w.props),y.ref=vh(b,g,w),y.return=b,y):(y=$g(w.type,w.key,w.props,null,b.mode,y),y.ref=vh(b,g,w),y.return=b,y)}function u(b,g,w,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=gw(w,b.mode,y),g.return=b,g):(g=a(g,w.children||[]),g.return=b,g)}function d(b,g,w,y,j){return g===null||g.tag!==7?(g=zc(w,b.mode,y,j),g.return=b,g):(g=a(g,w),g.return=b,g)}function f(b,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pw(""+g,b.mode,w),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case O0:return w=$g(g.type,g.key,g.props,null,b.mode,w),w.ref=vh(b,null,g),w.return=b,w;case rd:return g=gw(g,b.mode,w),g.return=b,g;case rl:var y=g._init;return f(b,y(g._payload),w)}if(Bh(g)||hh(g))return g=zc(g,b.mode,w,null),g.return=b,g;V0(b,g)}return null}function h(b,g,w,y){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,g,""+w,y);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case O0:return w.key===j?c(b,g,w,y):null;case rd:return w.key===j?u(b,g,w,y):null;case rl:return j=w._init,h(b,g,j(w._payload),y)}if(Bh(w)||hh(w))return j!==null?null:d(b,g,w,y,null);V0(b,w)}return null}function m(b,g,w,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return b=b.get(w)||null,l(g,b,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case O0:return b=b.get(y.key===null?w:y.key)||null,c(g,b,y,j);case rd:return b=b.get(y.key===null?w:y.key)||null,u(g,b,y,j);case rl:var N=y._init;return m(b,g,w,N(y._payload),j)}if(Bh(y)||hh(y))return b=b.get(w)||null,d(g,b,y,j,null);V0(g,y)}return null}function x(b,g,w,y){for(var j=null,N=null,E=g,S=g=0,_=null;E!==null&&S<w.length;S++){E.index>S?(_=E,E=null):_=E.sibling;var D=h(b,E,w[S],y);if(D===null){E===null&&(E=_);break}e&&E&&D.alternate===null&&t(b,E),g=i(D,g,S),N===null?j=D:N.sibling=D,N=D,E=_}if(S===w.length)return r(b,E),kr&&wc(b,S),j;if(E===null){for(;S<w.length;S++)E=f(b,w[S],y),E!==null&&(g=i(E,g,S),N===null?j=E:N.sibling=E,N=E);return kr&&wc(b,S),j}for(E=n(b,E);S<w.length;S++)_=m(E,b,S,w[S],y),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?S:_.key),g=i(_,g,S),N===null?j=_:N.sibling=_,N=_);return e&&E.forEach(function(F){return t(b,F)}),kr&&wc(b,S),j}function p(b,g,w,y){var j=hh(w);if(typeof j!="function")throw Error(We(150));if(w=j.call(w),w==null)throw Error(We(151));for(var N=j=null,E=g,S=g=0,_=null,D=w.next();E!==null&&!D.done;S++,D=w.next()){E.index>S?(_=E,E=null):_=E.sibling;var F=h(b,E,D.value,y);if(F===null){E===null&&(E=_);break}e&&E&&F.alternate===null&&t(b,E),g=i(F,g,S),N===null?j=F:N.sibling=F,N=F,E=_}if(D.done)return r(b,E),kr&&wc(b,S),j;if(E===null){for(;!D.done;S++,D=w.next())D=f(b,D.value,y),D!==null&&(g=i(D,g,S),N===null?j=D:N.sibling=D,N=D);return kr&&wc(b,S),j}for(E=n(b,E);!D.done;S++,D=w.next())D=m(E,b,S,D.value,y),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?S:D.key),g=i(D,g,S),N===null?j=D:N.sibling=D,N=D);return e&&E.forEach(function(O){return t(b,O)}),kr&&wc(b,S),j}function v(b,g,w,y){if(typeof w=="object"&&w!==null&&w.type===nd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case O0:e:{for(var j=w.key,N=g;N!==null;){if(N.key===j){if(j=w.type,j===nd){if(N.tag===7){r(b,N.sibling),g=a(N,w.props.children),g.return=b,b=g;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===rl&&JE(j)===N.type){r(b,N.sibling),g=a(N,w.props),g.ref=vh(b,N,w),g.return=b,b=g;break e}r(b,N);break}else t(b,N);N=N.sibling}w.type===nd?(g=zc(w.props.children,b.mode,y,w.key),g.return=b,b=g):(y=$g(w.type,w.key,w.props,null,b.mode,y),y.ref=vh(b,g,w),y.return=b,b=y)}return o(b);case rd:e:{for(N=w.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(b,g.sibling),g=a(g,w.children||[]),g.return=b,b=g;break e}else{r(b,g);break}else t(b,g);g=g.sibling}g=gw(w,b.mode,y),g.return=b,b=g}return o(b);case rl:return N=w._init,v(b,g,N(w._payload),y)}if(Bh(w))return x(b,g,w,y);if(hh(w))return p(b,g,w,y);V0(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(b,g.sibling),g=a(g,w),g.return=b,b=g):(r(b,g),g=pw(w,b.mode,y),g.return=b,b=g),o(b)):r(b,g)}return v}var tf=XI(!0),QI=XI(!1),ox=rc(null),lx=null,dd=null,s2=null;function i2(){s2=dd=lx=null}function o2(e){var t=ox.current;Cr(ox),e._currentValue=t}function aj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Nd(e,t){lx=e,s2=dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ta=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(s2!==e)if(e={context:e,memoizedValue:t,next:null},dd===null){if(lx===null)throw Error(We(308));dd=e,lx.dependencies={lanes:0,firstContext:e}}else dd=dd.next=e;return t}var Cc=null;function l2(e){Cc===null?Cc=[e]:Cc.push(e)}function ZI(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,l2(t)):(r.next=a.next,a.next=r),t.interleaved=r,Do(e,n)}function Do(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var nl=!1;function c2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Do(e,r)}return a=n.interleaved,a===null?(t.next=t,l2(n)):(t.next=a.next,a.next=t),n.interleaved=t,Do(e,r)}function Pg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,GS(e,r)}}function eA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cx(e,t,r,n){var a=e.updateQueue;nl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(h=t,m=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=Fr({},f,h);break e;case 2:nl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);eu|=o,e.lanes=o,e.memoizedState=f}}function tA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(We(191,a));a.call(n)}}}var Qp={},Ii=rc(Qp),Cm=rc(Qp),Dm=rc(Qp);function Dc(e){if(e===Qp)throw Error(We(174));return e}function u2(e,t){switch(Nr(Dm,t),Nr(Cm,e),Nr(Ii,Qp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lb(t,e)}Cr(Ii),Nr(Ii,t)}function rf(){Cr(Ii),Cr(Cm),Cr(Dm)}function eM(e){Dc(Dm.current);var t=Dc(Ii.current),r=Lb(t,e.type);t!==r&&(Nr(Cm,e),Nr(Ii,r))}function d2(e){Cm.current===e&&(Cr(Ii),Cr(Cm))}var Mr=rc(0);function ux(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cw=[];function f2(){for(var e=0;e<cw.length;e++)cw[e]._workInProgressVersionPrimary=null;cw.length=0}var Ig=Uo.ReactCurrentDispatcher,uw=Uo.ReactCurrentBatchConfig,Jc=0,Rr=null,sn=null,pn=null,dx=!1,tm=!1,km=0,GU=0;function Bn(){throw Error(We(321))}function h2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ui(e[r],t[r]))return!1;return!0}function m2(e,t,r,n,a,i){if(Jc=i,Rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ig.current=e===null||e.memoizedState===null?ZU:JU,e=r(n,a),tm){i=0;do{if(tm=!1,km=0,25<=i)throw Error(We(301));i+=1,pn=sn=null,t.updateQueue=null,Ig.current=eW,e=r(n,a)}while(tm)}if(Ig.current=fx,t=sn!==null&&sn.next!==null,Jc=0,pn=sn=Rr=null,dx=!1,t)throw Error(We(300));return e}function p2(){var e=km!==0;return km=0,e}function Si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Rr.memoizedState=pn=e:pn=pn.next=e,pn}function Es(){if(sn===null){var e=Rr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=pn===null?Rr.memoizedState:pn.next;if(t!==null)pn=t,sn=e;else{if(e===null)throw Error(We(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},pn===null?Rr.memoizedState=pn=e:pn=pn.next=e}return pn}function Om(e,t){return typeof t=="function"?t(e):t}function dw(e){var t=Es(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=sn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Jc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Rr.lanes|=d,eu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ui(n,t.memoizedState)||(Ta=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Rr.lanes|=i,eu|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fw(e){var t=Es(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ui(i,t.memoizedState)||(Ta=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function tM(){}function rM(e,t){var r=Rr,n=Es(),a=t(),i=!ui(n.memoizedState,a);if(i&&(n.memoizedState=a,Ta=!0),n=n.queue,g2(sM.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||pn!==null&&pn.memoizedState.tag&1){if(r.flags|=2048,Pm(9,aM.bind(null,r,n,a,t),void 0,null),Nn===null)throw Error(We(349));Jc&30||nM(r,t,a)}return a}function nM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Rr.updateQueue,t===null?(t={lastEffect:null,stores:null},Rr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aM(e,t,r,n){t.value=r,t.getSnapshot=n,iM(t)&&oM(e)}function sM(e,t,r){return r(function(){iM(t)&&oM(e)})}function iM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ui(e,r)}catch{return!0}}function oM(e){var t=Do(e,1);t!==null&&ii(t,e,1,-1)}function rA(e){var t=Si();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:e},t.queue=e,e=e.dispatch=QU.bind(null,Rr,e),[t.memoizedState,e]}function Pm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Rr.updateQueue,t===null?(t={lastEffect:null,stores:null},Rr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lM(){return Es().memoizedState}function Mg(e,t,r,n){var a=Si();Rr.flags|=e,a.memoizedState=Pm(1|t,r,void 0,n===void 0?null:n)}function oy(e,t,r,n){var a=Es();n=n===void 0?null:n;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,n!==null&&h2(n,o.deps)){a.memoizedState=Pm(t,r,i,n);return}}Rr.flags|=e,a.memoizedState=Pm(1|t,r,i,n)}function nA(e,t){return Mg(8390656,8,e,t)}function g2(e,t){return oy(2048,8,e,t)}function cM(e,t){return oy(4,2,e,t)}function uM(e,t){return oy(4,4,e,t)}function dM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fM(e,t,r){return r=r!=null?r.concat([e]):null,oy(4,4,dM.bind(null,t,e),r)}function x2(){}function hM(e,t){var r=Es();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&h2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mM(e,t){var r=Es();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&h2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pM(e,t,r){return Jc&21?(ui(r,t)||(r=wI(),Rr.lanes|=r,eu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ta=!0),e.memoizedState=r)}function YU(e,t){var r=mr;mr=r!==0&&4>r?r:4,e(!0);var n=uw.transition;uw.transition={};try{e(!1),t()}finally{mr=r,uw.transition=n}}function gM(){return Es().memoizedState}function XU(e,t,r){var n=kl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xM(e))vM(t,r);else if(r=ZI(e,t,r,n),r!==null){var a=xa();ii(r,e,n,a),yM(r,t,n)}}function QU(e,t,r){var n=kl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xM(e))vM(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ui(l,o)){var c=t.interleaved;c===null?(a.next=a,l2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=ZI(e,t,a,n),r!==null&&(a=xa(),ii(r,e,n,a),yM(r,t,n))}}function xM(e){var t=e.alternate;return e===Rr||t!==null&&t===Rr}function vM(e,t){tm=dx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,GS(e,r)}}var fx={readContext:Ts,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},ZU={readContext:Ts,useCallback:function(e,t){return Si().memoizedState=[e,t===void 0?null:t],e},useContext:Ts,useEffect:nA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Mg(4194308,4,dM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mg(4,2,e,t)},useMemo:function(e,t){var r=Si();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Si();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=XU.bind(null,Rr,e),[n.memoizedState,e]},useRef:function(e){var t=Si();return e={current:e},t.memoizedState=e},useState:rA,useDebugValue:x2,useDeferredValue:function(e){return Si().memoizedState=e},useTransition:function(){var e=rA(!1),t=e[0];return e=YU.bind(null,e[1]),Si().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Rr,a=Si();if(kr){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),Nn===null)throw Error(We(349));Jc&30||nM(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,nA(sM.bind(null,n,i,e),[e]),n.flags|=2048,Pm(9,aM.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Si(),t=Nn.identifierPrefix;if(kr){var r=ho,n=fo;r=(n&~(1<<32-si(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=km++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=GU++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JU={readContext:Ts,useCallback:hM,useContext:Ts,useEffect:g2,useImperativeHandle:fM,useInsertionEffect:cM,useLayoutEffect:uM,useMemo:mM,useReducer:dw,useRef:lM,useState:function(){return dw(Om)},useDebugValue:x2,useDeferredValue:function(e){var t=Es();return pM(t,sn.memoizedState,e)},useTransition:function(){var e=dw(Om)[0],t=Es().memoizedState;return[e,t]},useMutableSource:tM,useSyncExternalStore:rM,useId:gM,unstable_isNewReconciler:!1},eW={readContext:Ts,useCallback:hM,useContext:Ts,useEffect:g2,useImperativeHandle:fM,useInsertionEffect:cM,useLayoutEffect:uM,useMemo:mM,useReducer:fw,useRef:lM,useState:function(){return fw(Om)},useDebugValue:x2,useDeferredValue:function(e){var t=Es();return sn===null?t.memoizedState=e:pM(t,sn.memoizedState,e)},useTransition:function(){var e=fw(Om)[0],t=Es().memoizedState;return[e,t]},useMutableSource:tM,useSyncExternalStore:rM,useId:gM,unstable_isNewReconciler:!1};function Ws(e,t){if(e&&e.defaultProps){t=Fr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ly={isMounted:function(e){return(e=e._reactInternals)?wu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xa(),a=kl(e),i=yo(n,a);i.payload=t,r!=null&&(i.callback=r),t=Cl(e,i,a),t!==null&&(ii(t,e,a,n),Pg(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xa(),a=kl(e),i=yo(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Cl(e,i,a),t!==null&&(ii(t,e,a,n),Pg(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xa(),n=kl(e),a=yo(r,n);a.tag=2,t!=null&&(a.callback=t),t=Cl(e,a,n),t!==null&&(ii(t,e,n,r),Pg(t,e,n))}};function aA(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!_m(r,n)||!_m(a,i):!0}function wM(e,t,r){var n=!1,a=Wl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ts(i):(a=ka(t)?Qc:ra.current,n=t.contextTypes,i=(n=n!=null)?Jd(e,a):Wl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ly,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function sA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ly.enqueueReplaceState(t,t.state,null)}function ij(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},c2(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ts(i):(i=ka(t)?Qc:ra.current,a.context=Jd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(sj(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ly.enqueueReplaceState(a,a.state,null),cx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function nf(e,t){try{var r="",n=t;do r+=A7(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function hw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function oj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tW=typeof WeakMap=="function"?WeakMap:Map;function bM(e,t,r){r=yo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mx||(mx=!0,xj=n),oj(e,t)},r}function jM(e,t,r){r=yo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){oj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){oj(e,t),typeof n!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function iA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new tW;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=pW.bind(null,e,t,r),t.then(e,e))}function oA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lA(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yo(-1,1),t.tag=2,Cl(r,t,1))),r.lanes|=1),e)}var rW=Uo.ReactCurrentOwner,Ta=!1;function fa(e,t,r,n){t.child=e===null?QI(t,null,r,n):tf(t,e.child,r,n)}function cA(e,t,r,n,a){r=r.render;var i=t.ref;return Nd(t,a),n=m2(e,t,r,n,i,a),r=p2(),e!==null&&!Ta?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ko(e,t,a)):(kr&&r&&r2(t),t.flags|=1,fa(e,t,n,a),t.child)}function uA(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!_2(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,NM(e,t,i,n,a)):(e=$g(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:_m,r(o,n)&&e.ref===t.ref)return ko(e,t,a)}return t.flags|=1,e=Ol(i,n),e.ref=t.ref,e.return=t,t.child=e}function NM(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(_m(i,n)&&e.ref===t.ref)if(Ta=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ta=!0);else return t.lanes=e.lanes,ko(e,t,a)}return lj(e,t,r,n,a)}function SM(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(hd,Va),Va|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(hd,Va),Va|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Nr(hd,Va),Va|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Nr(hd,Va),Va|=n;return fa(e,t,a,r),t.child}function _M(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lj(e,t,r,n,a){var i=ka(r)?Qc:ra.current;return i=Jd(t,i),Nd(t,a),r=m2(e,t,r,n,i,a),n=p2(),e!==null&&!Ta?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ko(e,t,a)):(kr&&n&&r2(t),t.flags|=1,fa(e,t,r,a),t.child)}function dA(e,t,r,n,a){if(ka(r)){var i=!0;ax(t)}else i=!1;if(Nd(t,a),t.stateNode===null)Rg(e,t),wM(t,r,n),ij(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ts(u):(u=ka(r)?Qc:ra.current,u=Jd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&sA(t,o,n,u),nl=!1;var h=t.memoizedState;o.state=h,cx(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Da.current||nl?(typeof d=="function"&&(sj(t,r,d,n),c=t.memoizedState),(l=nl||aA(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,JI(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ws(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ts(c):(c=ka(r)?Qc:ra.current,c=Jd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&sA(t,o,n,c),nl=!1,h=t.memoizedState,o.state=h,cx(t,n,o,a);var x=t.memoizedState;l!==f||h!==x||Da.current||nl?(typeof m=="function"&&(sj(t,r,m,n),x=t.memoizedState),(u=nl||aA(t,r,u,n,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return cj(e,t,r,n,i,a)}function cj(e,t,r,n,a,i){_M(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&XE(t,r,!1),ko(e,t,i);n=t.stateNode,rW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=tf(t,e.child,null,i),t.child=tf(t,null,l,i)):fa(e,t,l,i),t.memoizedState=n.state,a&&XE(t,r,!0),t.child}function TM(e){var t=e.stateNode;t.pendingContext?YE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&YE(e,t.context,!1),u2(e,t.containerInfo)}function fA(e,t,r,n,a){return ef(),a2(a),t.flags|=256,fa(e,t,r,n),t.child}var uj={dehydrated:null,treeContext:null,retryLane:0};function dj(e){return{baseLanes:e,cachePool:null,transitions:null}}function EM(e,t,r){var n=t.pendingProps,a=Mr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Nr(Mr,a&1),e===null)return nj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=dy(o,n,0,null),e=zc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=dj(r),t.memoizedState=uj,e):v2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return nW(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ol(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ol(l,i):(i=zc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?dj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=uj,n}return i=e.child,e=i.sibling,n=Ol(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function v2(e,t){return t=dy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function H0(e,t,r,n){return n!==null&&a2(n),tf(t,e.child,null,r),e=v2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nW(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=hw(Error(We(422))),H0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=dy({mode:"visible",children:n.children},a,0,null),i=zc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&tf(t,e.child,null,o),t.child.memoizedState=dj(o),t.memoizedState=uj,i);if(!(t.mode&1))return H0(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(We(419)),n=hw(i,n,void 0),H0(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ta||l){if(n=Nn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Do(e,a),ii(n,e,a,-1))}return S2(),n=hw(Error(We(421))),H0(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=gW.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Qa=Al(a.nextSibling),Ja=t,kr=!0,Ks=null,e!==null&&(xs[vs++]=fo,xs[vs++]=ho,xs[vs++]=Zc,fo=e.id,ho=e.overflow,Zc=t),t=v2(t,n.children),t.flags|=4096,t)}function hA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),aj(e.return,t,r)}function mw(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function AM(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(fa(e,t,n.children,r),n=Mr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hA(e,r,t);else if(e.tag===19)hA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nr(Mr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ux(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),mw(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ux(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}mw(t,!0,r,null,i);break;case"together":mw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ko(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),eu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=Ol(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ol(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aW(e,t,r){switch(t.tag){case 3:TM(t),ef();break;case 5:eM(t);break;case 1:ka(t.type)&&ax(t);break;case 4:u2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Nr(ox,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nr(Mr,Mr.current&1),t.flags|=128,null):r&t.child.childLanes?EM(e,t,r):(Nr(Mr,Mr.current&1),e=ko(e,t,r),e!==null?e.sibling:null);Nr(Mr,Mr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return AM(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nr(Mr,Mr.current),n)break;return null;case 22:case 23:return t.lanes=0,SM(e,t,r)}return ko(e,t,r)}var CM,fj,DM,kM;CM=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fj=function(){};DM=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Dc(Ii.current);var i=null;switch(r){case"input":a=Ib(e,a),n=Ib(e,n),i=[];break;case"select":a=Fr({},a,{value:void 0}),n=Fr({},n,{value:void 0}),i=[];break;case"textarea":a=Fb(e,a),n=Fb(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rx)}$b(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Tr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kM=function(e,t,r,n){r!==n&&(t.flags|=4)};function yh(e,t){if(!kr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Un(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function sW(e,t,r){var n=t.pendingProps;switch(n2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(t),null;case 1:return ka(t.type)&&nx(),Un(t),null;case 3:return n=t.stateNode,rf(),Cr(Da),Cr(ra),f2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(W0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ks!==null&&(wj(Ks),Ks=null))),fj(e,t),Un(t),null;case 5:d2(t);var a=Dc(Dm.current);if(r=t.type,e!==null&&t.stateNode!=null)DM(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(We(166));return Un(t),null}if(e=Dc(Ii.current),W0(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ci]=t,n[Am]=i,e=(t.mode&1)!==0,r){case"dialog":Tr("cancel",n),Tr("close",n);break;case"iframe":case"object":case"embed":Tr("load",n);break;case"video":case"audio":for(a=0;a<Wh.length;a++)Tr(Wh[a],n);break;case"source":Tr("error",n);break;case"img":case"image":case"link":Tr("error",n),Tr("load",n);break;case"details":Tr("toggle",n);break;case"input":jE(n,i),Tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Tr("invalid",n);break;case"textarea":SE(n,i),Tr("invalid",n)}$b(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&U0(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&U0(n.textContent,l,e),a=["children",""+l]):vm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Tr("scroll",n)}switch(r){case"input":P0(n),NE(n,i,!0);break;case"textarea":P0(n),_E(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=rx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ci]=t,e[Am]=n,CM(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bb(r,n),r){case"dialog":Tr("cancel",e),Tr("close",e),a=n;break;case"iframe":case"object":case"embed":Tr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Wh.length;a++)Tr(Wh[a],e);a=n;break;case"source":Tr("error",e),a=n;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),a=n;break;case"details":Tr("toggle",e),a=n;break;case"input":jE(e,n),a=Ib(e,n),Tr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Fr({},n,{value:void 0}),Tr("invalid",e);break;case"textarea":SE(e,n),a=Fb(e,n),Tr("invalid",e);break;default:a=n}$b(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?lI(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iI(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ym(e,c):typeof c=="number"&&ym(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Tr("scroll",e):c!=null&&WS(e,i,c,o))}switch(r){case"input":P0(e),NE(e,n,!1);break;case"textarea":P0(e),_E(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ul(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?yd(e,!!n.multiple,i,!1):n.defaultValue!=null&&yd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=rx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Un(t),null;case 6:if(e&&t.stateNode!=null)kM(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(We(166));if(r=Dc(Dm.current),Dc(Ii.current),W0(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ci]=t,(i=n.nodeValue!==r)&&(e=Ja,e!==null))switch(e.tag){case 3:U0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&U0(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ci]=t,t.stateNode=n}return Un(t),null;case 13:if(Cr(Mr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kr&&Qa!==null&&t.mode&1&&!(t.flags&128))YI(),ef(),t.flags|=98560,i=!1;else if(i=W0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(We(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(We(317));i[Ci]=t}else ef(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Un(t),i=!1}else Ks!==null&&(wj(Ks),Ks=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Mr.current&1?ln===0&&(ln=3):S2())),t.updateQueue!==null&&(t.flags|=4),Un(t),null);case 4:return rf(),fj(e,t),e===null&&Tm(t.stateNode.containerInfo),Un(t),null;case 10:return o2(t.type._context),Un(t),null;case 17:return ka(t.type)&&nx(),Un(t),null;case 19:if(Cr(Mr),i=t.memoizedState,i===null)return Un(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)yh(i,!1);else{if(ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ux(e),o!==null){for(t.flags|=128,yh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nr(Mr,Mr.current&1|2),t.child}e=e.sibling}i.tail!==null&&qr()>af&&(t.flags|=128,n=!0,yh(i,!1),t.lanes=4194304)}else{if(!n)if(e=ux(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!kr)return Un(t),null}else 2*qr()-i.renderingStartTime>af&&r!==1073741824&&(t.flags|=128,n=!0,yh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qr(),t.sibling=null,r=Mr.current,Nr(Mr,n?r&1|2:r&1),t):(Un(t),null);case 22:case 23:return N2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Va&1073741824&&(Un(t),t.subtreeFlags&6&&(t.flags|=8192)):Un(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function iW(e,t){switch(n2(t),t.tag){case 1:return ka(t.type)&&nx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rf(),Cr(Da),Cr(ra),f2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return d2(t),null;case 13:if(Cr(Mr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));ef()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Cr(Mr),null;case 4:return rf(),null;case 10:return o2(t.type._context),null;case 22:case 23:return N2(),null;case 24:return null;default:return null}}var z0=!1,qn=!1,oW=typeof WeakSet=="function"?WeakSet:Set,ot=null;function fd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Br(e,t,n)}else r.current=null}function hj(e,t,r){try{r()}catch(n){Br(e,t,n)}}var mA=!1;function lW(e,t){if(Xb=Jg,e=RI(),t2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qb={focusedElem:e,selectionRange:r},Jg=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,v=x.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ws(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(y){Br(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return x=mA,mA=!1,x}function rm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&hj(t,r,i)}a=a.next}while(a!==n)}}function cy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function OM(e){var t=e.alternate;t!==null&&(e.alternate=null,OM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ci],delete t[Am],delete t[ej],delete t[HU],delete t[zU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PM(e){return e.tag===5||e.tag===3||e.tag===4}function pA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rx));else if(n!==4&&(e=e.child,e!==null))for(pj(e,t,r),e=e.sibling;e!==null;)pj(e,t,r),e=e.sibling}function gj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gj(e,t,r),e=e.sibling;e!==null;)gj(e,t,r),e=e.sibling}var kn=null,zs=!1;function Yo(e,t,r){for(r=r.child;r!==null;)IM(e,t,r),r=r.sibling}function IM(e,t,r){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(ty,r)}catch{}switch(r.tag){case 5:qn||fd(r,t);case 6:var n=kn,a=zs;kn=null,Yo(e,t,r),kn=n,zs=a,kn!==null&&(zs?(e=kn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kn.removeChild(r.stateNode));break;case 18:kn!==null&&(zs?(e=kn,r=r.stateNode,e.nodeType===8?ow(e.parentNode,r):e.nodeType===1&&ow(e,r),Nm(e)):ow(kn,r.stateNode));break;case 4:n=kn,a=zs,kn=r.stateNode.containerInfo,zs=!0,Yo(e,t,r),kn=n,zs=a;break;case 0:case 11:case 14:case 15:if(!qn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hj(r,t,o),a=a.next}while(a!==n)}Yo(e,t,r);break;case 1:if(!qn&&(fd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Br(r,t,l)}Yo(e,t,r);break;case 21:Yo(e,t,r);break;case 22:r.mode&1?(qn=(n=qn)||r.memoizedState!==null,Yo(e,t,r),qn=n):Yo(e,t,r);break;default:Yo(e,t,r)}}function gA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new oW),t.forEach(function(n){var a=xW.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Fs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:kn=l.stateNode,zs=!1;break e;case 3:kn=l.stateNode.containerInfo,zs=!0;break e;case 4:kn=l.stateNode.containerInfo,zs=!0;break e}l=l.return}if(kn===null)throw Error(We(160));IM(i,o,a),kn=null,zs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Br(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)MM(t,e),t=t.sibling}function MM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Fs(t,e),bi(e),n&4){try{rm(3,e,e.return),cy(3,e)}catch(p){Br(e,e.return,p)}try{rm(5,e,e.return)}catch(p){Br(e,e.return,p)}}break;case 1:Fs(t,e),bi(e),n&512&&r!==null&&fd(r,r.return);break;case 5:if(Fs(t,e),bi(e),n&512&&r!==null&&fd(r,r.return),e.flags&32){var a=e.stateNode;try{ym(a,"")}catch(p){Br(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&nI(a,i),Bb(l,o);var u=Bb(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?lI(a,f):d==="dangerouslySetInnerHTML"?iI(a,f):d==="children"?ym(a,f):WS(a,d,f,u)}switch(l){case"input":Mb(a,i);break;case"textarea":aI(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yd(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?yd(a,!!i.multiple,i.defaultValue,!0):yd(a,!!i.multiple,i.multiple?[]:"",!1))}a[Am]=i}catch(p){Br(e,e.return,p)}}break;case 6:if(Fs(t,e),bi(e),n&4){if(e.stateNode===null)throw Error(We(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Br(e,e.return,p)}}break;case 3:if(Fs(t,e),bi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nm(t.containerInfo)}catch(p){Br(e,e.return,p)}break;case 4:Fs(t,e),bi(e);break;case 13:Fs(t,e),bi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(b2=qr())),n&4&&gA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(qn=(u=qn)||d,Fs(t,e),qn=u):Fs(t,e),bi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(f=ot=d;ot!==null;){switch(h=ot,m=h.child,h.tag){case 0:case 11:case 14:case 15:rm(4,h,h.return);break;case 1:fd(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Br(n,r,p)}}break;case 5:fd(h,h.return);break;case 22:if(h.memoizedState!==null){vA(f);continue}}m!==null?(m.return=h,ot=m):vA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=oI("display",o))}catch(p){Br(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Br(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fs(t,e),bi(e),n&4&&gA(e);break;case 21:break;default:Fs(t,e),bi(e)}}function bi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PM(r)){var n=r;break e}r=r.return}throw Error(We(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ym(a,""),n.flags&=-33);var i=pA(e);gj(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=pA(e);pj(e,l,o);break;default:throw Error(We(161))}}catch(c){Br(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cW(e,t,r){ot=e,RM(e)}function RM(e,t,r){for(var n=(e.mode&1)!==0;ot!==null;){var a=ot,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||z0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||qn;l=z0;var u=qn;if(z0=o,(qn=c)&&!u)for(ot=a;ot!==null;)o=ot,c=o.child,o.tag===22&&o.memoizedState!==null?yA(a):c!==null?(c.return=o,ot=c):yA(a);for(;i!==null;)ot=i,RM(i),i=i.sibling;ot=a,z0=l,qn=u}xA(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ot=i):xA(e)}}function xA(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qn||cy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ws(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tA(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tA(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}qn||t.flags&512&&mj(t)}catch(h){Br(t,t.return,h)}}if(t===e){ot=null;break}if(r=t.sibling,r!==null){r.return=t.return,ot=r;break}ot=t.return}}function vA(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ot=r;break}ot=t.return}}function yA(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cy(4,t)}catch(c){Br(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Br(t,a,c)}}var i=t.return;try{mj(t)}catch(c){Br(t,i,c)}break;case 5:var o=t.return;try{mj(t)}catch(c){Br(t,o,c)}}}catch(c){Br(t,t.return,c)}if(t===e){ot=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ot=l;break}ot=t.return}}var uW=Math.ceil,hx=Uo.ReactCurrentDispatcher,y2=Uo.ReactCurrentOwner,Ns=Uo.ReactCurrentBatchConfig,Xt=0,Nn=null,Zr=null,Rn=0,Va=0,hd=rc(0),ln=0,Im=null,eu=0,uy=0,w2=0,nm=null,_a=null,b2=0,af=1/0,ao=null,mx=!1,xj=null,Dl=null,q0=!1,yl=null,px=0,am=0,vj=null,Fg=-1,Lg=0;function xa(){return Xt&6?qr():Fg!==-1?Fg:Fg=qr()}function kl(e){return e.mode&1?Xt&2&&Rn!==0?Rn&-Rn:KU.transition!==null?(Lg===0&&(Lg=wI()),Lg):(e=mr,e!==0||(e=window.event,e=e===void 0?16:EI(e.type)),e):1}function ii(e,t,r,n){if(50<am)throw am=0,vj=null,Error(We(185));Gp(e,r,n),(!(Xt&2)||e!==Nn)&&(e===Nn&&(!(Xt&2)&&(uy|=r),ln===4&&il(e,Rn)),Oa(e,n),r===1&&Xt===0&&!(t.mode&1)&&(af=qr()+500,iy&&nc()))}function Oa(e,t){var r=e.callbackNode;K7(e,t);var n=Zg(e,e===Nn?Rn:0);if(n===0)r!==null&&AE(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&AE(r),t===1)e.tag===0?qU(wA.bind(null,e)):qI(wA.bind(null,e)),WU(function(){!(Xt&6)&&nc()}),r=null;else{switch(bI(n)){case 1:r=KS;break;case 4:r=vI;break;case 16:r=Qg;break;case 536870912:r=yI;break;default:r=Qg}r=HM(r,FM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function FM(e,t){if(Fg=-1,Lg=0,Xt&6)throw Error(We(327));var r=e.callbackNode;if(Sd()&&e.callbackNode!==r)return null;var n=Zg(e,e===Nn?Rn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gx(e,n);else{t=n;var a=Xt;Xt|=2;var i=$M();(Nn!==e||Rn!==t)&&(ao=null,af=qr()+500,Hc(e,t));do try{hW();break}catch(l){LM(e,l)}while(!0);i2(),hx.current=i,Xt=a,Zr!==null?t=0:(Nn=null,Rn=0,t=ln)}if(t!==0){if(t===2&&(a=zb(e),a!==0&&(n=a,t=yj(e,a))),t===1)throw r=Im,Hc(e,0),il(e,n),Oa(e,qr()),r;if(t===6)il(e,n);else{if(a=e.current.alternate,!(n&30)&&!dW(a)&&(t=gx(e,n),t===2&&(i=zb(e),i!==0&&(n=i,t=yj(e,i))),t===1))throw r=Im,Hc(e,0),il(e,n),Oa(e,qr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(We(345));case 2:bc(e,_a,ao);break;case 3:if(il(e,n),(n&130023424)===n&&(t=b2+500-qr(),10<t)){if(Zg(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){xa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Jb(bc.bind(null,e,_a,ao),t);break}bc(e,_a,ao);break;case 4:if(il(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-si(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=qr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uW(n/1960))-n,10<n){e.timeoutHandle=Jb(bc.bind(null,e,_a,ao),n);break}bc(e,_a,ao);break;case 5:bc(e,_a,ao);break;default:throw Error(We(329))}}}return Oa(e,qr()),e.callbackNode===r?FM.bind(null,e):null}function yj(e,t){var r=nm;return e.current.memoizedState.isDehydrated&&(Hc(e,t).flags|=256),e=gx(e,t),e!==2&&(t=_a,_a=r,t!==null&&wj(t)),e}function wj(e){_a===null?_a=e:_a.push.apply(_a,e)}function dW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ui(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function il(e,t){for(t&=~w2,t&=~uy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-si(t),n=1<<r;e[r]=-1,t&=~n}}function wA(e){if(Xt&6)throw Error(We(327));Sd();var t=Zg(e,0);if(!(t&1))return Oa(e,qr()),null;var r=gx(e,t);if(e.tag!==0&&r===2){var n=zb(e);n!==0&&(t=n,r=yj(e,n))}if(r===1)throw r=Im,Hc(e,0),il(e,t),Oa(e,qr()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,_a,ao),Oa(e,qr()),null}function j2(e,t){var r=Xt;Xt|=1;try{return e(t)}finally{Xt=r,Xt===0&&(af=qr()+500,iy&&nc())}}function tu(e){yl!==null&&yl.tag===0&&!(Xt&6)&&Sd();var t=Xt;Xt|=1;var r=Ns.transition,n=mr;try{if(Ns.transition=null,mr=1,e)return e()}finally{mr=n,Ns.transition=r,Xt=t,!(Xt&6)&&nc()}}function N2(){Va=hd.current,Cr(hd)}function Hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,UU(r)),Zr!==null)for(r=Zr.return;r!==null;){var n=r;switch(n2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nx();break;case 3:rf(),Cr(Da),Cr(ra),f2();break;case 5:d2(n);break;case 4:rf();break;case 13:Cr(Mr);break;case 19:Cr(Mr);break;case 10:o2(n.type._context);break;case 22:case 23:N2()}r=r.return}if(Nn=e,Zr=e=Ol(e.current,null),Rn=Va=t,ln=0,Im=null,w2=uy=eu=0,_a=nm=null,Cc!==null){for(t=0;t<Cc.length;t++)if(r=Cc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Cc=null}return e}function LM(e,t){do{var r=Zr;try{if(i2(),Ig.current=fx,dx){for(var n=Rr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}dx=!1}if(Jc=0,pn=sn=Rr=null,tm=!1,km=0,y2.current=null,r===null||r.return===null){ln=1,Im=t,Zr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Rn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=oA(o);if(m!==null){m.flags&=-257,lA(m,o,l,i,t),m.mode&1&&iA(i,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){iA(i,u,t),S2();break e}c=Error(We(426))}}else if(kr&&l.mode&1){var v=oA(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),lA(v,o,l,i,t),a2(nf(c,l));break e}}i=c=nf(c,l),ln!==4&&(ln=2),nm===null?nm=[i]:nm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=bM(i,c,t);eA(i,b);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dl===null||!Dl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=jM(i,l,t);eA(i,y);break e}}i=i.return}while(i!==null)}UM(r)}catch(j){t=j,Zr===r&&r!==null&&(Zr=r=r.return);continue}break}while(!0)}function $M(){var e=hx.current;return hx.current=fx,e===null?fx:e}function S2(){(ln===0||ln===3||ln===2)&&(ln=4),Nn===null||!(eu&268435455)&&!(uy&268435455)||il(Nn,Rn)}function gx(e,t){var r=Xt;Xt|=2;var n=$M();(Nn!==e||Rn!==t)&&(ao=null,Hc(e,t));do try{fW();break}catch(a){LM(e,a)}while(!0);if(i2(),Xt=r,hx.current=n,Zr!==null)throw Error(We(261));return Nn=null,Rn=0,ln}function fW(){for(;Zr!==null;)BM(Zr)}function hW(){for(;Zr!==null&&!L7();)BM(Zr)}function BM(e){var t=VM(e.alternate,e,Va);e.memoizedProps=e.pendingProps,t===null?UM(e):Zr=t,y2.current=null}function UM(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iW(r,t),r!==null){r.flags&=32767,Zr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ln=6,Zr=null;return}}else if(r=sW(r,t,Va),r!==null){Zr=r;return}if(t=t.sibling,t!==null){Zr=t;return}Zr=t=e}while(t!==null);ln===0&&(ln=5)}function bc(e,t,r){var n=mr,a=Ns.transition;try{Ns.transition=null,mr=1,mW(e,t,r,n)}finally{Ns.transition=a,mr=n}return null}function mW(e,t,r,n){do Sd();while(yl!==null);if(Xt&6)throw Error(We(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(G7(e,i),e===Nn&&(Zr=Nn=null,Rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||q0||(q0=!0,HM(Qg,function(){return Sd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ns.transition,Ns.transition=null;var o=mr;mr=1;var l=Xt;Xt|=4,y2.current=null,lW(e,r),MM(r,e),IU(Qb),Jg=!!Xb,Qb=Xb=null,e.current=r,cW(r),$7(),Xt=l,mr=o,Ns.transition=i}else e.current=r;if(q0&&(q0=!1,yl=e,px=a),i=e.pendingLanes,i===0&&(Dl=null),W7(r.stateNode),Oa(e,qr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(mx)throw mx=!1,e=xj,xj=null,e;return px&1&&e.tag!==0&&Sd(),i=e.pendingLanes,i&1?e===vj?am++:(am=0,vj=e):am=0,nc(),null}function Sd(){if(yl!==null){var e=bI(px),t=Ns.transition,r=mr;try{if(Ns.transition=null,mr=16>e?16:e,yl===null)var n=!1;else{if(e=yl,yl=null,px=0,Xt&6)throw Error(We(331));var a=Xt;for(Xt|=4,ot=e.current;ot!==null;){var i=ot,o=i.child;if(ot.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ot=u;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:rm(8,d,i)}var f=d.child;if(f!==null)f.return=d,ot=f;else for(;ot!==null;){d=ot;var h=d.sibling,m=d.return;if(OM(d),d===u){ot=null;break}if(h!==null){h.return=m,ot=h;break}ot=m}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ot=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ot=o;else e:for(;ot!==null;){if(i=ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rm(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ot=b;break e}ot=i.return}}var g=e.current;for(ot=g;ot!==null;){o=ot;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ot=w;else e:for(o=g;ot!==null;){if(l=ot,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cy(9,l)}}catch(j){Br(l,l.return,j)}if(l===o){ot=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,ot=y;break e}ot=l.return}}if(Xt=a,nc(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(ty,e)}catch{}n=!0}return n}finally{mr=r,Ns.transition=t}}return!1}function bA(e,t,r){t=nf(r,t),t=bM(e,t,1),e=Cl(e,t,1),t=xa(),e!==null&&(Gp(e,1,t),Oa(e,t))}function Br(e,t,r){if(e.tag===3)bA(e,e,r);else for(;t!==null;){if(t.tag===3){bA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dl===null||!Dl.has(n))){e=nf(r,e),e=jM(t,e,1),t=Cl(t,e,1),e=xa(),t!==null&&(Gp(t,1,e),Oa(t,e));break}}t=t.return}}function pW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xa(),e.pingedLanes|=e.suspendedLanes&r,Nn===e&&(Rn&r)===r&&(ln===4||ln===3&&(Rn&130023424)===Rn&&500>qr()-b2?Hc(e,0):w2|=r),Oa(e,t)}function WM(e,t){t===0&&(e.mode&1?(t=R0,R0<<=1,!(R0&130023424)&&(R0=4194304)):t=1);var r=xa();e=Do(e,t),e!==null&&(Gp(e,t,r),Oa(e,r))}function gW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),WM(e,r)}function xW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(We(314))}n!==null&&n.delete(t),WM(e,r)}var VM;VM=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Da.current)Ta=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ta=!1,aW(e,t,r);Ta=!!(e.flags&131072)}else Ta=!1,kr&&t.flags&1048576&&KI(t,ix,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rg(e,t),e=t.pendingProps;var a=Jd(t,ra.current);Nd(t,r),a=m2(null,t,n,e,a,r);var i=p2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ka(n)?(i=!0,ax(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,c2(t),a.updater=ly,t.stateNode=a,a._reactInternals=t,ij(t,n,e,r),t=cj(null,t,n,!0,i,r)):(t.tag=0,kr&&i&&r2(t),fa(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rg(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=yW(n),e=Ws(n,e),a){case 0:t=lj(null,t,n,e,r);break e;case 1:t=dA(null,t,n,e,r);break e;case 11:t=cA(null,t,n,e,r);break e;case 14:t=uA(null,t,n,Ws(n.type,e),r);break e}throw Error(We(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ws(n,a),lj(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ws(n,a),dA(e,t,n,a,r);case 3:e:{if(TM(t),e===null)throw Error(We(387));n=t.pendingProps,i=t.memoizedState,a=i.element,JI(e,t),cx(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=nf(Error(We(423)),t),t=fA(e,t,n,r,a);break e}else if(n!==a){a=nf(Error(We(424)),t),t=fA(e,t,n,r,a);break e}else for(Qa=Al(t.stateNode.containerInfo.firstChild),Ja=t,kr=!0,Ks=null,r=QI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ef(),n===a){t=ko(e,t,r);break e}fa(e,t,n,r)}t=t.child}return t;case 5:return eM(t),e===null&&nj(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Zb(n,a)?o=null:i!==null&&Zb(n,i)&&(t.flags|=32),_M(e,t),fa(e,t,o,r),t.child;case 6:return e===null&&nj(t),null;case 13:return EM(e,t,r);case 4:return u2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=tf(t,null,n,r):fa(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ws(n,a),cA(e,t,n,a,r);case 7:return fa(e,t,t.pendingProps,r),t.child;case 8:return fa(e,t,t.pendingProps.children,r),t.child;case 12:return fa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Nr(ox,n._currentValue),n._currentValue=o,i!==null)if(ui(i.value,o)){if(i.children===a.children&&!Da.current){t=ko(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=yo(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),aj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(We(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),aj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}fa(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Nd(t,r),a=Ts(a),n=n(a),t.flags|=1,fa(e,t,n,r),t.child;case 14:return n=t.type,a=Ws(n,t.pendingProps),a=Ws(n.type,a),uA(e,t,n,a,r);case 15:return NM(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ws(n,a),Rg(e,t),t.tag=1,ka(n)?(e=!0,ax(t)):e=!1,Nd(t,r),wM(t,n,a),ij(t,n,a,r),cj(null,t,n,!0,e,r);case 19:return AM(e,t,r);case 22:return SM(e,t,r)}throw Error(We(156,t.tag))};function HM(e,t){return xI(e,t)}function vW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(e,t,r,n){return new vW(e,t,r,n)}function _2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yW(e){if(typeof e=="function")return _2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===HS)return 11;if(e===zS)return 14}return 2}function Ol(e,t){var r=e.alternate;return r===null?(r=ws(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $g(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")_2(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nd:return zc(r.children,a,i,t);case VS:o=8,a|=8;break;case Db:return e=ws(12,r,t,a|2),e.elementType=Db,e.lanes=i,e;case kb:return e=ws(13,r,t,a),e.elementType=kb,e.lanes=i,e;case Ob:return e=ws(19,r,t,a),e.elementType=Ob,e.lanes=i,e;case eI:return dy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z4:o=10;break e;case J4:o=9;break e;case HS:o=11;break e;case zS:o=14;break e;case rl:o=16,n=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=ws(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function zc(e,t,r,n){return e=ws(7,e,n,t),e.lanes=r,e}function dy(e,t,r,n){return e=ws(22,e,n,t),e.elementType=eI,e.lanes=r,e.stateNode={isHidden:!1},e}function pw(e,t,r){return e=ws(6,e,null,t),e.lanes=r,e}function gw(e,t,r){return t=ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wW(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=X1(0),this.expirationTimes=X1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X1(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function T2(e,t,r,n,a,i,o,l,c){return e=new wW(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ws(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},c2(i),e}function bW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zM(e){if(!e)return Wl;e=e._reactInternals;e:{if(wu(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ka(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(ka(r))return zI(e,r,t)}return t}function qM(e,t,r,n,a,i,o,l,c){return e=T2(r,n,!0,e,a,i,o,l,c),e.context=zM(null),r=e.current,n=xa(),a=kl(r),i=yo(n,a),i.callback=t??null,Cl(r,i,a),e.current.lanes=a,Gp(e,a,n),Oa(e,n),e}function fy(e,t,r,n){var a=t.current,i=xa(),o=kl(a);return r=zM(r),t.context===null?t.context=r:t.pendingContext=r,t=yo(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cl(a,t,o),e!==null&&(ii(e,a,o,i),Pg(e,a,o)),o}function xx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function E2(e,t){jA(e,t),(e=e.alternate)&&jA(e,t)}function jW(){return null}var KM=typeof reportError=="function"?reportError:function(e){console.error(e)};function A2(e){this._internalRoot=e}hy.prototype.render=A2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));fy(e,t,null,null)};hy.prototype.unmount=A2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tu(function(){fy(null,e,null,null)}),t[Co]=null}};function hy(e){this._internalRoot=e}hy.prototype.unstable_scheduleHydration=function(e){if(e){var t=SI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<sl.length&&t!==0&&t<sl[r].priority;r++);sl.splice(r,0,e),r===0&&TI(e)}};function C2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function my(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function NA(){}function NW(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=xx(o);i.call(u)}}var o=qM(t,n,e,0,null,!1,!1,"",NA);return e._reactRootContainer=o,e[Co]=o.current,Tm(e.nodeType===8?e.parentNode:e),tu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=xx(c);l.call(u)}}var c=T2(e,0,!1,null,null,!1,!1,"",NA);return e._reactRootContainer=c,e[Co]=c.current,Tm(e.nodeType===8?e.parentNode:e),tu(function(){fy(t,c,r,n)}),c}function py(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=xx(o);l.call(c)}}fy(t,o,e,a)}else o=NW(r,t,e,a,n);return xx(o)}jI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Uh(t.pendingLanes);r!==0&&(GS(t,r|1),Oa(t,qr()),!(Xt&6)&&(af=qr()+500,nc()))}break;case 13:tu(function(){var n=Do(e,1);if(n!==null){var a=xa();ii(n,e,1,a)}}),E2(e,1)}};YS=function(e){if(e.tag===13){var t=Do(e,134217728);if(t!==null){var r=xa();ii(t,e,134217728,r)}E2(e,134217728)}};NI=function(e){if(e.tag===13){var t=kl(e),r=Do(e,t);if(r!==null){var n=xa();ii(r,e,t,n)}E2(e,t)}};SI=function(){return mr};_I=function(e,t){var r=mr;try{return mr=e,t()}finally{mr=r}};Wb=function(e,t,r){switch(t){case"input":if(Mb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=sy(n);if(!a)throw Error(We(90));rI(n),Mb(n,a)}}}break;case"textarea":aI(e,r);break;case"select":t=r.value,t!=null&&yd(e,!!r.multiple,t,!1)}};dI=j2;fI=tu;var SW={usingClientEntryPoint:!1,Events:[Xp,od,sy,cI,uI,j2]},wh={findFiberByHostInstance:Ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_W={bundleType:wh.bundleType,version:wh.version,rendererPackageName:wh.rendererPackageName,rendererConfig:wh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pI(e),e===null?null:e.stateNode},findFiberByHostInstance:wh.findFiberByHostInstance||jW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K0.isDisabled&&K0.supportsFiber)try{ty=K0.inject(_W),Pi=K0}catch{}}ss.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SW;ss.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C2(t))throw Error(We(200));return bW(e,t,null,r)};ss.createRoot=function(e,t){if(!C2(e))throw Error(We(299));var r=!1,n="",a=KM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=T2(e,1,!1,null,null,r,!1,n,a),e[Co]=t.current,Tm(e.nodeType===8?e.parentNode:e),new A2(t)};ss.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=pI(t),e=e===null?null:e.stateNode,e};ss.flushSync=function(e){return tu(e)};ss.hydrate=function(e,t,r){if(!my(t))throw Error(We(200));return py(null,e,t,!0,r)};ss.hydrateRoot=function(e,t,r){if(!C2(e))throw Error(We(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=KM;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=qM(t,null,e,1,r??null,a,!1,i,o),e[Co]=t.current,Tm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new hy(t)};ss.render=function(e,t,r){if(!my(t))throw Error(We(200));return py(null,e,t,!1,r)};ss.unmountComponentAtNode=function(e){if(!my(e))throw Error(We(40));return e._reactRootContainer?(tu(function(){py(null,null,e,!1,function(){e._reactRootContainer=null,e[Co]=null})}),!0):!1};ss.unstable_batchedUpdates=j2;ss.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!my(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return py(e,t,r,!1,n)};ss.version="18.3.1-next-f1338f8080-20240426";function GM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GM)}catch(e){console.error(e)}}GM(),G4.exports=ss;var bu=G4.exports;const TW=yr(bu);var YM,SA=bu;YM=SA.createRoot,SA.hydrateRoot;function EW(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var XM={exports:{}},QM={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=T;function AW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CW=typeof Object.is=="function"?Object.is:AW,DW=sf.useState,kW=sf.useEffect,OW=sf.useLayoutEffect,PW=sf.useDebugValue;function IW(e,t){var r=t(),n=DW({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return OW(function(){a.value=r,a.getSnapshot=t,xw(a)&&i({inst:a})},[e,r,t]),kW(function(){return xw(a)&&i({inst:a}),e(function(){xw(a)&&i({inst:a})})},[e]),PW(r),r}function xw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CW(e,r)}catch{return!0}}function MW(e,t){return t()}var RW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MW:IW;QM.useSyncExternalStore=sf.useSyncExternalStore!==void 0?sf.useSyncExternalStore:RW;XM.exports=QM;var FW=XM.exports;const LW=q4.useInsertionEffect,$W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZM=$W?T.useLayoutEffect:T.useEffect,BW=LW||ZM,D2=e=>{const t=T.useRef([e,(...r)=>t[0](...r)]).current;return BW(()=>{t[0]=e}),t[1]},UW="popstate",k2="pushState",O2="replaceState",WW="hashchange",_A=[UW,k2,O2,WW],VW=e=>{for(const t of _A)addEventListener(t,e);return()=>{for(const t of _A)removeEventListener(t,e)}},JM=(e,t)=>FW.useSyncExternalStore(VW,e,t),HW=()=>location.search,zW=({ssrSearch:e=""}={})=>JM(HW,()=>e),TA=()=>location.pathname,qW=({ssrPath:e}={})=>JM(TA,e?()=>e:TA),KW=(e,{replace:t=!1,state:r=null}={})=>history[t?O2:k2](r,"",e),GW=(e={})=>[qW(e),KW],EA=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[EA]>"u"){for(const e of[k2,O2]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,EA,{value:!0})}const YW=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",eR=(e="")=>e==="/"?"":e,XW=(e,t)=>e[0]==="~"?e.slice(1):eR(t)+e,QW=(e="",t)=>YW(AA(eR(e)),AA(t)),AA=e=>{try{return decodeURI(e)}catch{return e}},tR={hook:GW,searchHook:zW,parser:EW,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},rR=T.createContext(tR),Uf=()=>T.useContext(rR),nR={},aR=T.createContext(nR),P2=()=>T.useContext(aR),gy=e=>{const[t,r]=e.hook(e);return[QW(e.base,t),D2((n,a)=>r(XW(n,e.base),a))]},ju=()=>gy(Uf()),I2=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},sR=e=>I2(Uf().parser,e,ju()[0]),ZW=({children:e,...t})=>{var d,f;const r=Uf(),n=t.hook?tR:r;let a=n;const[i,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=T.useRef({}),c=l.current,u=c;for(let h in n){const m=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&m!==u[h]&&(l.current=u={...u}),u[h]=m,m!==n[h]&&(a=u)}return T.createElement(rR.Provider,{value:a,children:e})},CA=({children:e,component:t},r)=>t?T.createElement(t,{params:r}):typeof e=="function"?e(r):e,JW=e=>{let t=T.useRef(nR),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},lr=({path:e,nest:t,match:r,...n})=>{const a=Uf(),[i]=gy(a),[o,l,c]=r??I2(a.parser,e,i,t),u=JW({...P2(),...l});if(!o)return null;const d=c?T.createElement(ZW,{base:c},CA(n,u)):CA(n,u);return T.createElement(aR.Provider,{value:u,children:d})},Vh=T.forwardRef((e,t)=>{const r=Uf(),[n,a]=gy(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...m}=e,x=D2(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),a(o,e)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&T.isValidElement(u)?T.cloneElement(u,{onClick:x,href:p}):T.createElement("a",{...m,onClick:x,href:p,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),iR=e=>Array.isArray(e)?e.flatMap(t=>iR(t&&t.type===T.Fragment?t.props.children:t)):[e],eV=({children:e,location:t})=>{const r=Uf(),[n]=gy(r);for(const a of iR(e)){let i=0;if(T.isValidElement(a)&&(i=I2(r.parser,a.props.path,t||n,a.props.nest))[0])return T.cloneElement(a,{match:i})}return null},tV=e=>{const{to:t,href:r=t}=e,[,n]=ju(),a=D2(()=>n(t||r,e));return ZM(()=>{a()},[]),null};var Wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ru=typeof window>"u"||"Deno"in globalThis;function ps(){}function rV(e,t){return typeof e=="function"?e(t):e}function bj(e){return typeof e=="number"&&e>=0&&e!==1/0}function oR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _d(e,t){return typeof e=="function"?e(t):e}function Gs(e,t){return typeof e=="function"?e(t):e}function DA(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==M2(o,t.options))return!1}else if(!Mm(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function kA(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(nu(t.options.mutationKey)!==nu(i))return!1}else if(!Mm(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function M2(e,t){return((t==null?void 0:t.queryKeyHashFn)||nu)(e)}function nu(e){return JSON.stringify(e,(t,r)=>jj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Mm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Mm(e[r],t[r])):!1}function lR(e,t){if(e===t)return e;const r=OA(e)&&OA(t);if(r||jj(e)&&jj(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=lR(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function vx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function OA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function jj(e){if(!PA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!PA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function PA(e){return Object.prototype.toString.call(e)==="[object Object]"}function nV(e){return new Promise(t=>{setTimeout(t,e)})}function Nj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?lR(e,t):t}function aV(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function sV(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var R2=Symbol();function cR(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===R2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Fc,cl,$d,T4,iV=(T4=class extends Wf{constructor(){super();Et(this,Fc);Et(this,cl);Et(this,$d);nt(this,$d,t=>{if(!ru&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){oe(this,cl)||this.setEventListener(oe(this,$d))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,cl))==null||t.call(this),nt(this,cl,void 0))}setEventListener(t){var r;nt(this,$d,t),(r=oe(this,cl))==null||r.call(this),nt(this,cl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){oe(this,Fc)!==t&&(nt(this,Fc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof oe(this,Fc)=="boolean"?oe(this,Fc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fc=new WeakMap,cl=new WeakMap,$d=new WeakMap,T4),F2=new iV,Bd,ul,Ud,E4,oV=(E4=class extends Wf{constructor(){super();Et(this,Bd,!0);Et(this,ul);Et(this,Ud);nt(this,Ud,t=>{if(!ru&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){oe(this,ul)||this.setEventListener(oe(this,Ud))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,ul))==null||t.call(this),nt(this,ul,void 0))}setEventListener(t){var r;nt(this,Ud,t),(r=oe(this,ul))==null||r.call(this),nt(this,ul,t(this.setOnline.bind(this)))}setOnline(t){oe(this,Bd)!==t&&(nt(this,Bd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return oe(this,Bd)}},Bd=new WeakMap,ul=new WeakMap,Ud=new WeakMap,E4),yx=new oV;function Sj(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function lV(e){return Math.min(1e3*2**e,3e4)}function uR(e){return(e??"online")==="online"?yx.isOnline():!0}var dR=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vw(e){return e instanceof dR}function fR(e){let t=!1,r=0,n=!1,a;const i=Sj(),o=p=>{var v;n||(h(new dR(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>F2.isFocused()&&(e.networkMode==="always"||yx.isOnline())&&e.canRun(),d=()=>uR(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var v;a=b=>{(n||u())&&p(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var N;if(n)return;const g=e.retry??(ru?0:3),w=e.retryDelay??lV,y=typeof w=="function"?w(r,b):w,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,b);if(t||!j){h(b);return}r++,(N=e.onFail)==null||N.call(e,r,b),nV(y).then(()=>u()?void 0:m()).then(()=>{t?h(b):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),i)}}function cV(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var on=cV(),Lc,A4,hR=(A4=class{constructor(){Et(this,Lc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bj(this.gcTime)&&nt(this,Lc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ru?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Lc)&&(clearTimeout(oe(this,Lc)),nt(this,Lc,void 0))}},Lc=new WeakMap,A4),Wd,Vd,ms,Wn,Vp,$c,Hs,ro,C4,uV=(C4=class extends hR{constructor(t){super();Et(this,Hs);Et(this,Wd);Et(this,Vd);Et(this,ms);Et(this,Wn);Et(this,Vp);Et(this,$c);nt(this,$c,!1),nt(this,Vp,t.defaultOptions),this.setOptions(t.options),this.observers=[],nt(this,ms,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,nt(this,Wd,dV(this.options)),this.state=t.state??oe(this,Wd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=oe(this,Wn))==null?void 0:t.promise}setOptions(t){this.options={...oe(this,Vp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,ms).remove(this)}setData(t,r){const n=Nj(this.state.data,t,this.options);return Lt(this,Hs,ro).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Lt(this,Hs,ro).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=oe(this,Wn))==null?void 0:n.promise;return(a=oe(this,Wn))==null||a.cancel(t),r?r.then(ps).catch(ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Wd))}isActive(){return this.observers.some(t=>Gs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===R2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!oR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=oe(this,Wn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=oe(this,Wn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),oe(this,ms).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(oe(this,Wn)&&(oe(this,$c)?oe(this,Wn).cancel({revert:!0}):oe(this,Wn).cancelRetry()),this.scheduleGc()),oe(this,ms).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Hs,ro).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Wn))return oe(this,Wn).continueRetry(),oe(this,Wn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(nt(this,$c,!0),n.signal)})},i=()=>{const f=cR(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),nt(this,$c,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),nt(this,Vd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Lt(this,Hs,ro).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,x,p;vw(f)&&f.silent||Lt(this,Hs,ro).call(this,{type:"error",error:f}),vw(f)||((m=(h=oe(this,ms).config).onError)==null||m.call(h,f,this),(p=(x=oe(this,ms).config).onSettled)==null||p.call(x,this.state.data,f,this)),this.scheduleGc()};return nt(this,Wn,fR({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,x,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(m=(h=oe(this,ms).config).onSuccess)==null||m.call(h,f,this),(p=(x=oe(this,ms).config).onSettled)==null||p.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Lt(this,Hs,ro).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Lt(this,Hs,ro).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Hs,ro).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),oe(this,Wn).start()}},Wd=new WeakMap,Vd=new WeakMap,ms=new WeakMap,Wn=new WeakMap,Vp=new WeakMap,$c=new WeakMap,Hs=new WeakSet,ro=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mR(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return vw(a)&&a.revert&&oe(this,Vd)?{...oe(this,Vd),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),on.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),oe(this,ms).notify({query:this,type:"updated",action:t})})},C4);function mR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dV(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _i,D4,fV=(D4=class extends Wf{constructor(t={}){super();Et(this,_i);this.config=t,nt(this,_i,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??M2(a,r);let o=this.get(i);return o||(o=new uV({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){oe(this,_i).has(t.queryHash)||(oe(this,_i).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=oe(this,_i).get(t.queryHash);r&&(t.destroy(),r===t&&oe(this,_i).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){on.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return oe(this,_i).get(t)}getAll(){return[...oe(this,_i).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>DA(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>DA(t,n)):r}notify(t){on.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){on.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_i=new WeakMap,D4),Ti,la,Bc,Ei,el,k4,hV=(k4=class extends hR{constructor(t){super();Et(this,Ei);Et(this,Ti);Et(this,la);Et(this,Bc);this.mutationId=t.mutationId,nt(this,la,t.mutationCache),nt(this,Ti,[]),this.state=t.state||pR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){oe(this,Ti).includes(t)||(oe(this,Ti).push(t),this.clearGcTimeout(),oe(this,la).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){nt(this,Ti,oe(this,Ti).filter(r=>r!==t)),this.scheduleGc(),oe(this,la).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){oe(this,Ti).length||(this.state.status==="pending"?this.scheduleGc():oe(this,la).remove(this))}continue(){var t;return((t=oe(this,Bc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,f,h,m,x,p,v,b,g,w,y,j,N,E;nt(this,Bc,fR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,_)=>{Lt(this,Ei,el).call(this,{type:"failed",failureCount:S,error:_})},onPause:()=>{Lt(this,Ei,el).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Ei,el).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,la).canRun(this)}));const r=this.state.status==="pending",n=!oe(this,Bc).canStart();try{if(!r){Lt(this,Ei,el).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=oe(this,la).config).onMutate)==null?void 0:i.call(a,t,this));const _=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));_!==this.state.context&&Lt(this,Ei,el).call(this,{type:"pending",context:_,variables:t,isPaused:n})}const S=await oe(this,Bc).start();return await((u=(c=oe(this,la).config).onSuccess)==null?void 0:u.call(c,S,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,S,t,this.state.context)),await((m=(h=oe(this,la).config).onSettled)==null?void 0:m.call(h,S,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,S,null,t,this.state.context)),Lt(this,Ei,el).call(this,{type:"success",data:S}),S}catch(S){try{throw await((b=(v=oe(this,la).config).onError)==null?void 0:b.call(v,S,t,this.state.context,this)),await((w=(g=this.options).onError)==null?void 0:w.call(g,S,t,this.state.context)),await((j=(y=oe(this,la).config).onSettled)==null?void 0:j.call(y,void 0,S,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,S,t,this.state.context)),S}finally{Lt(this,Ei,el).call(this,{type:"error",error:S})}}finally{oe(this,la).runNext(this)}}},Ti=new WeakMap,la=new WeakMap,Bc=new WeakMap,Ei=new WeakSet,el=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),on.batch(()=>{oe(this,Ti).forEach(n=>{n.onMutationUpdate(t)}),oe(this,la).notify({mutation:this,type:"updated",action:t})})},k4);function pR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ua,Hp,O4,mV=(O4=class extends Wf{constructor(t={}){super();Et(this,Ua);Et(this,Hp);this.config=t,nt(this,Ua,new Map),nt(this,Hp,Date.now())}build(t,r,n){const a=new hV({mutationCache:this,mutationId:++C0(this,Hp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=G0(t),n=oe(this,Ua).get(r)??[];n.push(t),oe(this,Ua).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=G0(t);if(oe(this,Ua).has(r)){const a=(n=oe(this,Ua).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?oe(this,Ua).delete(r):oe(this,Ua).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=oe(this,Ua).get(G0(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=oe(this,Ua).get(G0(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){on.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...oe(this,Ua).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kA(r,n))}findAll(t={}){return this.getAll().filter(r=>kA(t,r))}notify(t){on.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return on.batch(()=>Promise.all(t.map(r=>r.continue().catch(ps))))}},Ua=new WeakMap,Hp=new WeakMap,O4);function G0(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function IA(e){return{onFetch:(t,r)=>{var d,f,h,m,x;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=cR(t.options,t.fetchOptions),g=async(w,y,j)=>{if(p)return Promise.reject();if(y==null&&w.pages.length)return Promise.resolve(w);const N={queryKey:t.queryKey,pageParam:y,direction:j?"backward":"forward",meta:t.options.meta};v(N);const E=await b(N),{maxPages:S}=t.options,_=j?sV:aV;return{pages:_(w.pages,E,S),pageParams:_(w.pageParams,y,S)}};if(a&&i.length){const w=a==="backward",y=w?pV:MA,j={pages:i,pageParams:o},N=y(n,j);l=await g(j,N,w)}else{const w=e??i.length;do{const y=c===0?o[0]??n.initialPageParam:MA(n,l);if(c>0&&y==null)break;l=await g(l,y),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function MA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pV(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var $r,dl,fl,Hd,zd,hl,qd,Kd,P4,gV=(P4=class{constructor(e={}){Et(this,$r);Et(this,dl);Et(this,fl);Et(this,Hd);Et(this,zd);Et(this,hl);Et(this,qd);Et(this,Kd);nt(this,$r,e.queryCache||new fV),nt(this,dl,e.mutationCache||new mV),nt(this,fl,e.defaultOptions||{}),nt(this,Hd,new Map),nt(this,zd,new Map),nt(this,hl,0)}mount(){C0(this,hl)._++,oe(this,hl)===1&&(nt(this,qd,F2.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,$r).onFocus())})),nt(this,Kd,yx.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,$r).onOnline())})))}unmount(){var e,t;C0(this,hl)._--,oe(this,hl)===0&&((e=oe(this,qd))==null||e.call(this),nt(this,qd,void 0),(t=oe(this,Kd))==null||t.call(this),nt(this,Kd,void 0))}isFetching(e){return oe(this,$r).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return oe(this,dl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=oe(this,$r).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=oe(this,$r).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(_d(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return oe(this,$r).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=oe(this,$r).get(n.queryHash),i=a==null?void 0:a.state.data,o=rV(t,i);if(o!==void 0)return oe(this,$r).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return on.batch(()=>oe(this,$r).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=oe(this,$r).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=oe(this,$r);on.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=oe(this,$r),n={type:"active",...e};return on.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=on.batch(()=>oe(this,$r).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ps).catch(ps)}invalidateQueries(e={},t={}){return on.batch(()=>{if(oe(this,$r).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=on.batch(()=>oe(this,$r).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ps)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ps)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=oe(this,$r).build(this,t);return r.isStaleByTime(_d(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ps).catch(ps)}fetchInfiniteQuery(e){return e.behavior=IA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ps).catch(ps)}ensureInfiniteQueryData(e){return e.behavior=IA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yx.isOnline()?oe(this,dl).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,$r)}getMutationCache(){return oe(this,dl)}getDefaultOptions(){return oe(this,fl)}setDefaultOptions(e){nt(this,fl,e)}setQueryDefaults(e,t){oe(this,Hd).set(nu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...oe(this,Hd).values()];let r={};return t.forEach(n=>{Mm(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){oe(this,zd).set(nu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...oe(this,zd).values()];let r={};return t.forEach(n=>{Mm(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...oe(this,fl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=M2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===R2&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...oe(this,fl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){oe(this,$r).clear(),oe(this,dl).clear()}},$r=new WeakMap,dl=new WeakMap,fl=new WeakMap,Hd=new WeakMap,zd=new WeakMap,hl=new WeakMap,qd=new WeakMap,Kd=new WeakMap,P4),Na,qt,zp,ca,Uc,Gd,ml,Ai,qp,Yd,Xd,Wc,Vc,pl,Qd,ir,Hh,_j,Tj,Ej,Aj,Cj,Dj,kj,gR,I4,xV=(I4=class extends Wf{constructor(t,r){super();Et(this,ir);Et(this,Na);Et(this,qt);Et(this,zp);Et(this,ca);Et(this,Uc);Et(this,Gd);Et(this,ml);Et(this,Ai);Et(this,qp);Et(this,Yd);Et(this,Xd);Et(this,Wc);Et(this,Vc);Et(this,pl);Et(this,Qd,new Set);this.options=r,nt(this,Na,t),nt(this,Ai,null),nt(this,ml,Sj()),this.options.experimental_prefetchInRender||oe(this,ml).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(oe(this,qt).addObserver(this),RA(oe(this,qt),this.options)?Lt(this,ir,Hh).call(this):this.updateResult(),Lt(this,ir,Aj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oj(oe(this,qt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oj(oe(this,qt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lt(this,ir,Cj).call(this),Lt(this,ir,Dj).call(this),oe(this,qt).removeObserver(this)}setOptions(t,r){const n=this.options,a=oe(this,qt);if(this.options=oe(this,Na).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gs(this.options.enabled,oe(this,qt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lt(this,ir,kj).call(this),oe(this,qt).setOptions(this.options),n._defaulted&&!vx(this.options,n)&&oe(this,Na).getQueryCache().notify({type:"observerOptionsUpdated",query:oe(this,qt),observer:this});const i=this.hasListeners();i&&FA(oe(this,qt),a,this.options,n)&&Lt(this,ir,Hh).call(this),this.updateResult(r),i&&(oe(this,qt)!==a||Gs(this.options.enabled,oe(this,qt))!==Gs(n.enabled,oe(this,qt))||_d(this.options.staleTime,oe(this,qt))!==_d(n.staleTime,oe(this,qt)))&&Lt(this,ir,_j).call(this);const o=Lt(this,ir,Tj).call(this);i&&(oe(this,qt)!==a||Gs(this.options.enabled,oe(this,qt))!==Gs(n.enabled,oe(this,qt))||o!==oe(this,pl))&&Lt(this,ir,Ej).call(this,o)}getOptimisticResult(t){const r=oe(this,Na).getQueryCache().build(oe(this,Na),t),n=this.createResult(r,t);return yV(this,n)&&(nt(this,ca,n),nt(this,Gd,this.options),nt(this,Uc,oe(this,qt).state)),n}getCurrentResult(){return oe(this,ca)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){oe(this,Qd).add(t)}getCurrentQuery(){return oe(this,qt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=oe(this,Na).defaultQueryOptions(t),n=oe(this,Na).getQueryCache().build(oe(this,Na),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Lt(this,ir,Hh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),oe(this,ca)))}createResult(t,r){var S;const n=oe(this,qt),a=this.options,i=oe(this,ca),o=oe(this,Uc),l=oe(this,Gd),u=t!==n?t.state:oe(this,zp),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const _=this.hasListeners(),D=!_&&RA(t,r),F=_&&FA(t,n,r,a);(D||F)&&(f={...f,...mR(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:v}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===oe(this,qp))m=oe(this,Yd);else try{nt(this,qp,r.select),m=r.select(f.data),m=Nj(i==null?void 0:i.data,m,r),nt(this,Yd,m),nt(this,Ai,null)}catch(_){nt(this,Ai,_)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let _;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))_=i.data;else if(_=typeof r.placeholderData=="function"?r.placeholderData((S=oe(this,Xd))==null?void 0:S.state.data,oe(this,Xd)):r.placeholderData,r.select&&_!==void 0)try{_=r.select(_),nt(this,Ai,null)}catch(D){nt(this,Ai,D)}_!==void 0&&(v="success",m=Nj(i==null?void 0:i.data,_,r),h=!0)}oe(this,Ai)&&(x=oe(this,Ai),m=oe(this,Yd),p=Date.now(),v="error");const b=f.fetchStatus==="fetching",g=v==="pending",w=v==="error",y=g&&b,j=m!==void 0,E={status:v,fetchStatus:f.fetchStatus,isPending:g,isSuccess:v==="success",isError:w,isInitialLoading:y,isLoading:y,data:m,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!g,isLoadingError:w&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&j,isStale:L2(t,r),refetch:this.refetch,promise:oe(this,ml)};if(this.options.experimental_prefetchInRender){const _=O=>{E.status==="error"?O.reject(E.error):E.data!==void 0&&O.resolve(E.data)},D=()=>{const O=nt(this,ml,E.promise=Sj());_(O)},F=oe(this,ml);switch(F.status){case"pending":t.queryHash===n.queryHash&&_(F);break;case"fulfilled":(E.status==="error"||E.data!==F.value)&&D();break;case"rejected":(E.status!=="error"||E.error!==F.reason)&&D();break}}return E}updateResult(t){const r=oe(this,ca),n=this.createResult(oe(this,qt),this.options);if(nt(this,Uc,oe(this,qt).state),nt(this,Gd,this.options),oe(this,Uc).data!==void 0&&nt(this,Xd,oe(this,qt)),vx(n,r))return;nt(this,ca,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!oe(this,Qd).size)return!0;const c=new Set(l??oe(this,Qd));return this.options.throwOnError&&c.add("error"),Object.keys(oe(this,ca)).some(u=>{const d=u;return oe(this,ca)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Lt(this,ir,gR).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lt(this,ir,Aj).call(this)}},Na=new WeakMap,qt=new WeakMap,zp=new WeakMap,ca=new WeakMap,Uc=new WeakMap,Gd=new WeakMap,ml=new WeakMap,Ai=new WeakMap,qp=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,Wc=new WeakMap,Vc=new WeakMap,pl=new WeakMap,Qd=new WeakMap,ir=new WeakSet,Hh=function(t){Lt(this,ir,kj).call(this);let r=oe(this,qt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ps)),r},_j=function(){Lt(this,ir,Cj).call(this);const t=_d(this.options.staleTime,oe(this,qt));if(ru||oe(this,ca).isStale||!bj(t))return;const n=oR(oe(this,ca).dataUpdatedAt,t)+1;nt(this,Wc,setTimeout(()=>{oe(this,ca).isStale||this.updateResult()},n))},Tj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(oe(this,qt)):this.options.refetchInterval)??!1},Ej=function(t){Lt(this,ir,Dj).call(this),nt(this,pl,t),!(ru||Gs(this.options.enabled,oe(this,qt))===!1||!bj(oe(this,pl))||oe(this,pl)===0)&&nt(this,Vc,setInterval(()=>{(this.options.refetchIntervalInBackground||F2.isFocused())&&Lt(this,ir,Hh).call(this)},oe(this,pl)))},Aj=function(){Lt(this,ir,_j).call(this),Lt(this,ir,Ej).call(this,Lt(this,ir,Tj).call(this))},Cj=function(){oe(this,Wc)&&(clearTimeout(oe(this,Wc)),nt(this,Wc,void 0))},Dj=function(){oe(this,Vc)&&(clearInterval(oe(this,Vc)),nt(this,Vc,void 0))},kj=function(){const t=oe(this,Na).getQueryCache().build(oe(this,Na),this.options);if(t===oe(this,qt))return;const r=oe(this,qt);nt(this,qt,t),nt(this,zp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},gR=function(t){on.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(oe(this,ca))}),oe(this,Na).getQueryCache().notify({query:oe(this,qt),type:"observerResultsUpdated"})})},I4);function vV(e,t){return Gs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function RA(e,t){return vV(e,t)||e.state.data!==void 0&&Oj(e,t,t.refetchOnMount)}function Oj(e,t,r){if(Gs(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&L2(e,t)}return!1}function FA(e,t,r,n){return(e!==t||Gs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&L2(e,r)}function L2(e,t){return Gs(t.enabled,e)!==!1&&e.isStaleByTime(_d(t.staleTime,e))}function yV(e,t){return!vx(e.getCurrentResult(),t)}var gl,xl,Sa,lo,Eo,Bg,Pj,M4,wV=(M4=class extends Wf{constructor(r,n){super();Et(this,Eo);Et(this,gl);Et(this,xl);Et(this,Sa);Et(this,lo);nt(this,gl,r),this.setOptions(n),this.bindMethods(),Lt(this,Eo,Bg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=oe(this,gl).defaultMutationOptions(r),vx(this.options,n)||oe(this,gl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:oe(this,Sa),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&nu(n.mutationKey)!==nu(this.options.mutationKey)?this.reset():((a=oe(this,Sa))==null?void 0:a.state.status)==="pending"&&oe(this,Sa).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=oe(this,Sa))==null||r.removeObserver(this)}onMutationUpdate(r){Lt(this,Eo,Bg).call(this),Lt(this,Eo,Pj).call(this,r)}getCurrentResult(){return oe(this,xl)}reset(){var r;(r=oe(this,Sa))==null||r.removeObserver(this),nt(this,Sa,void 0),Lt(this,Eo,Bg).call(this),Lt(this,Eo,Pj).call(this)}mutate(r,n){var a;return nt(this,lo,n),(a=oe(this,Sa))==null||a.removeObserver(this),nt(this,Sa,oe(this,gl).getMutationCache().build(oe(this,gl),this.options)),oe(this,Sa).addObserver(this),oe(this,Sa).execute(r)}},gl=new WeakMap,xl=new WeakMap,Sa=new WeakMap,lo=new WeakMap,Eo=new WeakSet,Bg=function(){var n;const r=((n=oe(this,Sa))==null?void 0:n.state)??pR();nt(this,xl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Pj=function(r){on.batch(()=>{var n,a,i,o,l,c,u,d;if(oe(this,lo)&&this.hasListeners()){const f=oe(this,xl).variables,h=oe(this,xl).context;(r==null?void 0:r.type)==="success"?((a=(n=oe(this,lo)).onSuccess)==null||a.call(n,r.data,f,h),(o=(i=oe(this,lo)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=oe(this,lo)).onError)==null||c.call(l,r.error,f,h),(d=(u=oe(this,lo)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(oe(this,xl))})})},M4),xR=T.createContext(void 0),ac=e=>{const t=T.useContext(xR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},bV=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(xR.Provider,{value:e,children:t})),vR=T.createContext(!1),jV=()=>T.useContext(vR);vR.Provider;function NV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var SV=T.createContext(NV()),_V=()=>T.useContext(SV);function yR(e,t){return typeof e=="function"?e(...t):!!e}function Ij(){}var TV=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},EV=e=>{T.useEffect(()=>{e.clearReset()},[e])},AV=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&yR(r,[e.error,n]),CV=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},DV=(e,t)=>e.isLoading&&e.isFetching&&!t,kV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,LA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function OV(e,t,r){var d,f,h,m,x;const n=ac(),a=jV(),i=_V(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",CV(o),TV(o,i),EV(i);const l=!n.getQueryCache().get(o.queryHash),[c]=T.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(T.useSyncExternalStore(T.useCallback(p=>{const v=a?Ij:c.subscribe(on.batchCalls(p));return c.updateResult(),v},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),kV(o,u))throw LA(o,c,i);if(AV({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!ru&&DV(u,a)){const p=l?LA(o,c,i):(x=n.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(Ij).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Le(e,t){return OV(e,xV)}function It(e,t){const r=ac(),[n]=T.useState(()=>new wV(r,e));T.useEffect(()=>{n.setOptions(e)},[n,e]);const a=T.useSyncExternalStore(T.useCallback(o=>n.subscribe(on.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=T.useCallback((o,l)=>{n.mutate(o,l).catch(Ij)},[n]);if(a.error&&yR(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const xc="org_id",$u="user_id",bh="role_id",Bu="role_name",Y0="user_type_id";class ua{static getOrgId(){if(typeof window>"u")return"60";const t=localStorage.getItem(xc);return console.log("[OrgContext] Reading org_id from localStorage:",t),t||"60"}static setOrgId(t){typeof window>"u"||localStorage.setItem(xc,t)}static getUserId(){return typeof window>"u"?"1435":localStorage.getItem($u)||"1435"}static setUserId(t){typeof window>"u"||localStorage.setItem($u,t)}static getRoleId(){return typeof window>"u"?null:localStorage.getItem(bh)}static setRoleId(t){typeof window>"u"||localStorage.setItem(bh,t)}static getRoleName(){return typeof window>"u"?null:localStorage.getItem(Bu)}static setRoleName(t){typeof window>"u"||localStorage.setItem(Bu,t)}static getUserTypeId(){return typeof window>"u"?null:localStorage.getItem(Y0)}static setUserTypeId(t){typeof window>"u"||localStorage.setItem(Y0,t)}static clear(){typeof window>"u"||(localStorage.removeItem(xc),localStorage.removeItem($u),localStorage.removeItem(bh),localStorage.removeItem(Bu),localStorage.removeItem(Y0))}static initialize(){if(typeof window>"u")return;!(localStorage.getItem(bh)||localStorage.getItem(Bu))&&!localStorage.getItem(xc)?(console.log("[OrgContext] No JWT data found, setting default org_id to 60"),localStorage.setItem(xc,"60"),localStorage.setItem($u,"1435")):console.log("[OrgContext] Found existing data - org_id:",localStorage.getItem(xc),"role:",localStorage.getItem(Bu))}static setJWTData(t){if(typeof window>"u")return;const n=localStorage.getItem($u)||t.user_id;console.log("[OrgContext] Setting JWT data:",{org_id:t.org_id,user_id:n,role_name:t.role_name,forcedTo1435:!0}),localStorage.setItem(xc,t.org_id),localStorage.setItem($u,n),localStorage.setItem(bh,t.role_id),localStorage.setItem(Bu,t.role_name),localStorage.setItem(Y0,t.user_type_id)}static getContextData(){return{orgId:this.getOrgId(),userId:this.getUserId(),roleId:this.getRoleId(),roleName:this.getRoleName(),userTypeId:this.getUserTypeId()}}}typeof window<"u"&&ua.initialize();function wR(){const[e,t]=T.useState(""),[r,n]=T.useState(""),[a,i]=T.useState(null),[o,l]=T.useState(null),[c,u]=T.useState(null);return T.useEffect(()=>{const d=()=>{t(ua.getOrgId()),n(ua.getUserId()),i(ua.getRoleId()),l(ua.getRoleName()),u(ua.getUserTypeId())};d();const f=h=>{["org_id","user_id","role_id","role_name","user_type_id"].includes(h.key||"")&&d()};return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)},[]),{orgId:e,currentUserId:r,roleId:a,roleName:o,userTypeId:c,setOrgId:d=>{ua.setOrgId(d),t(d)},setUserId:d=>{ua.setUserId(d),n(d)},setRoleId:d=>{ua.setRoleId(d),i(d)},setRoleName:d=>{ua.setRoleName(d),l(d)},setUserTypeId:d=>{ua.setUserTypeId(d),u(d)},clear:()=>{ua.clear(),t(""),n(""),i(null),l(null),u(null)}}}const PV=Object.freeze(Object.defineProperty({__proto__:null,OrgContext:ua,useOrgContext:wR},Symbol.toStringTag,{value:"Module"}));async function bR(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function yt(e,t,r){const n=ua.getOrgId();console.log(`[API Request] Sending X-Org-Id header: ${n} for ${e} ${t}`);const a={"X-Org-Id":n},i=localStorage.getItem("jwt_token");i&&(a.Authorization=`Bearer ${i}`,console.log(`[API Request] Adding Authorization header with JWT token for ${t}`));let o;r&&(r instanceof FormData?o=r:(a["Content-Type"]="application/json",o=JSON.stringify(r)));const l=await fetch(t,{method:e,headers:a,body:o,credentials:"include"});return await bR(l),l}const IV=({on401:e})=>async({queryKey:t})=>{const r=ua.getOrgId();console.log(`[Query Request] Sending X-Org-Id header: ${r} for GET ${t[0]}`);const n=await fetch(t[0],{headers:{"X-Org-Id":r},credentials:"include"});return e==="returnNull"&&n.status===401?null:(await bR(n),await n.json())},Ye=new gV({defaultOptions:{queries:{queryFn:IV({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),MV=1,RV=1e6;let yw=0;function FV(){return yw=(yw+1)%Number.MAX_SAFE_INTEGER,yw.toString()}const ww=new Map,$A=e=>{if(ww.has(e))return;const t=setTimeout(()=>{ww.delete(e),sm({type:"REMOVE_TOAST",toastId:e})},RV);ww.set(e,t)},LV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,MV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?$A(r):e.toasts.forEach(n=>{$A(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ug=[];let Wg={toasts:[]};function sm(e){Wg=LV(Wg,e),Ug.forEach(t=>{t(Wg)})}function Vs({...e}){const t=FV(),r=a=>sm({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>sm({type:"DISMISS_TOAST",toastId:t});return sm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Lr(){const[e,t]=T.useState(Wg);return T.useEffect(()=>(Ug.push(t),()=>{const r=Ug.indexOf(t);r>-1&&Ug.splice(r,1)}),[e]),{...e,toast:Vs,dismiss:r=>sm({type:"DISMISS_TOAST",toastId:r})}}function vt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function BA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jR(...e){return t=>{let r=!1;const n=e.map(a=>{const i=BA(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():BA(e[a],null)}}}}function or(...e){return T.useCallback(jR(...e),e)}function $V(e,t){const r=T.createContext(t),n=i=>{const{children:o,...l}=i,c=T.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=T.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Cs(e,t=[]){let r=[];function n(i,o){const l=T.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...x}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=T.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,x=T.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>T.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return T.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,BV(a,...t)]}function BV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function au(e){const t=UV(e),r=T.forwardRef((n,a)=>{const{children:i,...o}=n,l=T.Children.toArray(i),c=l.find(VV);if(c){const u=c.props.children,d=l.map(f=>f===c?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:T.isValidElement(u)?T.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var NR=au("Slot");function UV(e){const t=T.forwardRef((r,n)=>{const{children:a,...i}=r;if(T.isValidElement(a)){const o=zV(a),l=HV(i,a.props);return a.type!==T.Fragment&&(l.ref=n?jR(n,o):o),T.cloneElement(a,l)}return T.Children.count(a)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SR=Symbol("radix.slottable");function WV(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=SR,t}function VV(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SR}function HV(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function zV(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $2(e){const t=e+"CollectionProvider",[r,n]=Cs(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:b}=p,g=se.useRef(null),w=se.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:g,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=au(l),u=se.forwardRef((p,v)=>{const{scope:b,children:g}=p,w=i(l,b),y=or(v,w.collectionRef);return s.jsx(c,{ref:y,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=au(d),m=se.forwardRef((p,v)=>{const{scope:b,children:g,...w}=p,y=se.useRef(null),j=or(v,y),N=i(d,b);return se.useEffect(()=>(N.itemMap.set(y,{ref:y,...w}),()=>void N.itemMap.delete(y))),s.jsx(h,{[f]:"",ref:j,children:g})});m.displayName=d;function x(p){const v=i(e+"CollectionConsumer",p);return se.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,E)=>w.indexOf(N.ref.current)-w.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,n]}var qV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ot=qV.reduce((e,t)=>{const r=au(`Primitive.${t}`),n=T.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _R(e,t){e&&bu.flushSync(()=>e.dispatchEvent(t))}function ya(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function KV(e,t=globalThis==null?void 0:globalThis.document){const r=ya(e);T.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var GV="DismissableLayer",Mj="dismissableLayer.update",YV="dismissableLayer.pointerDownOutside",XV="dismissableLayer.focusOutside",UA,TR=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vf=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=T.useContext(TR),[d,f]=T.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=T.useState({}),x=or(t,E=>f(E)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(v),g=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,y=g>=b,j=ZV(E=>{const S=E.target,_=[...u.branches].some(D=>D.contains(S));!y||_||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},h),N=JV(E=>{const S=E.target;[...u.branches].some(D=>D.contains(S))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},h);return KV(E=>{g===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),T.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(UA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),WA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=UA)}},[d,h,r,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),WA())},[d,u]),T.useEffect(()=>{const E=()=>m({});return document.addEventListener(Mj,E),()=>document.removeEventListener(Mj,E)},[]),s.jsx(Ot.div,{...c,ref:x,style:{pointerEvents:w?y?"auto":"none":void 0,...e.style},onFocusCapture:vt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:vt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:vt(e.onPointerDownCapture,j.onPointerDownCapture)})});Vf.displayName=GV;var QV="DismissableLayerBranch",ER=T.forwardRef((e,t)=>{const r=T.useContext(TR),n=T.useRef(null),a=or(t,n);return T.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ot.div,{...e,ref:a})});ER.displayName=QV;function ZV(e,t=globalThis==null?void 0:globalThis.document){const r=ya(e),n=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){AR(YV,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function JV(e,t=globalThis==null?void 0:globalThis.document){const r=ya(e),n=T.useRef(!1);return T.useEffect(()=>{const a=i=>{i.target&&!n.current&&AR(XV,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function WA(){const e=new CustomEvent(Mj);document.dispatchEvent(e)}function AR(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?_R(a,i):a.dispatchEvent(i)}var eH=Vf,tH=ER,dn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},rH="Portal",Zp=T.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=T.useState(!1);dn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?TW.createPortal(s.jsx(Ot.div,{...n,ref:t}),o):null});Zp.displayName=rH;function nH(e,t){return T.useReducer((r,n)=>t[r][n]??r,e)}var Ki=e=>{const{present:t,children:r}=e,n=aH(t),a=typeof r=="function"?r({present:n.isPresent}):T.Children.only(r),i=or(n.ref,sH(a));return typeof r=="function"||n.isPresent?T.cloneElement(a,{ref:i}):null};Ki.displayName="Presence";function aH(e){const[t,r]=T.useState(),n=T.useRef({}),a=T.useRef(e),i=T.useRef("none"),o=e?"mounted":"unmounted",[l,c]=nH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=X0(n.current);i.current=l==="mounted"?u:"none"},[l]),dn(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=X0(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),dn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=X0(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=X0(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:T.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function X0(e){return(e==null?void 0:e.animationName)||"none"}function sH(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Oo({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=iH({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=ya(r),c=T.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function iH({defaultProp:e,onChange:t}){const r=T.useState(e),[n]=r,a=T.useRef(n),i=ya(t);return T.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var oH="VisuallyHidden",Jp=T.forwardRef((e,t)=>s.jsx(Ot.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Jp.displayName=oH;var lH=Jp,B2="ToastProvider",[U2,cH,uH]=$2("Toast"),[CR,NPe]=Cs("Toast",[uH]),[dH,xy]=CR(B2),DR=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=T.useState(null),[u,d]=T.useState(0),f=T.useRef(!1),h=T.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${B2}\`. Expected non-empty \`string\`.`),s.jsx(U2.Provider,{scope:t,children:s.jsx(dH,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:T.useCallback(()=>d(m=>m+1),[]),onToastRemove:T.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};DR.displayName=B2;var kR="ToastViewport",fH=["F8"],Rj="toast.viewportPause",Fj="toast.viewportResume",OR=T.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=fH,label:a="Notifications ({hotkey})",...i}=e,o=xy(kR,r),l=cH(r),c=T.useRef(null),u=T.useRef(null),d=T.useRef(null),f=T.useRef(null),h=or(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;T.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(y=>b[y]||b.code===y)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),T.useEffect(()=>{const v=c.current,b=f.current;if(x&&v&&b){const g=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(Rj);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Fj);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},y=N=>{!v.contains(N.relatedTarget)&&w()},j=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",g),v.addEventListener("focusout",y),v.addEventListener("pointermove",g),v.addEventListener("pointerleave",j),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",g),v.removeEventListener("focusout",y),v.removeEventListener("pointermove",g),v.removeEventListener("pointerleave",j),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=T.useCallback(({tabbingDirection:v})=>{const g=l().map(w=>{const y=w.ref.current,j=[y,..._H(y)];return v==="forwards"?j:j.reverse()});return(v==="forwards"?g.reverse():g).flat()},[l]);return T.useEffect(()=>{const v=f.current;if(v){const b=g=>{var j,N,E;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const S=document.activeElement,_=g.shiftKey;if(g.target===v&&_){(j=u.current)==null||j.focus();return}const O=p({tabbingDirection:_?"backwards":"forwards"}),L=O.findIndex(k=>k===S);bw(O.slice(L+1))?g.preventDefault():_?(N=u.current)==null||N.focus():(E=d.current)==null||E.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,p]),s.jsxs(tH,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(Lj,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});bw(v)}}),s.jsx(U2.Slot,{scope:r,children:s.jsx(Ot.ol,{tabIndex:-1,...i,ref:h})}),x&&s.jsx(Lj,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});bw(v)}})]})});OR.displayName=kR;var PR="ToastFocusProxy",Lj=T.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=xy(PR,r);return s.jsx(Jp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Lj.displayName=PR;var vy="Toast",hH="toast.swipeStart",mH="toast.swipeMove",pH="toast.swipeCancel",gH="toast.swipeEnd",IR=T.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Oo({prop:n,defaultProp:a,onChange:i});return s.jsx(Ki,{present:r||l,children:s.jsx(yH,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ya(e.onPause),onResume:ya(e.onResume),onSwipeStart:vt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:vt(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:vt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:vt(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});IR.displayName=vy;var[xH,vH]=CR(vy,{onClose(){}}),yH=T.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=e,p=xy(vy,r),[v,b]=T.useState(null),g=or(t,k=>b(k)),w=T.useRef(null),y=T.useRef(null),j=a||p.duration,N=T.useRef(0),E=T.useRef(j),S=T.useRef(0),{onToastAdd:_,onToastRemove:D}=p,F=ya(()=>{var P;(v==null?void 0:v.contains(document.activeElement))&&((P=p.viewport)==null||P.focus()),o()}),O=T.useCallback(k=>{!k||k===1/0||(window.clearTimeout(S.current),N.current=new Date().getTime(),S.current=window.setTimeout(F,k))},[F]);T.useEffect(()=>{const k=p.viewport;if(k){const P=()=>{O(E.current),u==null||u()},I=()=>{const M=new Date().getTime()-N.current;E.current=E.current-M,window.clearTimeout(S.current),c==null||c()};return k.addEventListener(Rj,I),k.addEventListener(Fj,P),()=>{k.removeEventListener(Rj,I),k.removeEventListener(Fj,P)}}},[p.viewport,j,c,u,O]),T.useEffect(()=>{i&&!p.isClosePausedRef.current&&O(j)},[i,j,p.isClosePausedRef,O]),T.useEffect(()=>(_(),()=>D()),[_,D]);const L=T.useMemo(()=>v?UR(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[L&&s.jsx(wH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),s.jsx(xH,{scope:r,onClose:F,children:bu.createPortal(s.jsx(U2.ItemSlot,{scope:r,children:s.jsx(eH,{asChild:!0,onEscapeKeyDown:vt(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||F(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ot.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:vt(e.onKeyDown,k=>{k.key==="Escape"&&(l==null||l(k.nativeEvent),k.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:vt(e.onPointerDown,k=>{k.button===0&&(w.current={x:k.clientX,y:k.clientY})}),onPointerMove:vt(e.onPointerMove,k=>{if(!w.current)return;const P=k.clientX-w.current.x,I=k.clientY-w.current.y,M=!!y.current,C=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,z=C?R(0,P):0,J=C?0:R(0,I),U=k.pointerType==="touch"?10:2,q={x:z,y:J},Y={originalEvent:k,delta:q};M?(y.current=q,Q0(mH,f,Y,{discrete:!1})):VA(q,p.swipeDirection,U)?(y.current=q,Q0(hH,d,Y,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(P)>U||Math.abs(I)>U)&&(w.current=null)}),onPointerUp:vt(e.onPointerUp,k=>{const P=y.current,I=k.target;if(I.hasPointerCapture(k.pointerId)&&I.releasePointerCapture(k.pointerId),y.current=null,w.current=null,P){const M=k.currentTarget,C={originalEvent:k,delta:P};VA(P,p.swipeDirection,p.swipeThreshold)?Q0(gH,m,C,{discrete:!0}):Q0(pH,h,C,{discrete:!0}),M.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),wH=e=>{const{__scopeToast:t,children:r,...n}=e,a=xy(vy,t),[i,o]=T.useState(!1),[l,c]=T.useState(!1);return NH(()=>o(!0)),T.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Zp,{asChild:!0,children:s.jsx(Jp,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},bH="ToastTitle",MR=T.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ot.div,{...n,ref:t})});MR.displayName=bH;var jH="ToastDescription",RR=T.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ot.div,{...n,ref:t})});RR.displayName=jH;var FR="ToastAction",LR=T.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(BR,{altText:r,asChild:!0,children:s.jsx(W2,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${FR}\`. Expected non-empty \`string\`.`),null)});LR.displayName=FR;var $R="ToastClose",W2=T.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=vH($R,r);return s.jsx(BR,{asChild:!0,children:s.jsx(Ot.button,{type:"button",...n,ref:t,onClick:vt(e.onClick,a.onClose)})})});W2.displayName=$R;var BR=T.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function UR(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),SH(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...UR(n))}}),t}function Q0(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?_R(a,i):a.dispatchEvent(i)}var VA=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function NH(e=()=>{}){const t=ya(e);dn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function SH(e){return e.nodeType===e.ELEMENT_NODE}function _H(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var TH=DR,WR=OR,VR=IR,HR=MR,zR=RR,qR=LR,KR=W2;function GR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=GR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Zt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=GR(e))&&(n&&(n+=" "),n+=t);return n}const HA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zA=Zt,yy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return zA(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=HA(d)||HA(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[p,v]=x;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,f,h]:u},[]);return zA(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YR=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>T.createElement("svg",{ref:c,...AH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:YR("lucide",a),...l},[...o.map(([u,d])=>T.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(e,t)=>{const r=T.forwardRef(({className:n,...a},i)=>T.createElement(CH,{ref:i,iconNode:t,className:YR(`lucide-${EH(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=jt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=jt("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=jt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=jt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=jt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=jt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=jt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=jt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=jt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=jt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=jt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=jt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=jt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=jt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=jt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=jt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=jt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=jt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=jt("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=jt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=jt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=jt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=jt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=jt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=jt("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=jt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=jt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=jt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=jt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=jt("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=jt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=jt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=jt("Umbrella",[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=jt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),z2="-",UH=e=>{const t=VH(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(z2);return l[0]===""&&l.length!==1&&l.shift(),n3(l,t)||WH(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},n3=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?n3(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(z2);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},GA=/^\[(.+)\]$/,WH=e=>{if(GA.test(e)){const t=GA.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},VH=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return zH(Object.entries(e.classGroups),r).forEach(([i,o])=>{Uj(o,n,i,t)}),n},Uj=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:YA(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(HH(a)){Uj(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Uj(o,YA(t,i),r,n)})})},YA=(e,t)=>{let r=e;return t.split(z2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},HH=e=>e.isThemeGetter,zH=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,qH=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},a3="!",KH=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(a3),x=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},GH=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},YH=e=>({cache:qH(e.cacheSize),parseClassName:KH(e),...UH(e)}),XH=/\s+/,QH=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(XH);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let x=!!m,p=n(x?h.substring(0,m):h);if(!p){if(!x){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=GH(d).join(":"),b=f?v+a3:v,g=b+p;if(i.includes(g))continue;i.push(g);const w=a(p,x);for(let y=0;y<w.length;++y){const j=w[y];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function ZH(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=s3(t))&&(n&&(n+=" "),n+=r);return n}const s3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=s3(e[n]))&&(r&&(r+=" "),r+=t);return r};function JH(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=YH(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=QH(c,r);return a(c,d),d}return function(){return i(ZH.apply(null,arguments))}}const _r=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},i3=/^\[(?:([a-z-]+):)?(.+)\]$/i,ez=/^\d+\/\d+$/,tz=new Set(["px","full","screen"]),rz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,az=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qi=e=>Ed(e)||tz.has(e)||ez.test(e),Xo=e=>zf(e,"length",mz),Ed=e=>!!e&&!Number.isNaN(Number(e)),Sw=e=>zf(e,"number",Ed),jh=e=>!!e&&Number.isInteger(Number(e)),oz=e=>e.endsWith("%")&&Ed(e.slice(0,-1)),Ft=e=>i3.test(e),Qo=e=>rz.test(e),lz=new Set(["length","size","percentage"]),cz=e=>zf(e,lz,o3),uz=e=>zf(e,"position",o3),dz=new Set(["image","url"]),fz=e=>zf(e,dz,gz),hz=e=>zf(e,"",pz),Nh=()=>!0,zf=(e,t,r)=>{const n=i3.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},mz=e=>nz.test(e)&&!az.test(e),o3=()=>!1,pz=e=>sz.test(e),gz=e=>iz.test(e),xz=()=>{const e=_r("colors"),t=_r("spacing"),r=_r("blur"),n=_r("brightness"),a=_r("borderColor"),i=_r("borderRadius"),o=_r("borderSpacing"),l=_r("borderWidth"),c=_r("contrast"),u=_r("grayscale"),d=_r("hueRotate"),f=_r("invert"),h=_r("gap"),m=_r("gradientColorStops"),x=_r("gradientColorStopPositions"),p=_r("inset"),v=_r("margin"),b=_r("opacity"),g=_r("padding"),w=_r("saturate"),y=_r("scale"),j=_r("sepia"),N=_r("skew"),E=_r("space"),S=_r("translate"),_=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ft,t],O=()=>[Ft,t],L=()=>["",Qi,Xo],k=()=>["auto",Ed,Ft],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Ft],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Ed,Ft];return{cacheSize:500,separator:":",theme:{colors:[Nh],spacing:[Qi,Xo],blur:["none","",Qo,Ft],brightness:J(),borderColor:[e],borderRadius:["none","","full",Qo,Ft],borderSpacing:O(),borderWidth:L(),contrast:J(),grayscale:R(),hueRotate:J(),invert:R(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[oz,Xo],inset:F(),margin:F(),opacity:J(),padding:O(),saturate:J(),scale:J(),sepia:R(),skew:J(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ft]}],container:["container"],columns:[{columns:[Qo]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),Ft]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jh,Ft]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ft]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",jh,Ft]}],"grid-cols":[{"grid-cols":[Nh]}],"col-start-end":[{col:["auto",{span:["full",jh,Ft]},Ft]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Nh]}],"row-start-end":[{row:["auto",{span:[jh,Ft]},Ft]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ft]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ft]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ft,t]}],"min-w":[{"min-w":[Ft,t,"min","max","fit"]}],"max-w":[{"max-w":[Ft,t,"none","full","min","max","fit","prose",{screen:[Qo]},Qo]}],h:[{h:[Ft,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ft,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ft,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qo,Xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sw]}],"font-family":[{font:[Nh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ft]}],"line-clamp":[{"line-clamp":["none",Ed,Sw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qi,Ft]}],"list-image":[{"list-image":["none",Ft]}],"list-style-type":[{list:["none","disc","decimal",Ft]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qi,Xo]}],"underline-offset":[{"underline-offset":["auto",Qi,Ft]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),uz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fz]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Qi,Ft]}],"outline-w":[{outline:[Qi,Xo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Qi,Xo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qo,hz]}],"shadow-color":[{shadow:[Nh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qo,Ft]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ft]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ft]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ft]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[jh,Ft]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ft]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ft]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ft]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qi,Xo,Sw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vz=JH(xz);function tt(...e){return vz(Zt(e))}const yz=TH,l3=T.forwardRef(({className:e,...t},r)=>s.jsx(WR,{ref:r,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l3.displayName=WR.displayName;const wz=yy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c3=T.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(VR,{ref:n,className:tt(wz({variant:t}),e),...r}));c3.displayName=VR.displayName;const bz=T.forwardRef(({className:e,...t},r)=>s.jsx(qR,{ref:r,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));bz.displayName=qR.displayName;const u3=T.forwardRef(({className:e,...t},r)=>s.jsx(KR,{ref:r,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Yn,{className:"h-4 w-4"})}));u3.displayName=KR.displayName;const d3=T.forwardRef(({className:e,...t},r)=>s.jsx(HR,{ref:r,className:tt("text-sm font-semibold",e),...t}));d3.displayName=HR.displayName;const f3=T.forwardRef(({className:e,...t},r)=>s.jsx(zR,{ref:r,className:tt("text-sm opacity-90",e),...t}));f3.displayName=zR.displayName;function jz(){const{toasts:e}=Lr();return s.jsxs(yz,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(c3,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(d3,{children:r}),n&&s.jsx(f3,{children:n})]}),a,s.jsx(u3,{})]},t)}),s.jsx(l3,{})]})}var Nz=q4[" useId ".trim().toString()]||(()=>{}),Sz=0;function wo(e){const[t,r]=T.useState(Nz());return dn(()=>{r(n=>n??String(Sz++))},[e]),t?`radix-${t}`:""}const _z=["top","right","bottom","left"],Hl=Math.min,Ka=Math.max,jx=Math.round,J0=Math.floor,Ri=e=>({x:e,y:e}),Tz={left:"right",right:"left",bottom:"top",top:"bottom"},Ez={start:"end",end:"start"};function Wj(e,t,r){return Ka(e,Hl(t,r))}function Po(e,t){return typeof e=="function"?e(t):e}function Io(e){return e.split("-")[0]}function qf(e){return e.split("-")[1]}function q2(e){return e==="x"?"y":"x"}function K2(e){return e==="y"?"height":"width"}function zl(e){return["top","bottom"].includes(Io(e))?"y":"x"}function G2(e){return q2(zl(e))}function Az(e,t,r){r===void 0&&(r=!1);const n=qf(e),a=G2(e),i=K2(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Nx(o)),[o,Nx(o)]}function Cz(e){const t=Nx(e);return[Vj(e),t,Vj(t)]}function Vj(e){return e.replace(/start|end/g,t=>Ez[t])}function Dz(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function kz(e,t,r,n){const a=qf(e);let i=Dz(Io(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Vj)))),i}function Nx(e){return e.replace(/left|right|bottom|top/g,t=>Tz[t])}function Oz(e){return{top:0,right:0,bottom:0,left:0,...e}}function h3(e){return typeof e!="number"?Oz(e):{top:e,right:e,bottom:e,left:e}}function Sx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function XA(e,t,r){let{reference:n,floating:a}=e;const i=zl(t),o=G2(t),l=K2(o),c=Io(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(qf(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Pz=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=XA(u,n,c),h=n,m={},x=0;for(let p=0;p<l.length;p++){const{name:v,fn:b}=l[p],{x:g,y:w,data:y,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=w??f,m={...m,[v]:{...m[v],...y}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=XA(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Rm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Po(t,e),x=h3(m),v=l[h?f==="floating"?"reference":"floating":f],b=Sx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),y=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Sx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(b.top-j.top+x.top)/y.y,bottom:(j.bottom-b.bottom+x.bottom)/y.y,left:(b.left-j.left+x.left)/y.x,right:(j.right-b.right+x.right)/y.x}}const Iz=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Po(e,t)||{};if(u==null)return{};const f=h3(d),h={x:r,y:n},m=G2(a),x=K2(m),p=await o.getDimensions(u),v=m==="y",b=v?"top":"left",g=v?"bottom":"right",w=v?"clientHeight":"clientWidth",y=i.reference[x]+i.reference[m]-h[m]-i.floating[x],j=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=N?N[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(N)))&&(E=l.floating[w]||i.floating[x]);const S=y/2-j/2,_=E/2-p[x]/2-1,D=Hl(f[b],_),F=Hl(f[g],_),O=D,L=E-p[x]-F,k=E/2-p[x]/2+S,P=Wj(O,k,L),I=!c.arrow&&qf(a)!=null&&k!==P&&i.reference[x]/2-(k<O?D:F)-p[x]/2<0,M=I?k<O?k-O:k-L:0;return{[m]:h[m]+M,data:{[m]:P,centerOffset:k-P-M,...I&&{alignmentOffset:M}},reset:I}}}),Mz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...v}=Po(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Io(a),g=zl(l),w=Io(l)===l,y=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[Nx(l)]:Cz(l)),N=x!=="none";!h&&N&&j.push(...kz(l,p,x,y));const E=[l,...j],S=await Rm(t,v),_=[];let D=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&_.push(S[b]),f){const k=Az(a,o,y);_.push(S[k[0]],S[k[1]])}if(D=[...D,{placement:a,overflows:_}],!_.every(k=>k<=0)){var F,O;const k=(((F=i.flip)==null?void 0:F.index)||0)+1,P=E[k];if(P)return{data:{index:k,overflows:D},reset:{placement:P}};let I=(O=D.filter(M=>M.overflows[0]<=0).sort((M,C)=>M.overflows[1]-C.overflows[1])[0])==null?void 0:O.placement;if(!I)switch(m){case"bestFit":{var L;const M=(L=D.filter(C=>{if(N){const R=zl(C.placement);return R===g||R==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(R=>R>0).reduce((R,z)=>R+z,0)]).sort((C,R)=>C[1]-R[1])[0])==null?void 0:L[0];M&&(I=M);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function QA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ZA(e){return _z.some(t=>e[t]>=0)}const Rz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Po(e,t);switch(n){case"referenceHidden":{const i=await Rm(t,{...a,elementContext:"reference"}),o=QA(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ZA(o)}}}case"escaped":{const i=await Rm(t,{...a,altBoundary:!0}),o=QA(i,r.floating);return{data:{escapedOffsets:o,escaped:ZA(o)}}}default:return{}}}}};async function Fz(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Io(r),l=qf(r),c=zl(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=Po(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Lz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Fz(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},$z=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:g}=v;return{x:b,y:g}}},...c}=Po(e,t),u={x:r,y:n},d=await Rm(t,c),f=zl(Io(a)),h=q2(f);let m=u[h],x=u[f];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",g=m+d[v],w=m-d[b];m=Wj(g,m,w)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",g=x+d[v],w=x-d[b];x=Wj(g,x,w)}const p=l.fn({...t,[h]:m,[f]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},Bz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Po(e,t),d={x:r,y:n},f=zl(a),h=q2(f);let m=d[h],x=d[f];const p=Po(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",y=i.reference[h]-i.floating[w]+v.mainAxis,j=i.reference[h]+i.reference[w]-v.mainAxis;m<y?m=y:m>j&&(m=j)}if(u){var b,g;const w=h==="y"?"width":"height",y=["top","left"].includes(Io(a)),j=i.reference[f]-i.floating[w]+(y&&((b=o.offset)==null?void 0:b[f])||0)+(y?0:v.crossAxis),N=i.reference[f]+i.reference[w]+(y?0:((g=o.offset)==null?void 0:g[f])||0)-(y?v.crossAxis:0);x<j?x=j:x>N&&(x=N)}return{[h]:m,[f]:x}}}},Uz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Po(e,t),d=await Rm(t,u),f=Io(a),h=qf(a),m=zl(a)==="y",{width:x,height:p}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const g=p-d.top-d.bottom,w=x-d.left-d.right,y=Hl(p-d[v],g),j=Hl(x-d[b],w),N=!t.middlewareData.shift;let E=y,S=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=g),N&&!h){const D=Ka(d.left,0),F=Ka(d.right,0),O=Ka(d.top,0),L=Ka(d.bottom,0);m?S=x-2*(D!==0||F!==0?D+F:Ka(d.left,d.right)):E=p-2*(O!==0||L!==0?O+L:Ka(d.top,d.bottom))}await c({...t,availableWidth:S,availableHeight:E});const _=await o.getDimensions(l.floating);return x!==_.width||p!==_.height?{reset:{rects:!0}}:{}}}};function _y(){return typeof window<"u"}function Kf(e){return m3(e)?(e.nodeName||"").toLowerCase():"#document"}function es(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gi(e){var t;return(t=(m3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m3(e){return _y()?e instanceof Node||e instanceof es(e).Node:!1}function di(e){return _y()?e instanceof Element||e instanceof es(e).Element:!1}function Bi(e){return _y()?e instanceof HTMLElement||e instanceof es(e).HTMLElement:!1}function JA(e){return!_y()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof es(e).ShadowRoot}function n0(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=fi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Wz(e){return["table","td","th"].includes(Kf(e))}function Ty(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Y2(e){const t=X2(),r=di(e)?fi(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Vz(e){let t=ql(e);for(;Bi(t)&&!lf(t);){if(Y2(t))return t;if(Ty(t))return null;t=ql(t)}return null}function X2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lf(e){return["html","body","#document"].includes(Kf(e))}function fi(e){return es(e).getComputedStyle(e)}function Ey(e){return di(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ql(e){if(Kf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JA(e)&&e.host||Gi(e);return JA(t)?t.host:t}function p3(e){const t=ql(e);return lf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bi(t)&&n0(t)?t:p3(t)}function Fm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=p3(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=es(a);if(i){const l=Hj(o);return t.concat(o,o.visualViewport||[],n0(a)?a:[],l&&r?Fm(l):[])}return t.concat(a,Fm(a,[],r))}function Hj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g3(e){const t=fi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Bi(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=jx(r)!==i||jx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Q2(e){return di(e)?e:e.contextElement}function Ad(e){const t=Q2(e);if(!Bi(t))return Ri(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=g3(t);let o=(i?jx(r.width):r.width)/n,l=(i?jx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Hz=Ri(0);function x3(e){const t=es(e);return!X2()||!t.visualViewport?Hz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==es(e)?!1:t}function su(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Q2(e);let o=Ri(1);t&&(n?di(n)&&(o=Ad(n)):o=Ad(e));const l=zz(i,r,n)?x3(i):Ri(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=es(i),m=n&&di(n)?es(n):n;let x=h,p=Hj(x);for(;p&&n&&m!==x;){const v=Ad(p),b=p.getBoundingClientRect(),g=fi(p),w=b.left+(p.clientLeft+parseFloat(g.paddingLeft))*v.x,y=b.top+(p.clientTop+parseFloat(g.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=y,x=es(p),p=Hj(x)}}return Sx({width:d,height:f,x:c,y:u})}function Z2(e,t){const r=Ey(e).scrollLeft;return t?t.left+r:su(Gi(e)).left+r}function v3(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Z2(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function qz(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Gi(n),l=t?Ty(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ri(1);const d=Ri(0),f=Bi(n);if((f||!f&&!i)&&((Kf(n)!=="body"||n0(o))&&(c=Ey(n)),Bi(n))){const m=su(n);u=Ad(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?v3(o,c,!0):Ri(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Kz(e){return Array.from(e.getClientRects())}function Gz(e){const t=Gi(e),r=Ey(e),n=e.ownerDocument.body,a=Ka(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ka(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Z2(e);const l=-r.scrollTop;return fi(n).direction==="rtl"&&(o+=Ka(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Yz(e,t){const r=es(e),n=Gi(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=X2();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Xz(e,t){const r=su(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Bi(e)?Ad(e):Ri(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function eC(e,t,r){let n;if(t==="viewport")n=Yz(e,r);else if(t==="document")n=Gz(Gi(e));else if(di(t))n=Xz(t,r);else{const a=x3(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Sx(n)}function y3(e,t){const r=ql(e);return r===t||!di(r)||lf(r)?!1:fi(r).position==="fixed"||y3(r,t)}function Qz(e,t){const r=t.get(e);if(r)return r;let n=Fm(e,[],!1).filter(l=>di(l)&&Kf(l)!=="body"),a=null;const i=fi(e).position==="fixed";let o=i?ql(e):e;for(;di(o)&&!lf(o);){const l=fi(o),c=Y2(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||n0(o)&&!c&&y3(e,o))?n=n.filter(d=>d!==o):a=l,o=ql(o)}return t.set(e,n),n}function Zz(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Ty(t)?[]:Qz(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=eC(t,d,a);return u.top=Ka(f.top,u.top),u.right=Hl(f.right,u.right),u.bottom=Hl(f.bottom,u.bottom),u.left=Ka(f.left,u.left),u},eC(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Jz(e){const{width:t,height:r}=g3(e);return{width:t,height:r}}function eq(e,t,r){const n=Bi(t),a=Gi(t),i=r==="fixed",o=su(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ri(0);if(n||!n&&!i)if((Kf(t)!=="body"||n0(a))&&(l=Ey(t)),n){const h=su(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=Z2(a));const u=a&&!n&&!i?v3(a,l):Ri(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function _w(e){return fi(e).position==="static"}function tC(e,t){if(!Bi(e)||fi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Gi(e)===r&&(r=r.ownerDocument.body),r}function w3(e,t){const r=es(e);if(Ty(e))return r;if(!Bi(e)){let a=ql(e);for(;a&&!lf(a);){if(di(a)&&!_w(a))return a;a=ql(a)}return r}let n=tC(e,t);for(;n&&Wz(n)&&_w(n);)n=tC(n,t);return n&&lf(n)&&_w(n)&&!Y2(n)?r:n||Vz(e)||r}const tq=async function(e){const t=this.getOffsetParent||w3,r=this.getDimensions,n=await r(e.floating);return{reference:eq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function rq(e){return fi(e).direction==="rtl"}const nq={convertOffsetParentRelativeRectToViewportRelativeRect:qz,getDocumentElement:Gi,getClippingRect:Zz,getOffsetParent:w3,getElementRects:tq,getClientRects:Kz,getDimensions:Jz,getScale:Ad,isElement:di,isRTL:rq};function b3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function aq(e,t){let r=null,n;const a=Gi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const x=J0(f),p=J0(a.clientWidth-(d+h)),v=J0(a.clientHeight-(f+m)),b=J0(d),w={rootMargin:-x+"px "+-p+"px "+-v+"px "+-b+"px",threshold:Ka(0,Hl(1,c))||1};let y=!0;function j(N){const E=N[0].intersectionRatio;if(E!==c){if(!y)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!b3(u,e.getBoundingClientRect())&&o(),y=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function sq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Q2(e),d=a||i?[...u?Fm(u):[],...Fm(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?aq(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[g]=b;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let x,p=c?su(e):null;c&&v();function v(){const b=su(e);p&&!b3(p,b)&&r(),p=b,x=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(g=>{a&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const iq=Lz,oq=$z,lq=Mz,cq=Uz,uq=Rz,rC=Iz,dq=Bz,fq=(e,t,r)=>{const n=new Map,a={platform:nq,...r},i={...a.platform,_c:n};return Pz(e,t,{...a,platform:i})};var Vg=typeof document<"u"?T.useLayoutEffect:T.useEffect;function _x(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!_x(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!_x(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function j3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nC(e,t){const r=j3(e);return Math.round(t*r)/r}function Tw(e){const t=T.useRef(e);return Vg(()=>{t.current=e}),t}function hq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=T.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=T.useState(n);_x(h,n)||m(n);const[x,p]=T.useState(null),[v,b]=T.useState(null),g=T.useCallback(C=>{C!==N.current&&(N.current=C,p(C))},[]),w=T.useCallback(C=>{C!==E.current&&(E.current=C,b(C))},[]),y=i||x,j=o||v,N=T.useRef(null),E=T.useRef(null),S=T.useRef(d),_=c!=null,D=Tw(c),F=Tw(a),O=Tw(u),L=T.useCallback(()=>{if(!N.current||!E.current)return;const C={placement:t,strategy:r,middleware:h};F.current&&(C.platform=F.current),fq(N.current,E.current,C).then(R=>{const z={...R,isPositioned:O.current!==!1};k.current&&!_x(S.current,z)&&(S.current=z,bu.flushSync(()=>{f(z)}))})},[h,t,r,F,O]);Vg(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const k=T.useRef(!1);Vg(()=>(k.current=!0,()=>{k.current=!1}),[]),Vg(()=>{if(y&&(N.current=y),j&&(E.current=j),y&&j){if(D.current)return D.current(y,j,L);L()}},[y,j,L,D,_]);const P=T.useMemo(()=>({reference:N,floating:E,setReference:g,setFloating:w}),[g,w]),I=T.useMemo(()=>({reference:y,floating:j}),[y,j]),M=T.useMemo(()=>{const C={position:r,left:0,top:0};if(!I.floating)return C;const R=nC(I.floating,d.x),z=nC(I.floating,d.y);return l?{...C,transform:"translate("+R+"px, "+z+"px)",...j3(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:z}},[r,l,I.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:L,refs:P,elements:I,floatingStyles:M}),[d,L,P,I,M])}const mq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?rC({element:n.current,padding:a}).fn(r):{}:n?rC({element:n,padding:a}).fn(r):{}}}},pq=(e,t)=>({...iq(e),options:[e,t]}),gq=(e,t)=>({...oq(e),options:[e,t]}),xq=(e,t)=>({...dq(e),options:[e,t]}),vq=(e,t)=>({...lq(e),options:[e,t]}),yq=(e,t)=>({...cq(e),options:[e,t]}),wq=(e,t)=>({...uq(e),options:[e,t]}),bq=(e,t)=>({...mq(e),options:[e,t]});var jq="Arrow",N3=T.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ot.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});N3.displayName=jq;var Nq=N3;function J2(e){const[t,r]=T.useState(void 0);return dn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var e_="Popper",[S3,Gf]=Cs(e_),[Sq,_3]=S3(e_),T3=e=>{const{__scopePopper:t,children:r}=e,[n,a]=T.useState(null);return s.jsx(Sq,{scope:t,anchor:n,onAnchorChange:a,children:r})};T3.displayName=e_;var E3="PopperAnchor",A3=T.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=_3(E3,r),o=T.useRef(null),l=or(t,o);return T.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Ot.div,{...a,ref:l})});A3.displayName=E3;var t_="PopperContent",[_q,Tq]=S3(t_),C3=T.forwardRef((e,t)=>{var ue,he,G,re,de,ne;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=e,v=_3(t_,r),[b,g]=T.useState(null),w=or(t,Ee=>g(Ee)),[y,j]=T.useState(null),N=J2(y),E=(N==null?void 0:N.width)??0,S=(N==null?void 0:N.height)??0,_=n+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],O=F.length>0,L={padding:D,boundary:F.filter(Aq),altBoundary:O},{refs:k,floatingStyles:P,placement:I,isPositioned:M,middlewareData:C}=hq({strategy:"fixed",placement:_,whileElementsMounted:(...Ee)=>sq(...Ee,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[pq({mainAxis:a+S,alignmentAxis:o}),c&&gq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xq():void 0,...L}),c&&vq({...L}),yq({...L,apply:({elements:Ee,rects:Ce,availableWidth:De,availableHeight:Pe})=>{const{width:ce,height:$e}=Ce.reference,ct=Ee.floating.style;ct.setProperty("--radix-popper-available-width",`${De}px`),ct.setProperty("--radix-popper-available-height",`${Pe}px`),ct.setProperty("--radix-popper-anchor-width",`${ce}px`),ct.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),y&&bq({element:y,padding:l}),Cq({arrowWidth:E,arrowHeight:S}),h&&wq({strategy:"referenceHidden",...L})]}),[R,z]=O3(I),J=ya(x);dn(()=>{M&&(J==null||J())},[M,J]);const U=(ue=C.arrow)==null?void 0:ue.x,q=(he=C.arrow)==null?void 0:he.y,Y=((G=C.arrow)==null?void 0:G.centerOffset)!==0,[Q,Z]=T.useState();return dn(()=>{b&&Z(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:M?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(re=C.transformOrigin)==null?void 0:re.x,(de=C.transformOrigin)==null?void 0:de.y].join(" "),...((ne=C.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(_q,{scope:r,placedSide:R,onArrowChange:j,arrowX:U,arrowY:q,shouldHideArrow:Y,children:s.jsx(Ot.div,{"data-side":R,"data-align":z,...p,ref:w,style:{...p.style,animation:M?void 0:"none"}})})})});C3.displayName=t_;var D3="PopperArrow",Eq={top:"bottom",right:"left",bottom:"top",left:"right"},k3=T.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Tq(D3,n),o=Eq[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Nq,{...a,ref:r,style:{...a.style,display:"block"}})})});k3.displayName=D3;function Aq(e){return e!==null}var Cq=e=>({name:"transformOrigin",options:e,fn(t){var v,b,g;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=O3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let x="",p="";return u==="bottom"?(x=o?f:`${h}px`,p=`${-c}px`):u==="top"?(x=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(x=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x,y:p}}}});function O3(e){const[t,r="center"]=e.split("-");return[t,r]}var P3=T3,Ay=A3,r_=C3,n_=k3,[Cy,SPe]=Cs("Tooltip",[Gf]),a_=Gf(),I3="TooltipProvider",Dq=700,aC="tooltip.open",[kq,M3]=Cy(I3),R3=e=>{const{__scopeTooltip:t,delayDuration:r=Dq,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=T.useRef(!0),l=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(kq,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};R3.displayName=I3;var F3="Tooltip",[_Pe,Dy]=Cy(F3),zj="TooltipTrigger",Oq=T.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Dy(zj,r),i=M3(zj,r),o=a_(r),l=T.useRef(null),c=or(t,l,a.onTriggerChange),u=T.useRef(!1),d=T.useRef(!1),f=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Ay,{asChild:!0,...o,children:s.jsx(Ot.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:vt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:vt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:vt(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:vt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:vt(e.onBlur,a.onClose),onClick:vt(e.onClick,a.onClose)})})});Oq.displayName=zj;var Pq="TooltipPortal",[TPe,Iq]=Cy(Pq,{forceMount:void 0}),cf="TooltipContent",L3=T.forwardRef((e,t)=>{const r=Iq(cf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Dy(cf,e.__scopeTooltip);return s.jsx(Ki,{present:n||o.open,children:o.disableHoverableContent?s.jsx($3,{side:a,...i,ref:t}):s.jsx(Mq,{side:a,...i,ref:t})})}),Mq=T.forwardRef((e,t)=>{const r=Dy(cf,e.__scopeTooltip),n=M3(cf,e.__scopeTooltip),a=T.useRef(null),i=or(t,a),[o,l]=T.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=T.useCallback(()=>{l(null),f(!1)},[f]),m=T.useCallback((x,p)=>{const v=x.currentTarget,b={x:x.clientX,y:x.clientY},g=Bq(b,v.getBoundingClientRect()),w=Uq(b,g),y=Wq(p.getBoundingClientRect()),j=Hq([...w,...y]);l(j),f(!0)},[f]);return T.useEffect(()=>()=>h(),[h]),T.useEffect(()=>{if(c&&d){const x=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),T.useEffect(()=>{if(o){const x=p=>{const v=p.target,b={x:p.clientX,y:p.clientY},g=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!Vq(b,o);g?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,h]),s.jsx($3,{...e,ref:i})}),[Rq,Fq]=Cy(F3,{isInside:!1}),Lq=WV("TooltipContent"),$3=T.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Dy(cf,r),u=a_(r),{onClose:d}=c;return T.useEffect(()=>(document.addEventListener(aC,d),()=>document.removeEventListener(aC,d)),[d]),T.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(r_,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Lq,{children:n}),s.jsx(Rq,{scope:r,isInside:!0,children:s.jsx(lH,{id:c.contentId,role:"tooltip",children:a||n})})]})})});L3.displayName=cf;var B3="TooltipArrow",$q=T.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=a_(r);return Fq(B3,r).isInside?null:s.jsx(n_,{...a,...n,ref:t})});$q.displayName=B3;function Bq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Uq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Wq(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Vq(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function Hq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),zq(t)}function zq(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var qq=R3,U3=L3;const Kq=qq,Gq=T.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(U3,{ref:n,sideOffset:t,className:tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Gq.displayName=U3.displayName;function a0(){const{data:e,isLoading:t}=Le({queryKey:["/api/auth/user"],retry:!1,staleTime:3e5,refetchOnWindowFocus:!1,refetchInterval:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}const Yq="user_id",Xq=e=>{try{localStorage.setItem(Yq,e)}catch(t){console.error("Failed to store user ID in localStorage:",t)}},Qq=()=>{localStorage.getItem("user_id")||(Xq("14674"),console.log("🔄 No user_id found, set default to 14674")),localStorage.getItem("org_id")||localStorage.setItem("org_id","60"),localStorage.getItem("role")||localStorage.setItem("role","admin")},Ne=T.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:tt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ne.displayName="Card";const ht=T.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:tt("flex flex-col space-y-1.5 p-6",e),...t}));ht.displayName="CardHeader";const mt=T.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:tt("text-2xl font-semibold leading-none tracking-tight",e),...t}));mt.displayName="CardTitle";const uf=T.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:tt("text-sm text-muted-foreground",e),...t}));uf.displayName="CardDescription";const _e=T.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:tt("p-6 pt-0",e),...t}));_e.displayName="CardContent";const Zq=T.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:tt("flex items-center p-6 pt-0",e),...t}));Zq.displayName="CardFooter";function Jq(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Ne,{className:"w-full max-w-md mx-4",children:s.jsxs(_e,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(of,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const qj=yy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=T.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?NR:"button";return s.jsx(o,{className:tt(qj({variant:t,size:r,className:e})),ref:i,...a})});ee.displayName="Button";function eK(){const{isLoading:e,isAuthenticated:t,user:r}=a0();T.useState(!1);const n=localStorage.getItem("user_id")||"225";return Le({queryKey:["/api/pto-requests",n],queryFn:async()=>{try{const a=await fetch(`/api/pto-requests?userId=${n}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return a.ok?a.json():[]}catch{return[]}},enabled:t}),Le({queryKey:["/api/pto-variants/available"],queryFn:async()=>{try{const a=await fetch("/api/pto-variants",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}}).then(o=>o.json()),i=[];for(const o of a)try{const l=await fetch(`/api/employee-assignments/pto/${o.id}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});l.ok&&(await l.json()).some(d=>d.userId===n||d.userId===n.toString())&&i.push(o)}catch(l){console.error(`Error checking assignments for variant ${o.id}:`,l)}return i}catch{return[]}},enabled:t}),e?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Ne,{className:"w-full max-w-md mx-4",children:s.jsx(_e,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"ez"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"eziileave"}),s.jsx($j,{className:"w-6 h-6 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Loading your workspace..."})]})})})}):(window.location.href="/",null)}let cs=null,Zi=0;const tK=30*1e3,sC=e=>{switch(e){case"admin":return{employeeOverview:{view:!0,modify:!0},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!0},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},employeeReports:{view:!0,modify:!0},adminOverview:{view:!0,modify:!0},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!0},workflows:{view:!0,modify:!0},roles:{view:!0,modify:!0},adminReports:{view:!0,modify:!0},importLeaveData:{view:!0,modify:!0},adminLeaveTypes:{view:!0,modify:!0},adminCompOff:{view:!0,modify:!0},adminPTO:{view:!0,modify:!0},adminSettings:{view:!0,modify:!0},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}};case"manager":return{employeeOverview:{view:!0,modify:!1},leaveApplications:{view:!0,modify:!1},holidays:{view:!0,modify:!1},compensatoryOff:{view:!0,modify:!1},pto:{view:!0,modify:!1},employeeReports:{view:!0,modify:!1},adminOverview:{view:!0,modify:!1},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},adminReports:{view:!0,modify:!1},importLeaveData:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},adminSettings:{view:!1,modify:!1},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}};case"employee":default:return{employeeOverview:{view:!0,modify:!1},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!1},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},employeeReports:{view:!0,modify:!1},adminOverview:{view:!1,modify:!1},approvals:{view:!1,modify:!1},employees:{view:!1,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},adminReports:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},adminSettings:{view:!1,modify:!1},allowOnBehalf:{pto:!1,leave:!1,compOff:!1}}}};function s0(){const[e,t]=T.useState(cs),[r,n]=T.useState(!cs);T.useEffect(()=>{const c=async()=>{try{const f=localStorage.getItem("role_name")||localStorage.getItem("role")||"employee",h=localStorage.getItem("org_id"),m=Date.now();if(cs&&m-Zi<tK){console.log("Using cached permissions to prevent flickering"),t(cs),n(!1);return}if(console.log("Loading permissions for role:",f),h)try{const p={"Content-Type":"application/json"};h&&(p["X-Org-Id"]=h);const v=await fetch("/api/roles",{headers:p,credentials:"include"});if(v.ok){const g=(await v.json()).find(w=>w.name.toLowerCase()===f.toLowerCase());if(g&&g.permissions){console.log("Using database role permissions for",f,":",g.permissions),console.log("Workflows permission:",g.permissions.workflows);let w=g.permissions;f.toLowerCase()==="admin"&&Object.keys(g.permissions).length===0&&(w={employeeOverview:{view:!0,modify:!0},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!0},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},employeeReports:{view:!0,modify:!0},adminOverview:{view:!0,modify:!0},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!0},workflows:{view:!0,modify:!0},roles:{view:!0,modify:!0},adminReports:{view:!0,modify:!0},importLeaveData:{view:!0,modify:!0},adminLeaveTypes:{view:!0,modify:!0},adminCompOff:{view:!0,modify:!0},adminPTO:{view:!0,modify:!0},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}}),cs=w,Zi=Date.now(),t(w),n(!1);return}}}catch(p){console.error("Error fetching role permissions from database:",p)}const x=localStorage.getItem("user_permissions");if(x){console.log("Using user_permissions:",JSON.parse(x));const p=JSON.parse(x);cs=p,Zi=Date.now(),t(p)}else{const p=`role_permissions_${f.toLowerCase()}`,v=localStorage.getItem(p);if(console.log("Checking role key:",p),console.log("Role permissions found:",!!v),v){const b=JSON.parse(v);console.log("Using role permissions:",b),cs=b,Zi=Date.now(),t(b)}else{const b=sC(f);console.log("Using default permissions for role:",f,b),cs=b,Zi=Date.now(),t(b)}}}catch(f){console.error("Error loading permissions:",f);const h=sC("employee");cs=h,Zi=Date.now(),t(h)}finally{n(!1)}};c();const u=f=>{(!f||f.key==="user_permissions"||f.key==="role"||f.key==="org_id")&&(console.log("Storage change detected, invalidating permissions cache"),cs=null,Zi=0,n(!0),c())},d=f=>{console.log("Custom permissions change detected, invalidating cache"),cs=null,Zi=0,n(!0),c()};return window.addEventListener("storage",u),window.addEventListener("permissions-updated",d),()=>{window.removeEventListener("storage",u),window.removeEventListener("permissions-updated",d)}},[]);const a=(c,u="view")=>{if(!e)return!1;const d=e[c];return d?c==="allowOnBehalf"?!0:d[u]===!0:!1};return{permissions:e,loading:r,hasPermission:a,canViewScreen:c=>a(c,"view"),canModifyScreen:c=>a(c,"modify"),updatePermissions:c=>{localStorage.setItem("user_permissions",JSON.stringify(c)),cs=c,Zi=Date.now(),t(c)}}}const rK="https://qa-api.resolveindia.com";async function Ds(){console.log("[ExternalAPI] Starting fetchEmployeeData...");const e=localStorage.getItem("jwt_token");if(console.log("[ExternalAPI] JWT token available:",!!e),console.log("[ExternalAPI] Token length:",(e==null?void 0:e.length)||0),console.log("[ExternalAPI] Token preview:",(e==null?void 0:e.substring(0,50))+"..."),console.log("[ExternalAPI] Full Authorization header:",`Bearer ${e}`),!e)throw console.error("[ExternalAPI] No JWT token found in localStorage"),console.log("[ExternalAPI] Available localStorage keys:",Object.keys(localStorage)),new Error("Authentication required. JWT token not found in localStorage.");const t={userBlocks:[1,3,4],userWise:0,workerType:0,attribute:0,subAttributeId:0};try{console.log("[ExternalAPI] Making request to worker-master-leave endpoint..."),console.log("[ExternalAPI] Payload:",t);const r=await fetch(`${rK}/reports/worker-master-leave`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(console.log("[ExternalAPI] Response status:",r.status),!r.ok){const a=await r.text();throw console.error("[ExternalAPI] Response error:",a),new Error(`Failed to fetch employee data: ${r.status} ${r.statusText}`)}const n=await r.json();if(console.log("[ExternalAPI] Response data:",n),n.result!=="Success")throw console.error("[ExternalAPI] API returned error:",n.message),new Error(`API returned error: ${n.message}`);return console.log(`[ExternalAPI] Successfully fetched ${n.data.data.length} employees from external API`),n.data.data}catch(r){throw console.error("[ExternalAPI] Error fetching employee data:",r),r}}function Su(e){try{return{id:e.user_id||"N/A",firstName:e.first_name||"",lastName:e.last_name||"",email:e.email||"",employeeNumber:e.employee_number||"",designation:e.designation_name||"Employee",dateOfJoining:e.date_of_joining||null,userRole:e.user_role_name||"General",workerType:e.worker_type||"Employee",profilePhoto:e.user_profile||null,phoneNumber:e.Mobile_number_1||e.Mobile_number_2||null,dateOfBirth:e.date_of_birth||null,gender:e.gender_name||"Not Specified",reportingManager:e.reporting_manager_id||null,leaveId:e.leave_id||null,isDifferentlyAbled:e.is_differently_abled==="Yes",lastWorkingDay:e.last_working_day||null,user_id:e.user_id||"N/A",user_name:e.user_name||`${e.first_name||""} ${e.last_name||""}`.trim()||e.employee_number||`User ${e.user_id}`||"Employee",employee_number:e.employee_number||""}}catch(t){return console.error("[ExternalAPI] Error transforming employee data:",t,e),{id:e.user_id||"N/A",firstName:"Unknown",lastName:"Employee",email:"",employeeNumber:"",designation:"Employee",dateOfJoining:null,userRole:"General",workerType:"Employee",profilePhoto:null,phoneNumber:null,dateOfBirth:null,gender:"Not Specified",reportingManager:null,leaveId:null,isDifferentlyAbled:!1,lastWorkingDay:null,user_id:e.user_id||"N/A",user_name:e.user_name||`${e.first_name||""} ${e.last_name||""}`.trim()||e.employee_number||`User ${e.user_id}`||"Employee",employee_number:e.employee_number||""}}}const W3=Object.freeze(Object.defineProperty({__proto__:null,fetchEmployeeData:Ds,transformEmployeeData:Su},Symbol.toStringTag,{value:"Module"}));function fr({children:e}){var F;const{user:t}=a0(),{canViewScreen:r,loading:n,permissions:a}=s0(),[i]=ju(),[o,l]=T.useState(!1),[c,u]=T.useState(!1),{data:d=[]}=Le({queryKey:["external-employees"],queryFn:Ds,staleTime:5*60*1e3}),f=localStorage.getItem("user_id"),h=t;let m="User",x="U";if(f&&f!==(h==null?void 0:h.id)){const O=d.find(L=>L.user_id===f);if(O!=null&&O.user_name)m=O.user_name,x=O.user_name.split(" ").map(L=>L[0]).join("").substring(0,2).toUpperCase();else{const k={6005:{name:"George Mathews",initials:"GM"},7243:{name:"Sumalatha Thadimari",initials:"ST"},7246:{name:"Anjali Kumari",initials:"AK"},12080:{name:"Rahul Sharma",initials:"RS"}}[f];k?(m=k.name,x=k.initials):(m=`Employee ${f}`,x=f.substring(0,2).toUpperCase())}}else m=h!=null&&h.firstName&&(h!=null&&h.lastName)?`${h.firstName} ${h.lastName}`:h!=null&&h.email?h.email.split("@")[0]:"User",x=h!=null&&h.firstName&&(h!=null&&h.lastName)?`${h.firstName[0]}${h.lastName[0]}`.toUpperCase():h!=null&&h.firstName?h.firstName[0].toUpperCase():"U";const p=localStorage.getItem("role_name")||localStorage.getItem("role"),[v,b]=T.useState(()=>localStorage.getItem("currentView")||"admin");T.useEffect(()=>{const O=localStorage.getItem("currentView");O&&O!==v&&b(O)},[]);const g=()=>{const O=v==="admin"?"employee":"admin";b(O),localStorage.setItem("currentView",O)},w=[{name:"Admin Overview",href:"/overview",icon:wx,permission:"adminOverview",type:"admin"},{name:"Approvals",href:"/approvals",icon:gn,permission:"approvals",type:"admin"},{name:"Employees",href:"/employees",icon:un,permission:"employees",type:"admin"},{name:"Workflows",href:"/workflows",icon:OH,permission:"workflows",type:"admin"},{name:"Roles",href:"/roles",icon:BH,permission:"roles",type:"admin"},{name:"Import Leave Data",href:"/import-leave-data",icon:H2,permission:"importLeaveData",type:"admin"},{name:"Employee Overview",href:"/employee-overview",icon:Uu,permission:"employeeOverview",type:"employee"},{name:"Leave Applications",href:"/applications",icon:Uu,permission:"leaveApplications",type:"employee"},{name:"Holidays",href:"/holidays",icon:Uu,permission:"holidays",type:"employee"},{name:"Compensatory Off",href:"/compensatory-off",icon:Uu,permission:"compensatoryOff",type:"employee"},{name:"PTO",href:"/pto",icon:Uu,permission:"pto",type:"employee"},{name:"Task Manager",href:"/task-manager",icon:PH,permission:"employeeOverview",type:"employee"}],y=[{name:"Leave Types",href:"/admin/leave-types",icon:uo,permission:"adminLeaveTypes"},{name:"Comp Off",href:"/admin/comp-off",icon:uo,permission:"adminCompOff"},{name:"PTO",href:"/admin/pto",icon:uo,permission:"adminPTO"},{name:"Feature Settings",href:"/admin/feature-settings",icon:uo,permission:"adminSettings"}],j=[{name:"Leave Availed Report",href:"/admin/reports/leave-availed",icon:Vn,permission:"adminReports"},{name:"Withdrawal Rejection Report",href:"/admin/reports/withdrawal-rejection",icon:Vn,permission:"adminReports"},{name:"Collaborative Leave Report",href:"/admin/reports/collaborative-leave",icon:Vn,permission:"adminReports"},{name:"HR Leave Balance Report",href:"/hr-leave-balance-report",icon:Vn,permission:"adminReports"}],N=[{name:"My Dashboard",href:"/reports/dashboard",icon:Vn,permission:"employeeReports"},{name:"My Leave History",href:"/reports/history",icon:Vn,permission:"employeeReports"},{name:"My Balances",href:"/reports/balances",icon:Vn,permission:"employeeReports"},{name:"My Withdrawal History",href:"/reports/withdrawal-history",icon:Vn,permission:"employeeReports"}];localStorage.getItem("user_id"),!n&&a&&w.filter(O=>O.type==="admin").some(O=>r(O.permission)),!n&&a&&w.filter(O=>O.type==="employee").some(O=>r(O.permission));const E=n||!a?[]:w.filter(O=>{const L=r(O.permission);return O.type===v&&L}),S=n||!a?[]:y.filter(O=>v==="admin"&&r(O.permission)),_=n||!a?[]:j.filter(O=>v==="admin"&&r(O.permission)),D=n||!a?[]:N.filter(O=>v==="employee"&&r(O.permission));return s.jsxs("div",{className:"flex h-screen overflow-hidden",children:[s.jsxs("div",{className:"w-64 bg-sidebar text-white flex-shrink-0 relative flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-600",children:s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:"/eziileave-logo.png",alt:"EziiLeave",className:"h-8 w-auto"})})}),s.jsxs("nav",{className:"mt-6 overflow-y-auto flex-1 pb-20",children:[s.jsx("div",{className:"px-4 mb-6",children:s.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uu,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-medium",children:"Home"})]}),s.jsx("div",{className:"ml-7 mt-2 text-sm text-gray-300",children:"Leave"})]})}),s.jsxs("div",{className:"space-y-1 px-4",children:[E.map(O=>{const L=O.icon,k=i===O.href;return s.jsx(Vh,{href:O.href,children:s.jsxs("a",{className:`flex items-center space-x-3 p-3 rounded-lg transition-colors ${k?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s.jsx(L,{className:"w-5 h-5"}),s.jsx("span",{children:O.name})]})},O.name)}),p==="admin"&&S.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg text-gray-300 hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>l(!o),children:[s.jsx(uo,{className:"w-5 h-5"}),s.jsx("span",{children:"Configurations"}),s.jsx(Td,{className:`w-4 h-4 ml-auto transition-transform ${o?"rotate-180":""}`})]}),o&&s.jsx("div",{className:"ml-8 space-y-1",children:S.map(O=>{const L=i===O.href;return s.jsx(Vh,{href:O.href,children:s.jsx("div",{className:`flex items-center space-x-3 p-2 rounded-lg transition-colors cursor-pointer ${L?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:s.jsx("span",{className:"text-sm",children:O.name})})},O.name)})})]}),v==="admin"&&_.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg text-gray-300 hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>u(!c),children:[s.jsx(Vn,{className:"w-5 h-5"}),s.jsx("span",{children:"Reports"}),s.jsx(Td,{className:`w-4 h-4 ml-auto transition-transform ${c?"rotate-180":""}`})]}),c&&s.jsx("div",{className:"ml-8 space-y-1",children:_.map(O=>{const L=i===O.href;return s.jsx(Vh,{href:O.href,children:s.jsx("div",{className:`flex items-center space-x-3 p-2 rounded-lg transition-colors cursor-pointer ${L?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:s.jsx("span",{className:"text-sm",children:O.name})})},O.name)})})]}),v==="employee"&&D.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg text-gray-300 hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>u(!c),children:[s.jsx(Vn,{className:"w-5 h-5"}),s.jsx("span",{children:"Reports"}),s.jsx(Td,{className:`w-4 h-4 ml-auto transition-transform ${c?"rotate-180":""}`})]}),c&&s.jsx("div",{className:"ml-8 space-y-1",children:D.map(O=>{const L=i===O.href;return s.jsx(Vh,{href:O.href,children:s.jsx("div",{className:`flex items-center space-x-3 p-2 rounded-lg transition-colors cursor-pointer ${L?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:s.jsx("span",{className:"text-sm",children:O.name})})},O.name)})})]})]})]}),p==="admin"&&s.jsx("div",{className:"mt-auto p-4",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-600 rounded-md",children:[s.jsx("span",{className:"text-sm text-white font-medium",children:v==="admin"?"Admin View":"Employee View"}),s.jsx("button",{onClick:g,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${v==="admin"?"bg-blue-500":"bg-gray-400"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${v==="admin"?"translate-x-6":"translate-x-1"}`})})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("h1",{className:"text-lg font-medium text-gray-800",children:i==="/"?"Leave Management":i==="/setup"?"Leave Management / Setup":((F=E.find(O=>O.href===i))==null?void 0:F.name)||"Leave Management"})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(DH,{className:"w-5 h-5"})}),p==="admin"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"View:"}),s.jsx("button",{onClick:g,className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:v==="admin"?"Admin":"Employee"})]}),s.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("span",{className:"text-sm text-gray-700",children:m}),s.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-medium",children:x})})]})]})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:e})]})]})}var i0=e=>e.type==="checkbox",kc=e=>e instanceof Date,ha=e=>e==null;const V3=e=>typeof e=="object";var Kr=e=>!ha(e)&&!Array.isArray(e)&&V3(e)&&!kc(e),H3=e=>Kr(e)&&e.target?i0(e.target)?e.target.checked:e.target.value:e,nK=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,z3=(e,t)=>e.has(nK(t)),aK=e=>{const t=e.constructor&&e.constructor.prototype;return Kr(t)&&t.hasOwnProperty("isPrototypeOf")},s_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(s_&&(e instanceof Blob||n))&&(r||Kr(e)))if(t=r?[]:{},!r&&!aK(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=An(e[a]));else return e;return t}var ky=e=>Array.isArray(e)?e.filter(Boolean):[],zr=e=>e===void 0,Qe=(e,t,r)=>{if(!t||!Kr(e))return r;const n=ky(t.split(/[,[\].]+?/)).reduce((a,i)=>ha(a)?a:a[i],e);return zr(n)||n===e?zr(e[t])?r:e[t]:n},za=e=>typeof e=="boolean",i_=e=>/^\w*$/.test(e),q3=e=>ky(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ar=(e,t,r)=>{let n=-1;const a=i_(t)?[t]:q3(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Kr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Tx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ys={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ji={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},K3=se.createContext(null),Oy=()=>se.useContext(K3),sK=e=>{const{children:t,...r}=e;return se.createElement(K3.Provider,{value:r},t)};var G3=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ys.all&&(t._proxyFormState[o]=!n||Ys.all),r&&(r[o]=!0),e[o]}});return a};function iK(e){const t=Oy(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=se.useState(r._formState),c=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=se.useRef(a);return u.current=a,se.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,i]),se.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),se.useMemo(()=>G3(o,r,c.current,!1),[o,r])}var ki=e=>typeof e=="string",Y3=(e,t,r,n,a)=>ki(e)?(n&&t.watch.add(e),Qe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Qe(r,i))):(n&&(t.watchAll=!0),r);function oK(e){const t=Oy(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},l=se.useRef(n),c=se.useRef(a);l.current=n,se.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&d(Y3(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,i,o]);const[u,d]=se.useState(r._getWatch(n,a));return se.useEffect(()=>r._removeUnmounted()),u}function lK(e){const t=Oy(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=z3(a._names.array,r),l=oK({control:a,name:r,defaultValue:Qe(a._formValues,r,Qe(a._defaultValues,r,e.defaultValue)),exact:!0}),c=iK({control:a,name:r,exact:!0}),u=se.useRef(e),d=se.useRef(a.register(r,{...e.rules,value:l,...za(e.disabled)?{disabled:e.disabled}:{}})),f=se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Qe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Qe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Qe(c.validatingFields,r)},error:{enumerable:!0,get:()=>Qe(c.errors,r)}}),[c,r]),h=se.useCallback(v=>d.current.onChange({target:{value:H3(v),name:r},type:Tx.CHANGE}),[r]),m=se.useCallback(()=>d.current.onBlur({target:{value:Qe(a._formValues,r),name:r},type:Tx.BLUR}),[r,a._formValues]),x=se.useCallback(v=>{const b=Qe(a._fields,r);b&&v&&(b._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:g=>v.setCustomValidity(g),reportValidity:()=>v.reportValidity()})},[a._fields,r]),p=se.useMemo(()=>({name:r,value:l,...za(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:m,ref:x}),[r,n,c.disabled,h,m,x,l]);return se.useEffect(()=>{const v=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...za(u.current.disabled)?{disabled:u.current.disabled}:{}});const b=(g,w)=>{const y=Qe(a._fields,g);y&&y._f&&(y._f.mount=w)};if(b(r,!0),v){const g=An(Qe(a._options.defaultValues,r));ar(a._defaultValues,r,g),zr(Qe(a._formValues,r))&&ar(a._formValues,r,g)}return!o&&a.register(r),()=>{(o?v&&!a._state.action:v)?a.unregister(r):b(r,!1)}},[r,a,o,i]),se.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),se.useMemo(()=>({field:p,formState:c,fieldState:f}),[p,c,f])}const cK=e=>e.render(lK(e));var X3=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},im=e=>Array.isArray(e)?e:[e],iC=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Kj=e=>ha(e)||!V3(e);function ol(e,t){if(Kj(e)||Kj(t))return e===t;if(kc(e)&&kc(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(kc(i)&&kc(o)||Kr(i)&&Kr(o)||Array.isArray(i)&&Array.isArray(o)?!ol(i,o):i!==o)return!1}}return!0}var da=e=>Kr(e)&&!Object.keys(e).length,o_=e=>e.type==="file",Xs=e=>typeof e=="function",Ex=e=>{if(!s_)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Q3=e=>e.type==="select-multiple",l_=e=>e.type==="radio",uK=e=>l_(e)||i0(e),Ew=e=>Ex(e)&&e.isConnected;function dK(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=zr(e)?n++:e[t[n++]];return e}function fK(e){for(const t in e)if(e.hasOwnProperty(t)&&!zr(e[t]))return!1;return!0}function nn(e,t){const r=Array.isArray(t)?t:i_(t)?[t]:q3(t),n=r.length===1?e:dK(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Kr(n)&&da(n)||Array.isArray(n)&&fK(n))&&nn(e,r.slice(0,-1)),e}var Z3=e=>{for(const t in e)if(Xs(e[t]))return!0;return!1};function Ax(e,t={}){const r=Array.isArray(e);if(Kr(e)||r)for(const n in e)Array.isArray(e[n])||Kr(e[n])&&!Z3(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ax(e[n],t[n])):ha(e[n])||(t[n]=!0);return t}function J3(e,t,r){const n=Array.isArray(e);if(Kr(e)||n)for(const a in e)Array.isArray(e[a])||Kr(e[a])&&!Z3(e[a])?zr(t)||Kj(r[a])?r[a]=Array.isArray(e[a])?Ax(e[a],[]):{...Ax(e[a])}:J3(e[a],ha(t)?{}:t[a],r[a]):r[a]=!ol(e[a],t[a]);return r}var Sh=(e,t)=>J3(e,t,Ax(t));const oC={value:!1,isValid:!1},lC={value:!0,isValid:!0};var eF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zr(e[0].attributes.value)?zr(e[0].value)||e[0].value===""?lC:{value:e[0].value,isValid:!0}:lC:oC}return oC},tF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>zr(e)?e:t?e===""?NaN:e&&+e:r&&ki(e)?new Date(e):n?n(e):e;const cC={isValid:!1,value:null};var rF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cC):cC;function uC(e){const t=e.ref;return o_(t)?t.files:l_(t)?rF(e.refs).value:Q3(t)?[...t.selectedOptions].map(({value:r})=>r):i0(t)?eF(e.refs).value:tF(zr(t.value)?e.ref.value:t.value,e)}var hK=(e,t,r,n)=>{const a={};for(const i of e){const o=Qe(t,i);o&&ar(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Cx=e=>e instanceof RegExp,_h=e=>zr(e)?e:Cx(e)?e.source:Kr(e)?Cx(e.value)?e.value.source:e.value:e,dC=e=>({isOnSubmit:!e||e===Ys.onSubmit,isOnBlur:e===Ys.onBlur,isOnChange:e===Ys.onChange,isOnAll:e===Ys.all,isOnTouch:e===Ys.onTouched});const fC="AsyncFunction";var mK=e=>!!e&&!!e.validate&&!!(Xs(e.validate)&&e.validate.constructor.name===fC||Kr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===fC)),pK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),hC=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const om=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Qe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(om(l,t))break}else if(Kr(l)&&om(l,t))break}}};function mC(e,t,r){const n=Qe(e,r);if(n||i_(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Qe(t,i),l=Qe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var gK=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return da(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Ys.all))},xK=(e,t,r)=>!e||!t||e===t||im(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),vK=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,yK=(e,t)=>!ky(Qe(e,t)).length&&nn(e,t),wK=(e,t,r)=>{const n=im(Qe(e,r));return ar(n,"root",t[r]),ar(e,r,n),e},Hg=e=>ki(e);function pC(e,t,r="validate"){if(Hg(e)||Array.isArray(e)&&e.every(Hg)||za(e)&&!e)return{type:r,message:Hg(e)?e:"",ref:t}}var Wu=e=>Kr(e)&&!Cx(e)?e:{value:e,message:""},gC=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:x,name:p,valueAsNumber:v,mount:b}=e._f,g=Qe(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,y=O=>{a&&w.reportValidity&&(w.setCustomValidity(za(O)?"":O||""),w.reportValidity())},j={},N=l_(o),E=i0(o),S=N||E,_=(v||o_(o))&&zr(o.value)&&zr(g)||Ex(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,D=X3.bind(null,p,n,j),F=(O,L,k,P=Ji.maxLength,I=Ji.minLength)=>{const M=O?L:k;j[p]={type:O?P:I,message:M,ref:o,...D(O?P:I,M)}};if(i?!Array.isArray(g)||!g.length:c&&(!S&&(_||ha(g))||za(g)&&!g||E&&!eF(l).isValid||N&&!rF(l).isValid)){const{value:O,message:L}=Hg(c)?{value:!!c,message:c}:Wu(c);if(O&&(j[p]={type:Ji.required,message:L,ref:w,...D(Ji.required,L)},!n))return y(L),j}if(!_&&(!ha(f)||!ha(h))){let O,L;const k=Wu(h),P=Wu(f);if(!ha(g)&&!isNaN(g)){const I=o.valueAsNumber||g&&+g;ha(k.value)||(O=I>k.value),ha(P.value)||(L=I<P.value)}else{const I=o.valueAsDate||new Date(g),M=z=>new Date(new Date().toDateString()+" "+z),C=o.type=="time",R=o.type=="week";ki(k.value)&&g&&(O=C?M(g)>M(k.value):R?g>k.value:I>new Date(k.value)),ki(P.value)&&g&&(L=C?M(g)<M(P.value):R?g<P.value:I<new Date(P.value))}if((O||L)&&(F(!!O,k.message,P.message,Ji.max,Ji.min),!n))return y(j[p].message),j}if((u||d)&&!_&&(ki(g)||i&&Array.isArray(g))){const O=Wu(u),L=Wu(d),k=!ha(O.value)&&g.length>+O.value,P=!ha(L.value)&&g.length<+L.value;if((k||P)&&(F(k,O.message,L.message),!n))return y(j[p].message),j}if(m&&!_&&ki(g)){const{value:O,message:L}=Wu(m);if(Cx(O)&&!g.match(O)&&(j[p]={type:Ji.pattern,message:L,ref:o,...D(Ji.pattern,L)},!n))return y(L),j}if(x){if(Xs(x)){const O=await x(g,r),L=pC(O,w);if(L&&(j[p]={...L,...D(Ji.validate,L.message)},!n))return y(L.message),j}else if(Kr(x)){let O={};for(const L in x){if(!da(O)&&!n)break;const k=pC(await x[L](g,r),w,L);k&&(O={...k,...D(L,k.message)},y(k.message),n&&(j[p]=O))}if(!da(O)&&(j[p]={ref:w,...O},!n))return j}}return y(!0),j};const bK={mode:Ys.onSubmit,reValidateMode:Ys.onChange,shouldFocusError:!0};function jK(e={}){let t={...bK,...e},r={submitCount:0,isDirty:!1,isLoading:Xs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Kr(t.defaultValues)||Kr(t.values)?An(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:An(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:iC(),state:iC()},m=dC(t.mode),x=dC(t.reValidateMode),p=t.criteriaMode===Ys.all,v=H=>te=>{clearTimeout(u),u=setTimeout(H,te)},b=async H=>{if(!t.disabled&&(d.isValid||f.isValid||H)){const te=t.resolver?da((await _()).errors):await F(n,!0);te!==r.isValid&&h.state.next({isValid:te})}},g=(H,te)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((H||Array.from(l.mount)).forEach(me=>{me&&(te?ar(r.validatingFields,me,te):nn(r.validatingFields,me))}),h.state.next({validatingFields:r.validatingFields,isValidating:!da(r.validatingFields)}))},w=(H,te=[],me,Re,Ie=!0,ve=!0)=>{if(Re&&me&&!t.disabled){if(o.action=!0,ve&&Array.isArray(Qe(n,H))){const je=me(Qe(n,H),Re.argA,Re.argB);Ie&&ar(n,H,je)}if(ve&&Array.isArray(Qe(r.errors,H))){const je=me(Qe(r.errors,H),Re.argA,Re.argB);Ie&&ar(r.errors,H,je),yK(r.errors,H)}if((d.touchedFields||f.touchedFields)&&ve&&Array.isArray(Qe(r.touchedFields,H))){const je=me(Qe(r.touchedFields,H),Re.argA,Re.argB);Ie&&ar(r.touchedFields,H,je)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Sh(a,i)),h.state.next({name:H,isDirty:L(H,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ar(i,H,te)},y=(H,te)=>{ar(r.errors,H,te),h.state.next({errors:r.errors})},j=H=>{r.errors=H,h.state.next({errors:r.errors,isValid:!1})},N=(H,te,me,Re)=>{const Ie=Qe(n,H);if(Ie){const ve=Qe(i,H,zr(me)?Qe(a,H):me);zr(ve)||Re&&Re.defaultChecked||te?ar(i,H,te?ve:uC(Ie._f)):I(H,ve),o.mount&&b()}},E=(H,te,me,Re,Ie)=>{let ve=!1,je=!1;const pt={name:H};if(!t.disabled){if(!me||Re){(d.isDirty||f.isDirty)&&(je=r.isDirty,r.isDirty=pt.isDirty=L(),ve=je!==pt.isDirty);const Wt=ol(Qe(a,H),te);je=!!Qe(r.dirtyFields,H),Wt?nn(r.dirtyFields,H):ar(r.dirtyFields,H,!0),pt.dirtyFields=r.dirtyFields,ve=ve||(d.dirtyFields||f.dirtyFields)&&je!==!Wt}if(me){const Wt=Qe(r.touchedFields,H);Wt||(ar(r.touchedFields,H,me),pt.touchedFields=r.touchedFields,ve=ve||(d.touchedFields||f.touchedFields)&&Wt!==me)}ve&&Ie&&h.state.next(pt)}return ve?pt:{}},S=(H,te,me,Re)=>{const Ie=Qe(r.errors,H),ve=(d.isValid||f.isValid)&&za(te)&&r.isValid!==te;if(t.delayError&&me?(c=v(()=>y(H,me)),c(t.delayError)):(clearTimeout(u),c=null,me?ar(r.errors,H,me):nn(r.errors,H)),(me?!ol(Ie,me):Ie)||!da(Re)||ve){const je={...Re,...ve&&za(te)?{isValid:te}:{},errors:r.errors,name:H};r={...r,...je},h.state.next(je)}},_=async H=>{g(H,!0);const te=await t.resolver(i,t.context,hK(H||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(H),te},D=async H=>{const{errors:te}=await _(H);if(H)for(const me of H){const Re=Qe(te,me);Re?ar(r.errors,me,Re):nn(r.errors,me)}else r.errors=te;return te},F=async(H,te,me={valid:!0})=>{for(const Re in H){const Ie=H[Re];if(Ie){const{_f:ve,...je}=Ie;if(ve){const pt=l.array.has(ve.name),Wt=Ie._f&&mK(Ie._f);Wt&&d.validatingFields&&g([Re],!0);const rr=await gC(Ie,l.disabled,i,p,t.shouldUseNativeValidation&&!te,pt);if(Wt&&d.validatingFields&&g([Re]),rr[ve.name]&&(me.valid=!1,te))break;!te&&(Qe(rr,ve.name)?pt?wK(r.errors,rr,ve.name):ar(r.errors,ve.name,rr[ve.name]):nn(r.errors,ve.name))}!da(je)&&await F(je,te,me)}}return me.valid},O=()=>{for(const H of l.unMount){const te=Qe(n,H);te&&(te._f.refs?te._f.refs.every(me=>!Ew(me)):!Ew(te._f.ref))&&G(H)}l.unMount=new Set},L=(H,te)=>!t.disabled&&(H&&te&&ar(i,H,te),!ol(U(),a)),k=(H,te,me)=>Y3(H,l,{...o.mount?i:zr(te)?a:ki(H)?{[H]:te}:te},me,te),P=H=>ky(Qe(o.mount?i:a,H,t.shouldUnregister?Qe(a,H,[]):[])),I=(H,te,me={})=>{const Re=Qe(n,H);let Ie=te;if(Re){const ve=Re._f;ve&&(!ve.disabled&&ar(i,H,tF(te,ve)),Ie=Ex(ve.ref)&&ha(te)?"":te,Q3(ve.ref)?[...ve.ref.options].forEach(je=>je.selected=Ie.includes(je.value)):ve.refs?i0(ve.ref)?ve.refs.length>1?ve.refs.forEach(je=>(!je.defaultChecked||!je.disabled)&&(je.checked=Array.isArray(Ie)?!!Ie.find(pt=>pt===je.value):Ie===je.value)):ve.refs[0]&&(ve.refs[0].checked=!!Ie):ve.refs.forEach(je=>je.checked=je.value===Ie):o_(ve.ref)?ve.ref.value="":(ve.ref.value=Ie,ve.ref.type||h.state.next({name:H,values:An(i)})))}(me.shouldDirty||me.shouldTouch)&&E(H,Ie,me.shouldTouch,me.shouldDirty,!0),me.shouldValidate&&J(H)},M=(H,te,me)=>{for(const Re in te){const Ie=te[Re],ve=`${H}.${Re}`,je=Qe(n,ve);(l.array.has(H)||Kr(Ie)||je&&!je._f)&&!kc(Ie)?M(ve,Ie,me):I(ve,Ie,me)}},C=(H,te,me={})=>{const Re=Qe(n,H),Ie=l.array.has(H),ve=An(te);ar(i,H,ve),Ie?(h.array.next({name:H,values:An(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&me.shouldDirty&&h.state.next({name:H,dirtyFields:Sh(a,i),isDirty:L(H,ve)})):Re&&!Re._f&&!ha(ve)?M(H,ve,me):I(H,ve,me),hC(H,l)&&h.state.next({...r}),h.state.next({name:o.mount?H:void 0,values:An(i)})},R=async H=>{o.mount=!0;const te=H.target;let me=te.name,Re=!0;const Ie=Qe(n,me),ve=je=>{Re=Number.isNaN(je)||kc(je)&&isNaN(je.getTime())||ol(je,Qe(i,me,je))};if(Ie){let je,pt;const Wt=te.type?uC(Ie._f):H3(H),rr=H.type===Tx.BLUR||H.type===Tx.FOCUS_OUT,os=!pK(Ie._f)&&!t.resolver&&!Qe(r.errors,me)&&!Ie._f.deps||vK(rr,Qe(r.touchedFields,me),r.isSubmitted,x,m),Is=hC(me,l,rr);ar(i,me,Wt),rr?(Ie._f.onBlur&&Ie._f.onBlur(H),c&&c(0)):Ie._f.onChange&&Ie._f.onChange(H);const vi=E(me,Wt,rr),yi=!da(vi)||Is;if(!rr&&h.state.next({name:me,type:H.type,values:An(i)}),os)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?rr&&b():rr||b()),yi&&h.state.next({name:me,...Is?{}:vi});if(!rr&&Is&&h.state.next({...r}),t.resolver){const{errors:ls}=await _([me]);if(ve(Wt),Re){const wi=mC(r.errors,n,me),La=mC(ls,n,wi.name||me);je=La.error,me=La.name,pt=da(ls)}}else g([me],!0),je=(await gC(Ie,l.disabled,i,p,t.shouldUseNativeValidation))[me],g([me]),ve(Wt),Re&&(je?pt=!1:(d.isValid||f.isValid)&&(pt=await F(n,!0)));Re&&(Ie._f.deps&&J(Ie._f.deps),S(me,pt,je,vi))}},z=(H,te)=>{if(Qe(r.errors,te)&&H.focus)return H.focus(),1},J=async(H,te={})=>{let me,Re;const Ie=im(H);if(t.resolver){const ve=await D(zr(H)?H:Ie);me=da(ve),Re=H?!Ie.some(je=>Qe(ve,je)):me}else H?(Re=(await Promise.all(Ie.map(async ve=>{const je=Qe(n,ve);return await F(je&&je._f?{[ve]:je}:je)}))).every(Boolean),!(!Re&&!r.isValid)&&b()):Re=me=await F(n);return h.state.next({...!ki(H)||(d.isValid||f.isValid)&&me!==r.isValid?{}:{name:H},...t.resolver||!H?{isValid:me}:{},errors:r.errors}),te.shouldFocus&&!Re&&om(n,z,H?Ie:l.mount),Re},U=H=>{const te={...o.mount?i:a};return zr(H)?te:ki(H)?Qe(te,H):H.map(me=>Qe(te,me))},q=(H,te)=>({invalid:!!Qe((te||r).errors,H),isDirty:!!Qe((te||r).dirtyFields,H),error:Qe((te||r).errors,H),isValidating:!!Qe(r.validatingFields,H),isTouched:!!Qe((te||r).touchedFields,H)}),Y=H=>{H&&im(H).forEach(te=>nn(r.errors,te)),h.state.next({errors:H?r.errors:{}})},Q=(H,te,me)=>{const Re=(Qe(n,H,{_f:{}})._f||{}).ref,Ie=Qe(r.errors,H)||{},{ref:ve,message:je,type:pt,...Wt}=Ie;ar(r.errors,H,{...Wt,...te,ref:Re}),h.state.next({name:H,errors:r.errors,isValid:!1}),me&&me.shouldFocus&&Re&&Re.focus&&Re.focus()},Z=(H,te)=>Xs(H)?h.state.subscribe({next:me=>H(k(void 0,te),me)}):k(H,te,!0),ue=H=>h.state.subscribe({next:te=>{xK(H.name,te.name,H.exact)&&gK(te,H.formState||d,ct,H.reRenderRoot)&&H.callback({values:{...i},...r,...te})}}).unsubscribe,he=H=>(o.mount=!0,f={...f,...H.formState},ue({...H,formState:f})),G=(H,te={})=>{for(const me of H?im(H):l.mount)l.mount.delete(me),l.array.delete(me),te.keepValue||(nn(n,me),nn(i,me)),!te.keepError&&nn(r.errors,me),!te.keepDirty&&nn(r.dirtyFields,me),!te.keepTouched&&nn(r.touchedFields,me),!te.keepIsValidating&&nn(r.validatingFields,me),!t.shouldUnregister&&!te.keepDefaultValue&&nn(a,me);h.state.next({values:An(i)}),h.state.next({...r,...te.keepDirty?{isDirty:L()}:{}}),!te.keepIsValid&&b()},re=({disabled:H,name:te})=>{(za(H)&&o.mount||H||l.disabled.has(te))&&(H?l.disabled.add(te):l.disabled.delete(te))},de=(H,te={})=>{let me=Qe(n,H);const Re=za(te.disabled)||za(t.disabled);return ar(n,H,{...me||{},_f:{...me&&me._f?me._f:{ref:{name:H}},name:H,mount:!0,...te}}),l.mount.add(H),me?re({disabled:za(te.disabled)?te.disabled:t.disabled,name:H}):N(H,!0,te.value),{...Re?{disabled:te.disabled||t.disabled}:{},...t.progressive?{required:!!te.required,min:_h(te.min),max:_h(te.max),minLength:_h(te.minLength),maxLength:_h(te.maxLength),pattern:_h(te.pattern)}:{},name:H,onChange:R,onBlur:R,ref:Ie=>{if(Ie){de(H,te),me=Qe(n,H);const ve=zr(Ie.value)&&Ie.querySelectorAll&&Ie.querySelectorAll("input,select,textarea")[0]||Ie,je=uK(ve),pt=me._f.refs||[];if(je?pt.find(Wt=>Wt===ve):ve===me._f.ref)return;ar(n,H,{_f:{...me._f,...je?{refs:[...pt.filter(Ew),ve,...Array.isArray(Qe(a,H))?[{}]:[]],ref:{type:ve.type,name:H}}:{ref:ve}}}),N(H,!1,void 0,ve)}else me=Qe(n,H,{}),me._f&&(me._f.mount=!1),(t.shouldUnregister||te.shouldUnregister)&&!(z3(l.array,H)&&o.action)&&l.unMount.add(H)}}},ne=()=>t.shouldFocusError&&om(n,z,l.mount),Ee=H=>{za(H)&&(h.state.next({disabled:H}),om(n,(te,me)=>{const Re=Qe(n,me);Re&&(te.disabled=Re._f.disabled||H,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(Ie=>{Ie.disabled=Re._f.disabled||H}))},0,!1))},Ce=(H,te)=>async me=>{let Re;me&&(me.preventDefault&&me.preventDefault(),me.persist&&me.persist());let Ie=An(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ve,values:je}=await _();r.errors=ve,Ie=je}else await F(n);if(l.disabled.size)for(const ve of l.disabled)ar(Ie,ve,void 0);if(nn(r.errors,"root"),da(r.errors)){h.state.next({errors:{}});try{await H(Ie,me)}catch(ve){Re=ve}}else te&&await te({...r.errors},me),ne(),setTimeout(ne);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:da(r.errors)&&!Re,submitCount:r.submitCount+1,errors:r.errors}),Re)throw Re},De=(H,te={})=>{Qe(n,H)&&(zr(te.defaultValue)?C(H,An(Qe(a,H))):(C(H,te.defaultValue),ar(a,H,An(te.defaultValue))),te.keepTouched||nn(r.touchedFields,H),te.keepDirty||(nn(r.dirtyFields,H),r.isDirty=te.defaultValue?L(H,An(Qe(a,H))):L()),te.keepError||(nn(r.errors,H),d.isValid&&b()),h.state.next({...r}))},Pe=(H,te={})=>{const me=H?An(H):a,Re=An(me),Ie=da(H),ve=Ie?a:Re;if(te.keepDefaultValues||(a=me),!te.keepValues){if(te.keepDirtyValues){const je=new Set([...l.mount,...Object.keys(Sh(a,i))]);for(const pt of Array.from(je))Qe(r.dirtyFields,pt)?ar(ve,pt,Qe(i,pt)):C(pt,Qe(ve,pt))}else{if(s_&&zr(H))for(const je of l.mount){const pt=Qe(n,je);if(pt&&pt._f){const Wt=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(Ex(Wt)){const rr=Wt.closest("form");if(rr){rr.reset();break}}}}for(const je of l.mount)C(je,Qe(ve,je))}i=An(ve),h.array.next({values:{...ve}}),h.state.next({values:{...ve}})}l={mount:te.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!te.keepIsValid||!!te.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:Ie?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!ol(H,a)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ie?{}:te.keepDirtyValues?te.keepDefaultValues&&i?Sh(a,i):r.dirtyFields:te.keepDefaultValues&&H?Sh(a,H):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ce=(H,te)=>Pe(Xs(H)?H(i):H,te),$e=(H,te={})=>{const me=Qe(n,H),Re=me&&me._f;if(Re){const Ie=Re.refs?Re.refs[0]:Re.ref;Ie.focus&&(Ie.focus(),te.shouldSelect&&Xs(Ie.select)&&Ie.select())}},ct=H=>{r={...r,...H}},be={control:{register:de,unregister:G,getFieldState:q,handleSubmit:Ce,setError:Q,_subscribe:ue,_runSchema:_,_getWatch:k,_getDirty:L,_setValid:b,_setFieldArray:w,_setDisabledField:re,_setErrors:j,_getFieldArray:P,_reset:Pe,_resetDefaultValues:()=>Xs(t.defaultValues)&&t.defaultValues().then(H=>{ce(H,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:Ee,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(H){o=H},get _defaultValues(){return a},get _names(){return l},set _names(H){l=H},get _formState(){return r},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:he,trigger:J,register:de,handleSubmit:Ce,watch:Z,setValue:C,getValues:U,reset:ce,resetField:De,clearErrors:Y,unregister:G,setError:Q,setFocus:$e,getFieldState:q};return{...be,formControl:be}}function Za(e={}){const t=se.useRef(void 0),r=se.useRef(void 0),[n,a]=se.useState({isDirty:!1,isValidating:!1,isLoading:Xs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Xs(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:jK(e),formState:n},e.formControl&&e.defaultValues&&!Xs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,se.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),se.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),se.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),se.useEffect(()=>{e.values&&!ol(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),se.useEffect(()=>{e.errors&&!da(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),se.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=G3(n,i),t.current}const xC=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Qe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},nF=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?xC(n.ref,r,e):n.refs&&n.refs.forEach(a=>xC(a,r,e))}},NK=(e,t)=>{t.shouldUseNativeValidation&&nF(e,t);const r={};for(const n in e){const a=Qe(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(SK(t.names||Object.keys(e),n)){const o=Object.assign({},Qe(r,n));ar(o,"root",i),ar(r,n,o)}else ar(r,n,i)}return r},SK=(e,t)=>e.some(r=>r.startsWith(t+"."));var _K=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=X3(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},bs=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&nF({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:NK(_K(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Yt;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Yt||(Yt={}));var Gj;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Gj||(Gj={}));const st=Yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oo=e=>{switch(typeof e){case"undefined":return st.undefined;case"string":return st.string;case"number":return isNaN(e)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(e)?st.array:e===null?st.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?st.promise:typeof Map<"u"&&e instanceof Map?st.map:typeof Set<"u"&&e instanceof Set?st.set:typeof Date<"u"&&e instanceof Date?st.date:st.object;default:return st.unknown}},Ue=Yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),TK=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ts extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof ts))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ts.create=e=>new ts(e);const df=(e,t)=>{let r;switch(e.code){case Ue.invalid_type:e.received===st.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Yt.jsonStringifyReplacer)}`;break;case Ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${Yt.joinValues(e.keys,", ")}`;break;case Ue.invalid_union:r="Invalid input";break;case Ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Yt.joinValues(e.options)}`;break;case Ue.invalid_enum_value:r=`Invalid enum value. Expected ${Yt.joinValues(e.options)}, received '${e.received}'`;break;case Ue.invalid_arguments:r="Invalid function arguments";break;case Ue.invalid_return_type:r="Invalid function return type";break;case Ue.invalid_date:r="Invalid date";break;case Ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Yt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ue.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ue.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ue.custom:r="Invalid input";break;case Ue.invalid_intersection_types:r="Intersection results could not be merged";break;case Ue.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ue.not_finite:r="Number must be finite";break;default:r=t.defaultError,Yt.assertNever(e)}return{message:r}};let aF=df;function EK(e){aF=e}function Dx(){return aF}const kx=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},AK=[];function Je(e,t){const r=Dx(),n=kx({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===df?void 0:df].filter(a=>!!a)});e.common.issues.push(n)}class na{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return kt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return na.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return kt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const kt=Object.freeze({status:"aborted"}),md=e=>({status:"dirty",value:e}),wa=e=>({status:"valid",value:e}),Yj=e=>e.status==="aborted",Xj=e=>e.status==="dirty",iu=e=>e.status==="valid",Lm=e=>typeof Promise<"u"&&e instanceof Promise;function Ox(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function sF(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var gt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(gt||(gt={}));var zh,qh;class Ui{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vC=(e,t)=>{if(iu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ts(e.common.issues);return this._error=r,this._error}}};function Rt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class Ut{get description(){return this._def.description}_getType(t){return oo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:oo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new na,ctx:{common:t.parent.common,data:t.data,parsedType:oo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Lm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)},i=this._parseSync({data:t,path:a.path,parent:a});return vC(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return iu(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>iu(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:oo(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Lm(a)?a:Promise.resolve(a));return vC(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ue.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new hi({schema:this,typeName:Ct.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Fi.create(this,this._def)}nullable(){return Xl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oi.create(this)}promise(){return hf.create(this,this._def)}or(t){return Wm.create([this,t],this._def)}and(t){return Vm.create(this,t,this._def)}transform(t){return new hi({...Rt(this._def),schema:this,typeName:Ct.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Gm({...Rt(this._def),innerType:this,defaultValue:r,typeName:Ct.ZodDefault})}brand(){return new c_({typeName:Ct.ZodBranded,type:this,...Rt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Ym({...Rt(this._def),innerType:this,catchValue:r,typeName:Ct.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return o0.create(this,t)}readonly(){return Xm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const CK=/^c[^\s-]{8,}$/i,DK=/^[0-9a-z]+$/,kK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,PK=/^[a-z0-9_-]{21}$/i,IK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,MK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,RK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,FK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Aw;const LK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$K=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,BK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,UK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,WK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,VK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HK=new RegExp(`^${iF}$`);function oF(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function zK(e){return new RegExp(`^${oF(e)}$`)}function lF(e){let t=`${iF}T${oF(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function qK(e,t){return!!((t==="v4"||!t)&&LK.test(e)||(t==="v6"||!t)&&BK.test(e))}function KK(e,t){if(!IK.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function GK(e,t){return!!((t==="v4"||!t)&&$K.test(e)||(t==="v6"||!t)&&UK.test(e))}class ei extends Ut{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==st.string){const i=this._getOrReturnCtx(t);return Je(i,{code:Ue.invalid_type,expected:st.string,received:i.parsedType}),kt}const n=new na;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Je(a,{code:Ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Je(a,{code:Ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")RK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"email",code:Ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Aw||(Aw=new RegExp(FK,"u")),Aw.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"emoji",code:Ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")OK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"uuid",code:Ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")PK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"nanoid",code:Ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")CK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cuid",code:Ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")DK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cuid2",code:Ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")kK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"ulid",code:Ue.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Je(a,{validation:"url",code:Ue.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"regex",code:Ue.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?lF(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?HK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?zK(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?MK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"duration",code:Ue.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?qK(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"ip",code:Ue.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?KK(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"jwt",code:Ue.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?GK(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"cidr",code:Ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?WK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"base64",code:Ue.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?VK.test(t.data)||(a=this._getOrReturnCtx(t,a),Je(a,{validation:"base64url",code:Ue.invalid_string,message:i.message}),n.dirty()):Yt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ue.invalid_string,...gt.errToObj(n)})}_addCheck(t){return new ei({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...gt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...gt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...gt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...gt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...gt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...gt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...gt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...gt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...gt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...gt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...gt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...gt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...gt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...gt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...gt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...gt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...gt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...gt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...gt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...gt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...gt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...gt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...gt.errToObj(r)})}nonempty(t){return this.min(1,gt.errToObj(t))}trim(){return new ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ei.create=e=>{var t;return new ei({checks:[],typeName:Ct.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Rt(e)})};function YK(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Kl extends Ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==st.number){const i=this._getOrReturnCtx(t);return Je(i,{code:Ue.invalid_type,expected:st.number,received:i.parsedType}),kt}let n;const a=new na;for(const i of this._def.checks)i.kind==="int"?Yt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Je(n,{code:Ue.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Ue.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Ue.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?YK(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Ue.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Je(n,{code:Ue.not_finite,message:i.message}),a.dirty()):Yt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,a){return new Kl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(a)}]})}_addCheck(t){return new Kl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:gt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:gt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:gt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:gt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Yt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Kl.create=e=>new Kl({checks:[],typeName:Ct.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Rt(e)});class Gl extends Ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==st.bigint)return this._getInvalidInput(t);let n;const a=new na;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Ue.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Ue.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Je(n,{code:Ue.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Yt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Je(r,{code:Ue.invalid_type,expected:st.bigint,received:r.parsedType}),kt}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,a){return new Gl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(a)}]})}_addCheck(t){return new Gl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Gl.create=e=>{var t;return new Gl({checks:[],typeName:Ct.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Rt(e)})};class $m extends Ut{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==st.boolean){const n=this._getOrReturnCtx(t);return Je(n,{code:Ue.invalid_type,expected:st.boolean,received:n.parsedType}),kt}return wa(t.data)}}$m.create=e=>new $m({typeName:Ct.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Rt(e)});class ou extends Ut{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==st.date){const i=this._getOrReturnCtx(t);return Je(i,{code:Ue.invalid_type,expected:st.date,received:i.parsedType}),kt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Je(i,{code:Ue.invalid_date}),kt}const n=new na;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Je(a,{code:Ue.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Yt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ou({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:gt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:gt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ou.create=e=>new ou({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ct.ZodDate,...Rt(e)});class Px extends Ut{_parse(t){if(this._getType(t)!==st.symbol){const n=this._getOrReturnCtx(t);return Je(n,{code:Ue.invalid_type,expected:st.symbol,received:n.parsedType}),kt}return wa(t.data)}}Px.create=e=>new Px({typeName:Ct.ZodSymbol,...Rt(e)});class Bm extends Ut{_parse(t){if(this._getType(t)!==st.undefined){const n=this._getOrReturnCtx(t);return Je(n,{code:Ue.invalid_type,expected:st.undefined,received:n.parsedType}),kt}return wa(t.data)}}Bm.create=e=>new Bm({typeName:Ct.ZodUndefined,...Rt(e)});class Um extends Ut{_parse(t){if(this._getType(t)!==st.null){const n=this._getOrReturnCtx(t);return Je(n,{code:Ue.invalid_type,expected:st.null,received:n.parsedType}),kt}return wa(t.data)}}Um.create=e=>new Um({typeName:Ct.ZodNull,...Rt(e)});class ff extends Ut{constructor(){super(...arguments),this._any=!0}_parse(t){return wa(t.data)}}ff.create=e=>new ff({typeName:Ct.ZodAny,...Rt(e)});class qc extends Ut{constructor(){super(...arguments),this._unknown=!0}_parse(t){return wa(t.data)}}qc.create=e=>new qc({typeName:Ct.ZodUnknown,...Rt(e)});class Mo extends Ut{_parse(t){const r=this._getOrReturnCtx(t);return Je(r,{code:Ue.invalid_type,expected:st.never,received:r.parsedType}),kt}}Mo.create=e=>new Mo({typeName:Ct.ZodNever,...Rt(e)});class Ix extends Ut{_parse(t){if(this._getType(t)!==st.undefined){const n=this._getOrReturnCtx(t);return Je(n,{code:Ue.invalid_type,expected:st.void,received:n.parsedType}),kt}return wa(t.data)}}Ix.create=e=>new Ix({typeName:Ct.ZodVoid,...Rt(e)});class oi extends Ut{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==st.array)return Je(r,{code:Ue.invalid_type,expected:st.array,received:r.parsedType}),kt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Je(r,{code:o?Ue.too_big:Ue.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Je(r,{code:Ue.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Je(r,{code:Ue.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ui(r,o,r.path,l)))).then(o=>na.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Ui(r,o,r.path,l)));return na.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new oi({...this._def,minLength:{value:t,message:gt.toString(r)}})}max(t,r){return new oi({...this._def,maxLength:{value:t,message:gt.toString(r)}})}length(t,r){return new oi({...this._def,exactLength:{value:t,message:gt.toString(r)}})}nonempty(t){return this.min(1,t)}}oi.create=(e,t)=>new oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ct.ZodArray,...Rt(t)});function ed(e){if(e instanceof Ir){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Fi.create(ed(n))}return new Ir({...e._def,shape:()=>t})}else return e instanceof oi?new oi({...e._def,type:ed(e.element)}):e instanceof Fi?Fi.create(ed(e.unwrap())):e instanceof Xl?Xl.create(ed(e.unwrap())):e instanceof Wi?Wi.create(e.items.map(t=>ed(t))):e}class Ir extends Ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Yt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==st.object){const u=this._getOrReturnCtx(t);return Je(u,{code:Ue.invalid_type,expected:st.object,received:u.parsedType}),kt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Mo&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ui(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Mo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Je(a,{code:Ue.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ui(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>na.mergeObjectSync(n,u)):na.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return gt.errToObj,new Ir({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=gt.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ir({...this._def,unknownKeys:"strip"})}passthrough(){return new Ir({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ir({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ir({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ct.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ir({...this._def,catchall:t})}pick(t){const r={};return Yt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ir({...this._def,shape:()=>r})}omit(t){const r={};return Yt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ir({...this._def,shape:()=>r})}deepPartial(){return ed(this)}partial(t){const r={};return Yt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new Ir({...this._def,shape:()=>r})}required(t){const r={};return Yt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Fi;)i=i._def.innerType;r[n]=i}}),new Ir({...this._def,shape:()=>r})}keyof(){return cF(Yt.objectKeys(this.shape))}}Ir.create=(e,t)=>new Ir({shape:()=>e,unknownKeys:"strip",catchall:Mo.create(),typeName:Ct.ZodObject,...Rt(t)});Ir.strictCreate=(e,t)=>new Ir({shape:()=>e,unknownKeys:"strict",catchall:Mo.create(),typeName:Ct.ZodObject,...Rt(t)});Ir.lazycreate=(e,t)=>new Ir({shape:e,unknownKeys:"strip",catchall:Mo.create(),typeName:Ct.ZodObject,...Rt(t)});class Wm extends Ut{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ts(l.ctx.common.issues));return Je(r,{code:Ue.invalid_union,unionErrors:o}),kt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ts(c));return Je(r,{code:Ue.invalid_union,unionErrors:l}),kt}}get options(){return this._def.options}}Wm.create=(e,t)=>new Wm({options:e,typeName:Ct.ZodUnion,...Rt(t)});const no=e=>e instanceof zm?no(e.schema):e instanceof hi?no(e.innerType()):e instanceof qm?[e.value]:e instanceof Yl?e.options:e instanceof Km?Yt.objectValues(e.enum):e instanceof Gm?no(e._def.innerType):e instanceof Bm?[void 0]:e instanceof Um?[null]:e instanceof Fi?[void 0,...no(e.unwrap())]:e instanceof Xl?[null,...no(e.unwrap())]:e instanceof c_||e instanceof Xm?no(e.unwrap()):e instanceof Ym?no(e._def.innerType):[];class Py extends Ut{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.object)return Je(r,{code:Ue.invalid_type,expected:st.object,received:r.parsedType}),kt;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Je(r,{code:Ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),kt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=no(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Py({typeName:Ct.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Rt(n)})}}function Qj(e,t){const r=oo(e),n=oo(t);if(e===t)return{valid:!0,data:e};if(r===st.object&&n===st.object){const a=Yt.objectKeys(t),i=Yt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Qj(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===st.array&&n===st.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Qj(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===st.date&&n===st.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Vm extends Ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(Yj(i)||Yj(o))return kt;const l=Qj(i.value,o.value);return l.valid?((Xj(i)||Xj(o))&&r.dirty(),{status:r.value,value:l.data}):(Je(n,{code:Ue.invalid_intersection_types}),kt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Vm.create=(e,t,r)=>new Vm({left:e,right:t,typeName:Ct.ZodIntersection,...Rt(r)});class Wi extends Ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.array)return Je(n,{code:Ue.invalid_type,expected:st.array,received:n.parsedType}),kt;if(n.data.length<this._def.items.length)return Je(n,{code:Ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),kt;!this._def.rest&&n.data.length>this._def.items.length&&(Je(n,{code:Ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ui(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>na.mergeArray(r,o)):na.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Wi({...this._def,rest:t})}}Wi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wi({items:e,typeName:Ct.ZodTuple,rest:null,...Rt(t)})};class Hm extends Ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.object)return Je(n,{code:Ue.invalid_type,expected:st.object,received:n.parsedType}),kt;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new Ui(n,l,n.path,l)),value:o._parse(new Ui(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?na.mergeObjectAsync(r,a):na.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Ut?new Hm({keyType:t,valueType:r,typeName:Ct.ZodRecord,...Rt(n)}):new Hm({keyType:ei.create(),valueType:t,typeName:Ct.ZodRecord,...Rt(r)})}}class Mx extends Ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.map)return Je(n,{code:Ue.invalid_type,expected:st.map,received:n.parsedType}),kt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Ui(n,l,n.path,[u,"key"])),value:i._parse(new Ui(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return kt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return kt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Mx.create=(e,t,r)=>new Mx({valueType:t,keyType:e,typeName:Ct.ZodMap,...Rt(r)});class lu extends Ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.set)return Je(n,{code:Ue.invalid_type,expected:st.set,received:n.parsedType}),kt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Je(n,{code:Ue.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Je(n,{code:Ue.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return kt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Ui(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new lu({...this._def,minSize:{value:t,message:gt.toString(r)}})}max(t,r){return new lu({...this._def,maxSize:{value:t,message:gt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}lu.create=(e,t)=>new lu({valueType:e,minSize:null,maxSize:null,typeName:Ct.ZodSet,...Rt(t)});class Cd extends Ut{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.function)return Je(r,{code:Ue.invalid_type,expected:st.function,received:r.parsedType}),kt;function n(l,c){return kx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Dx(),df].filter(u=>!!u),issueData:{code:Ue.invalid_arguments,argumentsError:c}})}function a(l,c){return kx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Dx(),df].filter(u=>!!u),issueData:{code:Ue.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof hf){const l=this;return wa(async function(...c){const u=new ts([]),d=await l._def.args.parseAsync(c,i).catch(m=>{throw u.addIssue(n(c,m)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const l=this;return wa(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new ts([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new ts([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Cd({...this._def,args:Wi.create(t).rest(qc.create())})}returns(t){return new Cd({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Cd({args:t||Wi.create([]).rest(qc.create()),returns:r||qc.create(),typeName:Ct.ZodFunction,...Rt(n)})}}class zm extends Ut{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}zm.create=(e,t)=>new zm({getter:e,typeName:Ct.ZodLazy,...Rt(t)});class qm extends Ut{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Je(r,{received:r.data,code:Ue.invalid_literal,expected:this._def.value}),kt}return{status:"valid",value:t.data}}get value(){return this._def.value}}qm.create=(e,t)=>new qm({value:e,typeName:Ct.ZodLiteral,...Rt(t)});function cF(e,t){return new Yl({values:e,typeName:Ct.ZodEnum,...Rt(t)})}class Yl extends Ut{constructor(){super(...arguments),zh.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Je(r,{expected:Yt.joinValues(n),received:r.parsedType,code:Ue.invalid_type}),kt}if(Ox(this,zh)||sF(this,zh,new Set(this._def.values)),!Ox(this,zh).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Je(r,{received:r.data,code:Ue.invalid_enum_value,options:n}),kt}return wa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Yl.create(t,{...this._def,...r})}exclude(t,r=this._def){return Yl.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}zh=new WeakMap;Yl.create=cF;class Km extends Ut{constructor(){super(...arguments),qh.set(this,void 0)}_parse(t){const r=Yt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==st.string&&n.parsedType!==st.number){const a=Yt.objectValues(r);return Je(n,{expected:Yt.joinValues(a),received:n.parsedType,code:Ue.invalid_type}),kt}if(Ox(this,qh)||sF(this,qh,new Set(Yt.getValidEnumValues(this._def.values))),!Ox(this,qh).has(t.data)){const a=Yt.objectValues(r);return Je(n,{received:n.data,code:Ue.invalid_enum_value,options:a}),kt}return wa(t.data)}get enum(){return this._def.values}}qh=new WeakMap;Km.create=(e,t)=>new Km({values:e,typeName:Ct.ZodNativeEnum,...Rt(t)});class hf extends Ut{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.promise&&r.common.async===!1)return Je(r,{code:Ue.invalid_type,expected:st.promise,received:r.parsedType}),kt;const n=r.parsedType===st.promise?r.data:Promise.resolve(r.data);return wa(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}hf.create=(e,t)=>new hf({type:e,typeName:Ct.ZodPromise,...Rt(t)});class hi extends Ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Je(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return kt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?kt:c.status==="dirty"||r.value==="dirty"?md(c.value):c});{if(r.value==="aborted")return kt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?kt:l.status==="dirty"||r.value==="dirty"?md(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?kt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?kt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!iu(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>iu(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Yt.assertNever(a)}}hi.create=(e,t,r)=>new hi({schema:e,typeName:Ct.ZodEffects,effect:t,...Rt(r)});hi.createWithPreprocess=(e,t,r)=>new hi({schema:t,effect:{type:"preprocess",transform:e},typeName:Ct.ZodEffects,...Rt(r)});class Fi extends Ut{_parse(t){return this._getType(t)===st.undefined?wa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fi.create=(e,t)=>new Fi({innerType:e,typeName:Ct.ZodOptional,...Rt(t)});class Xl extends Ut{_parse(t){return this._getType(t)===st.null?wa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xl.create=(e,t)=>new Xl({innerType:e,typeName:Ct.ZodNullable,...Rt(t)});class Gm extends Ut{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===st.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Gm.create=(e,t)=>new Gm({innerType:e,typeName:Ct.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Rt(t)});class Ym extends Ut{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Lm(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ts(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ts(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ym.create=(e,t)=>new Ym({innerType:e,typeName:Ct.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Rt(t)});class Rx extends Ut{_parse(t){if(this._getType(t)!==st.nan){const n=this._getOrReturnCtx(t);return Je(n,{code:Ue.invalid_type,expected:st.nan,received:n.parsedType}),kt}return{status:"valid",value:t.data}}}Rx.create=e=>new Rx({typeName:Ct.ZodNaN,...Rt(e)});const XK=Symbol("zod_brand");class c_ extends Ut{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class o0 extends Ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?kt:i.status==="dirty"?(r.dirty(),md(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?kt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new o0({in:t,out:r,typeName:Ct.ZodPipeline})}}class Xm extends Ut{_parse(t){const r=this._def.innerType._parse(t),n=a=>(iu(a)&&(a.value=Object.freeze(a.value)),a);return Lm(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Xm.create=(e,t)=>new Xm({innerType:e,typeName:Ct.ZodReadonly,...Rt(t)});function yC(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function uF(e,t={},r){return e?ff.create().superRefine((n,a)=>{var i,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=yC(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=yC(t,n),u=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:u})}}):ff.create()}const QK={object:Ir.lazycreate};var Ct;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ct||(Ct={}));const ZK=(e,t={message:`Input not instance of ${e.name}`})=>uF(r=>r instanceof e,t),dF=ei.create,fF=Kl.create,JK=Rx.create,eG=Gl.create,hF=$m.create,tG=ou.create,rG=Px.create,nG=Bm.create,aG=Um.create,sG=ff.create,iG=qc.create,oG=Mo.create,lG=Ix.create,cG=oi.create,uG=Ir.create,dG=Ir.strictCreate,fG=Wm.create,hG=Py.create,mG=Vm.create,pG=Wi.create,gG=Hm.create,xG=Mx.create,vG=lu.create,yG=Cd.create,wG=zm.create,bG=qm.create,jG=Yl.create,NG=Km.create,SG=hf.create,wC=hi.create,_G=Fi.create,TG=Xl.create,EG=hi.createWithPreprocess,AG=o0.create,CG=()=>dF().optional(),DG=()=>fF().optional(),kG=()=>hF().optional(),OG={string:e=>ei.create({...e,coerce:!0}),number:e=>Kl.create({...e,coerce:!0}),boolean:e=>$m.create({...e,coerce:!0}),bigint:e=>Gl.create({...e,coerce:!0}),date:e=>ou.create({...e,coerce:!0})},PG=kt;var we=Object.freeze({__proto__:null,defaultErrorMap:df,setErrorMap:EK,getErrorMap:Dx,makeIssue:kx,EMPTY_PATH:AK,addIssueToContext:Je,ParseStatus:na,INVALID:kt,DIRTY:md,OK:wa,isAborted:Yj,isDirty:Xj,isValid:iu,isAsync:Lm,get util(){return Yt},get objectUtil(){return Gj},ZodParsedType:st,getParsedType:oo,ZodType:Ut,datetimeRegex:lF,ZodString:ei,ZodNumber:Kl,ZodBigInt:Gl,ZodBoolean:$m,ZodDate:ou,ZodSymbol:Px,ZodUndefined:Bm,ZodNull:Um,ZodAny:ff,ZodUnknown:qc,ZodNever:Mo,ZodVoid:Ix,ZodArray:oi,ZodObject:Ir,ZodUnion:Wm,ZodDiscriminatedUnion:Py,ZodIntersection:Vm,ZodTuple:Wi,ZodRecord:Hm,ZodMap:Mx,ZodSet:lu,ZodFunction:Cd,ZodLazy:zm,ZodLiteral:qm,ZodEnum:Yl,ZodNativeEnum:Km,ZodPromise:hf,ZodEffects:hi,ZodTransformer:hi,ZodOptional:Fi,ZodNullable:Xl,ZodDefault:Gm,ZodCatch:Ym,ZodNaN:Rx,BRAND:XK,ZodBranded:c_,ZodPipeline:o0,ZodReadonly:Xm,custom:uF,Schema:Ut,ZodSchema:Ut,late:QK,get ZodFirstPartyTypeKind(){return Ct},coerce:OG,any:sG,array:cG,bigint:eG,boolean:hF,date:tG,discriminatedUnion:hG,effect:wC,enum:jG,function:yG,instanceof:ZK,intersection:mG,lazy:wG,literal:bG,map:xG,nan:JK,nativeEnum:NG,never:oG,null:aG,nullable:TG,number:fF,object:uG,oboolean:kG,onumber:DG,optional:_G,ostring:CG,pipeline:AG,preprocess:EG,promise:SG,record:gG,set:vG,strictObject:dG,string:dF,symbol:rG,transformer:wC,tuple:pG,undefined:nG,union:fG,unknown:iG,void:lG,NEVER:PG,ZodIssueCode:Ue,quotelessJson:TK,ZodError:ts}),IG="Label",mF=T.forwardRef((e,t)=>s.jsx(Ot.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));mF.displayName=IG;var pF=mF;const MG=yy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dt=T.forwardRef(({className:e,...t},r)=>s.jsx(pF,{ref:r,className:tt(MG(),e),...t}));dt.displayName=pF.displayName;const ti=sK,gF=T.createContext({}),Ke=({...e})=>s.jsx(gF.Provider,{value:{name:e.name},children:s.jsx(cK,{...e})}),Iy=()=>{const e=T.useContext(gF),t=T.useContext(xF),{getFieldState:r,formState:n}=Oy(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},xF=T.createContext({}),He=T.forwardRef(({className:e,...t},r)=>{const n=T.useId();return s.jsx(xF.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:tt("space-y-2",e),...t})})});He.displayName="FormItem";const it=T.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Iy();return s.jsx(dt,{ref:r,className:tt(n&&"text-destructive",e),htmlFor:a,...t})});it.displayName="FormLabel";const et=T.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Iy();return s.jsx(NR,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});et.displayName="FormControl";const RG=T.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Iy();return s.jsx("p",{ref:r,id:n,className:tt("text-sm text-muted-foreground",e),...t})});RG.displayName="FormDescription";const ft=T.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Iy(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:tt("text-sm font-medium text-destructive",e),...r,children:o}):null});ft.displayName="FormMessage";function Kt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ns(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zn(e,t){const r=Kt(e);return isNaN(t)?ns(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function mi(e,t){const r=Kt(e);if(isNaN(t))return ns(e,NaN);if(!t)return r;const n=r.getDate(),a=ns(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const u_=6048e5,FG=864e5;let LG={};function l0(){return LG}function Vi(e,t){var l,c,u,d;const r=l0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Kt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function cu(e){return Vi(e,{weekStartsOn:1})}function vF(e){const t=Kt(e),r=t.getFullYear(),n=ns(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=cu(n),i=ns(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=cu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function mf(e){const t=Kt(e);return t.setHours(0,0,0,0),t}function Fx(e){const t=Kt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ri(e,t){const r=mf(e),n=mf(t),a=+r-Fx(r),i=+n-Fx(n);return Math.round((a-i)/FG)}function $G(e){const t=vF(e),r=ns(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),cu(r)}function Zj(e,t){const r=t*7;return zn(e,r)}function BG(e,t){return mi(e,t*12)}function UG(e){let t;return e.forEach(function(r){const n=Kt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function WG(e){let t;return e.forEach(r=>{const n=Kt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Aa(e,t){const r=mf(e),n=mf(t);return+r==+n}function d_(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VG(e){if(!d_(e)&&typeof e!="number")return!1;const t=Kt(e);return!isNaN(Number(t))}function Qm(e,t){const r=Kt(e),n=Kt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function HG(e,t,r){const n=Vi(e,r),a=Vi(t,r),i=+n-Fx(n),o=+a-Fx(a);return Math.round((i-o)/u_)}function eg(e,t){const r=Kt(e),n=Kt(t),a=bC(r,n),i=Math.abs(ri(r,n));r.setDate(r.getDate()-a*i);const o=+(bC(r,n)===-a),l=a*(i-o);return l===0?0:l}function bC(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function f_(e){const t=Kt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Pa(e){const t=Kt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function yF(e){const t=Kt(e),r=ns(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function h_(e,t){var l,c,u,d;const r=l0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Kt(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function wF(e){return h_(e,{weekStartsOn:1})}const zG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qG=(e,t,r)=>{let n;const a=zG[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Cw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const KG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XG={date:Cw({formats:KG,defaultWidth:"full"}),time:Cw({formats:GG,defaultWidth:"full"}),dateTime:Cw({formats:YG,defaultWidth:"full"})},QG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZG=(e,t,r,n)=>QG[e];function Th(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const JG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sY=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},iY={ordinalNumber:sY,era:Th({values:JG,defaultWidth:"wide"}),quarter:Th({values:eY,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Th({values:tY,defaultWidth:"wide"}),day:Th({values:rY,defaultWidth:"wide"}),dayPeriod:Th({values:nY,defaultWidth:"wide",formattingValues:aY,defaultFormattingWidth:"wide"})};function Eh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lY(l,f=>f.test(o)):oY(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function oY(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function lY(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function cY(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const uY=/^(\d+)(th|st|nd|rd)?/i,dY=/\d+/i,fY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hY={any:[/^b/i,/^(a|c)/i]},mY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pY={any:[/1/i,/2/i,/3/i,/4/i]},gY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jY={ordinalNumber:cY({matchPattern:uY,parsePattern:dY,valueCallback:e=>parseInt(e,10)}),era:Eh({matchPatterns:fY,defaultMatchWidth:"wide",parsePatterns:hY,defaultParseWidth:"any"}),quarter:Eh({matchPatterns:mY,defaultMatchWidth:"wide",parsePatterns:pY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Eh({matchPatterns:gY,defaultMatchWidth:"wide",parsePatterns:xY,defaultParseWidth:"any"}),day:Eh({matchPatterns:vY,defaultMatchWidth:"wide",parsePatterns:yY,defaultParseWidth:"any"}),dayPeriod:Eh({matchPatterns:wY,defaultMatchWidth:"any",parsePatterns:bY,defaultParseWidth:"any"})},bF={code:"en-US",formatDistance:qG,formatLong:XG,formatRelative:ZG,localize:iY,match:jY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NY(e){const t=Kt(e);return ri(t,yF(t))+1}function jF(e){const t=Kt(e),r=+cu(t)-+$G(t);return Math.round(r/u_)+1}function NF(e,t){var d,f,h,m;const r=Kt(e),n=r.getFullYear(),a=l0(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=ns(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Vi(o,t),c=ns(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Vi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function SY(e,t){var l,c,u,d;const r=l0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=NF(e,t),i=ns(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Vi(i,t)}function SF(e,t){const r=Kt(e),n=+Vi(r,t)-+SY(r,t);return Math.round(n/u_)+1}function ur(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Zo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ur(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ur(r+1,2)},d(e,t){return ur(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ur(e.getHours()%12||12,t.length)},H(e,t){return ur(e.getHours(),t.length)},m(e,t){return ur(e.getMinutes(),t.length)},s(e,t){return ur(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ur(a,t.length)}},Vu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jC={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Zo.y(e,t)},Y:function(e,t,r,n){const a=NF(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ur(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ur(i,t.length)},R:function(e,t){const r=vF(e);return ur(r,t.length)},u:function(e,t){const r=e.getFullYear();return ur(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ur(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ur(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Zo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ur(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=SF(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ur(a,t.length)},I:function(e,t,r){const n=jF(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ur(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zo.d(e,t)},D:function(e,t,r){const n=NY(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ur(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ur(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ur(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ur(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Vu.noon:n===0?a=Vu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Vu.evening:n>=12?a=Vu.afternoon:n>=4?a=Vu.morning:a=Vu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ur(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ur(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zo.s(e,t)},S:function(e,t){return Zo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return SC(n);case"XXXX":case"XX":return jc(n);case"XXXXX":case"XXX":default:return jc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return SC(n);case"xxxx":case"xx":return jc(n);case"xxxxx":case"xxx":default:return jc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+NC(n,":");case"OOOO":default:return"GMT"+jc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+NC(n,":");case"zzzz":default:return"GMT"+jc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ur(n,t.length)},T:function(e,t,r){const n=e.getTime();return ur(n,t.length)}};function NC(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ur(i,2)}function SC(e,t){return e%60===0?(e>0?"-":"+")+ur(Math.abs(e)/60,2):jc(e,t)}function jc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ur(Math.trunc(n/60),2),i=ur(n%60,2);return r+a+t+i}const _C=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_F=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_Y=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return _C(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",_C(n,t)).replace("{{time}}",_F(a,t))},TY={p:_F,P:_Y},EY=/^D+$/,AY=/^Y+$/,CY=["D","DD","YY","YYYY"];function DY(e){return EY.test(e)}function kY(e){return AY.test(e)}function OY(e,t,r){const n=PY(e,t,r);if(console.warn(n),CY.includes(e))throw new RangeError(n)}function PY(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RY=/^'([^]*?)'?$/,FY=/''/g,LY=/[a-zA-Z]/;function at(e,t,r){var d,f,h,m,x,p,v,b;const n=l0(),a=(r==null?void 0:r.locale)??n.locale??bF,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Kt(e);if(!VG(l))throw new RangeError("Invalid time value");let c=t.match(MY).map(g=>{const w=g[0];if(w==="p"||w==="P"){const y=TY[w];return y(g,a.formatLong)}return g}).join("").match(IY).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:$Y(g)};if(jC[w])return{isToken:!0,value:g};if(w.match(LY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&kY(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&DY(w))&&OY(w,t,String(e));const y=jC[w[0]];return y(l,w,a.localize,u)}).join("")}function $Y(e){const t=e.match(RY);return t?t[1].replace(FY,"'"):e}function BY(e){const t=Kt(e),r=t.getFullYear(),n=t.getMonth(),a=ns(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function UY(e){return Math.trunc(+Kt(e)/1e3)}function WY(e){const t=Kt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function VY(e,t){return HG(WY(e),Pa(e),t)+1}function Jj(e,t){const r=Kt(e),n=Kt(t);return r.getTime()>n.getTime()}function Lx(e,t){const r=Kt(e),n=Kt(t);return+r<+n}function m_(e,t){const r=Kt(e),n=Kt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function HY(e,t){const r=Kt(e),n=Kt(t);return r.getFullYear()===n.getFullYear()}function Dw(e,t){return zn(e,-t)}function kw(e,t){const r=Kt(e),n=r.getFullYear(),a=r.getDate(),i=ns(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=BY(i);return r.setMonth(t,Math.min(a,o)),r}function TC(e,t){const r=Kt(e);return isNaN(+r)?ns(e,NaN):(r.setFullYear(t),r)}var Dt=function(){return Dt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Dt.apply(this,arguments)};function zY(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function TF(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function c0(e){return e.mode==="multiple"}function u0(e){return e.mode==="range"}function My(e){return e.mode==="single"}var qY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function KY(e,t){return at(e,"LLLL y",t)}function GY(e,t){return at(e,"d",t)}function YY(e,t){return at(e,"LLLL",t)}function XY(e){return"".concat(e)}function QY(e,t){return at(e,"cccccc",t)}function ZY(e,t){return at(e,"yyyy",t)}var JY=Object.freeze({__proto__:null,formatCaption:KY,formatDay:GY,formatMonthCaption:YY,formatWeekNumber:XY,formatWeekdayName:QY,formatYearCaption:ZY}),eX=function(e,t,r){return at(e,"do MMMM (EEEE)",r)},tX=function(){return"Month: "},rX=function(){return"Go to next month"},nX=function(){return"Go to previous month"},aX=function(e,t){return at(e,"cccc",t)},sX=function(e){return"Week n. ".concat(e)},iX=function(){return"Year: "},oX=Object.freeze({__proto__:null,labelDay:eX,labelMonthDropdown:tX,labelNext:rX,labelPrevious:nX,labelWeekNumber:sX,labelWeekday:aX,labelYearDropdown:iX});function lX(){var e="buttons",t=qY,r=bF,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:JY,labels:oX,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function cX(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Pa(n):t&&(i=new Date(t,0,1)),a?o=f_(a):r&&(o=new Date(r,11,31)),{fromDate:i?mf(i):void 0,toDate:o?mf(o):void 0}}var EF=T.createContext(void 0);function uX(e){var t,r=e.initialProps,n=lX(),a=cX(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(My(r)||c0(r)||u0(r))&&(c=r.onSelect);var u=Dt(Dt(Dt({},n),r),{captionLayout:l,classNames:Dt(Dt({},n.classNames),r.classNames),components:Dt({},r.components),formatters:Dt(Dt({},n.formatters),r.formatters),fromDate:i,labels:Dt(Dt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Dt(Dt({},n.modifiers),r.modifiers),modifiersClassNames:Dt(Dt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Dt(Dt({},n.styles),r.styles),toDate:o});return s.jsx(EF.Provider,{value:u,children:e.children})}function Sr(){var e=T.useContext(EF);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function AF(e){var t=Sr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function dX(e){return s.jsx("svg",Dt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CF(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Sr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:dX;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function fX(e){var t,r=Sr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(HY(n,a))for(var h=Pa(n),m=n.getMonth();m<=a.getMonth();m++)f.push(kw(h,m));else for(var h=Pa(new Date),m=0;m<=11;m++)f.push(kw(h,m));var x=function(v){var b=Number(v.target.value),g=kw(Pa(e.displayMonth),b);e.onChange(g)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:CF;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function hX(e){var t,r=e.displayMonth,n=Sr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),x=i.getFullYear(),p=m;p<=x;p++)h.push(TC(yF(new Date),p));var v=function(g){var w=TC(Pa(r),Number(g.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:CF;return s.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(g){return s.jsx("option",{value:g.getFullYear(),children:d(g,{locale:o})},g.getFullYear())})})}function mX(e,t){var r=T.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function pX(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Qm(i,a)<0){var u=-1*(c-1);a=mi(i,u)}return o&&Qm(a,o)<0&&(a=o),Pa(a)}function gX(){var e=Sr(),t=pX(e),r=mX(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Pa(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function xX(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Pa(e),i=Pa(mi(a,n)),o=Qm(i,a),l=[],c=0;c<o;c++){var u=mi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function vX(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Pa(e);if(!r)return mi(l,o);var c=Qm(r,e);if(!(c<i))return mi(l,o)}}function yX(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Pa(e);if(!r)return mi(l,-o);var c=Qm(l,r);if(!(c<=0))return mi(l,-o)}}var DF=T.createContext(void 0);function wX(e){var t=Sr(),r=gX(),n=r[0],a=r[1],i=xX(n,t),o=vX(n,t),l=yX(n,t),c=function(f){return i.some(function(h){return m_(f,h)})},u=function(f,h){c(f)||(h&&Lx(f,h)?a(mi(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(DF.Provider,{value:d,children:e.children})}function d0(){var e=T.useContext(DF);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function EC(e){var t,r=Sr(),n=r.classNames,a=r.styles,i=r.components,o=d0().goToMonth,l=function(d){o(mi(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:AF,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(fX,{onChange:l,displayMonth:e.displayMonth}),s.jsx(hX,{onChange:l,displayMonth:e.displayMonth})]})}function bX(e){return s.jsx("svg",Dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jX(e){return s.jsx("svg",Dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var $x=T.forwardRef(function(e,t){var r=Sr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Dt(Dt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Dt({},e,{ref:t,type:"button",className:o,style:l}))});function NX(e){var t,r,n=Sr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),x=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:jX,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:bX;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx($x,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx($x,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function AC(e){var t=Sr().numberOfMonths,r=d0(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return m_(e.displayMonth,x)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(NX,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function SX(e){var t,r=Sr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:AF,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(EC,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(EC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(AC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(AC,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function _X(e){var t=Sr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function TX(e,t,r){for(var n=r?cu(new Date):Vi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=zn(n,i);a.push(o)}return a}function EX(){var e=Sr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=TX(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function AX(){var e,t=Sr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:EX;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function CX(e){var t=Sr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var p_=T.createContext(void 0);function DX(e){if(!c0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(p_.Provider,{value:t,children:e.children})}return s.jsx(kX,{initialProps:e.initialProps,children:e.children})}function kX(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var x=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!x){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var v=n?TF([],n):[];if(d.selected){var b=v.findIndex(function(g){return Aa(u,g)});v.splice(b,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return Aa(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(p_.Provider,{value:c,children:r})}function g_(){var e=T.useContext(p_);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function OX(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Aa(a,e)&&Aa(n,e)?void 0:Aa(a,e)?{from:a,to:void 0}:Aa(n,e)?void 0:Jj(n,e)?{from:e,to:a}:{from:n,to:e}:a?Jj(e,a)?{from:a,to:e}:{from:e,to:a}:n?Lx(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var x_=T.createContext(void 0);function PX(e){if(!u0(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(x_.Provider,{value:t,children:e.children})}return s.jsx(IX,{initialProps:e.initialProps,children:e.children})}function IX(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,x,p){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,m,x,p);var g=OX(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,g,m,x,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Aa(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:Dw(i,l-1),before:zn(i,l-1)}),i&&o&&d.disabled.push({after:i,before:zn(i,l-1)}),!i&&o&&d.disabled.push({after:Dw(o,l-1),before:zn(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:zn(i,-c+1)}),d.disabled.push({after:zn(i,c-1)})),i&&o){var f=ri(o,i)+1,h=c-f;d.disabled.push({before:Dw(i,h)}),d.disabled.push({after:zn(o,h)})}!i&&o&&(d.disabled.push({before:zn(o,-c+1)}),d.disabled.push({after:zn(o,c-1)}))}return s.jsx(x_.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function v_(){var e=T.useContext(x_);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function zg(e){return Array.isArray(e)?TF([],e):e!==void 0?[e]:[]}function MX(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=zg(a)}),t}var pi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(pi||(pi={}));var RX=pi.Selected,eo=pi.Disabled,FX=pi.Hidden,LX=pi.Today,Ow=pi.RangeEnd,Pw=pi.RangeMiddle,Iw=pi.RangeStart,$X=pi.Outside;function BX(e,t,r){var n,a=(n={},n[RX]=zg(e.selected),n[eo]=zg(e.disabled),n[FX]=zg(e.hidden),n[LX]=[e.today],n[Ow]=[],n[Pw]=[],n[Iw]=[],n[$X]=[],n);return e.fromDate&&a[eo].push({before:e.fromDate}),e.toDate&&a[eo].push({after:e.toDate}),c0(e)?a[eo]=a[eo].concat(t.modifiers[eo]):u0(e)&&(a[eo]=a[eo].concat(r.modifiers[eo]),a[Iw]=r.modifiers[Iw],a[Pw]=r.modifiers[Pw],a[Ow]=r.modifiers[Ow]),a}var kF=T.createContext(void 0);function UX(e){var t=Sr(),r=g_(),n=v_(),a=BX(t,r,n),i=MX(t.modifiers),o=Dt(Dt({},a),i);return s.jsx(kF.Provider,{value:o,children:e.children})}function OF(){var e=T.useContext(kF);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function WX(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function VX(e){return!!(e&&typeof e=="object"&&"from"in e)}function HX(e){return!!(e&&typeof e=="object"&&"after"in e)}function zX(e){return!!(e&&typeof e=="object"&&"before"in e)}function qX(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function KX(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ri(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ri(e,n)>=0&&ri(a,e)>=0;return o}return a?Aa(a,e):n?Aa(n,e):!1}function GX(e){return d_(e)}function YX(e){return Array.isArray(e)&&e.every(d_)}function XX(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(GX(r))return Aa(e,r);if(YX(r))return r.includes(e);if(VX(r))return KX(e,r);if(qX(r))return r.dayOfWeek.includes(e.getDay());if(WX(r)){var n=ri(r.before,e),a=ri(r.after,e),i=n>0,o=a<0,l=Jj(r.before,r.after);return l?o&&i:i||o}return HX(r)?ri(e,r.after)>0:zX(r)?ri(r.before,e)>0:typeof r=="function"?r(e):!1})}function y_(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return XX(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!m_(e,r)&&(a.outside=!0),a}function QX(e,t){for(var r=Pa(e[0]),n=f_(e[e.length-1]),a,i,o=r;o<=n;){var l=y_(o,t),c=!l.disabled&&!l.hidden;if(!c){o=zn(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=zn(o,1)}return i||a}var ZX=365;function PF(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:zn,week:Zj,month:mi,year:BG,startOfWeek:function(v){return a.ISOWeek?cu(v):Vi(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?wF(v):h_(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=UG([u,m]):n==="after"&&d&&(m=WG([d,m]));var x=!0;if(i){var p=y_(m,i);x=!p.disabled&&!p.hidden}return x?m:l.count>ZX?l.lastFocused:PF(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:Dt(Dt({},l),{count:l.count+1})})}var IF=T.createContext(void 0);function JX(e){var t=d0(),r=OF(),n=T.useState(),a=n[0],i=n[1],o=T.useState(),l=o[0],c=o[1],u=QX(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(v){i(v)},m=Sr(),x=function(v,b){if(a){var g=PF(a,{moveBy:v,direction:b,context:m,modifiers:r});Aa(a,g)||(t.goToDate(g,a),h(g))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return s.jsx(IF.Provider,{value:p,children:e.children})}function w_(){var e=T.useContext(IF);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function eQ(e,t){var r=OF(),n=y_(e,r,t);return n}var b_=T.createContext(void 0);function tQ(e){if(!My(e.initialProps)){var t={selected:void 0};return s.jsx(b_.Provider,{value:t,children:e.children})}return s.jsx(rQ,{initialProps:e.initialProps,children:e.children})}function rQ(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(b_.Provider,{value:a,children:r})}function MF(){var e=T.useContext(b_);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function nQ(e,t){var r=Sr(),n=MF(),a=g_(),i=v_(),o=w_(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,b=o.focusStartOfWeek,g=o.focusEndOfWeek,w=function(M){var C,R,z,J;My(r)?(C=n.onDayClick)===null||C===void 0||C.call(n,e,t,M):c0(r)?(R=a.onDayClick)===null||R===void 0||R.call(a,e,t,M):u0(r)?(z=i.onDayClick)===null||z===void 0||z.call(i,e,t,M):(J=r.onDayClick)===null||J===void 0||J.call(r,e,t,M)},y=function(M){var C;h(e),(C=r.onDayFocus)===null||C===void 0||C.call(r,e,t,M)},j=function(M){var C;f(),(C=r.onDayBlur)===null||C===void 0||C.call(r,e,t,M)},N=function(M){var C;(C=r.onDayMouseEnter)===null||C===void 0||C.call(r,e,t,M)},E=function(M){var C;(C=r.onDayMouseLeave)===null||C===void 0||C.call(r,e,t,M)},S=function(M){var C;(C=r.onDayPointerEnter)===null||C===void 0||C.call(r,e,t,M)},_=function(M){var C;(C=r.onDayPointerLeave)===null||C===void 0||C.call(r,e,t,M)},D=function(M){var C;(C=r.onDayTouchCancel)===null||C===void 0||C.call(r,e,t,M)},F=function(M){var C;(C=r.onDayTouchEnd)===null||C===void 0||C.call(r,e,t,M)},O=function(M){var C;(C=r.onDayTouchMove)===null||C===void 0||C.call(r,e,t,M)},L=function(M){var C;(C=r.onDayTouchStart)===null||C===void 0||C.call(r,e,t,M)},k=function(M){var C;(C=r.onDayKeyUp)===null||C===void 0||C.call(r,e,t,M)},P=function(M){var C;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?p():m();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?v():x();break;case"Home":M.preventDefault(),M.stopPropagation(),b();break;case"End":M.preventDefault(),M.stopPropagation(),g();break}(C=r.onDayKeyDown)===null||C===void 0||C.call(r,e,t,M)},I={onClick:w,onFocus:y,onBlur:j,onKeyDown:P,onKeyUp:k,onMouseEnter:N,onMouseLeave:E,onPointerEnter:S,onPointerLeave:_,onTouchCancel:D,onTouchEnd:F,onTouchMove:O,onTouchStart:L};return I}function aQ(){var e=Sr(),t=MF(),r=g_(),n=v_(),a=My(e)?t.selected:c0(e)?r.selected:u0(e)?n.selected:void 0;return a}function sQ(e){return Object.values(pi).includes(e)}function iQ(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(sQ(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function oQ(e,t){var r=Dt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Dt(Dt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function lQ(e,t,r){var n,a,i,o=Sr(),l=w_(),c=eQ(e,t),u=nQ(e,c),d=aQ(),f=!!(o.onDayClick||o.mode!=="default");T.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Aa(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=iQ(o,c).join(" "),m=oQ(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:CX,v=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:v,role:"gridcell"},g=l.focusTarget&&Aa(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Aa(l.focusedDay,e),y=Dt(Dt(Dt({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||g?0:-1,n)),u),j={isButton:f,isHidden:x,activeModifiers:c,selectedDays:d,buttonProps:y,divProps:b};return j}function cQ(e){var t=T.useRef(null),r=lQ(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx($x,Dt({name:"day",ref:t},r.buttonProps)):s.jsx("div",Dt({},r.divProps))}function uQ(e){var t=e.number,r=e.dates,n=Sr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx($x,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function dQ(e){var t,r,n=Sr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:cQ,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:uQ,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},UY(f))})]})}function CC(e,t,r){for(var n=r!=null&&r.ISOWeek?wF(t):h_(t,r),a=r!=null&&r.ISOWeek?cu(e):Vi(e,r),i=ri(n,a),o=[],l=0;l<=i;l++)o.push(zn(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?jF(d):SF(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function fQ(e,t){var r=CC(Pa(e),f_(e),t);if(t!=null&&t.useFixedWeeks){var n=VY(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=Zj(i,6-n),l=CC(Zj(i,1),o,t);r.push.apply(r,l)}}return r}function hQ(e){var t,r,n,a=Sr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,x=fQ(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:AX,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:dQ,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:_X;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(g){return s.jsx(v,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),s.jsx(b,{displayMonth:e.displayMonth})]})}function mQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var pQ=mQ()?T.useLayoutEffect:T.useEffect,Mw=!1,gQ=0;function DC(){return"react-day-picker-".concat(++gQ)}function xQ(e){var t,r=e??(Mw?DC():null),n=T.useState(r),a=n[0],i=n[1];return pQ(function(){a===null&&i(DC())},[]),T.useEffect(function(){Mw===!1&&(Mw=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function vQ(e){var t,r,n=Sr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=d0().displayMonths,u=xQ(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,x=e.displayIndex===c.length-1,p=!m&&!x;a==="rtl"&&(t=[m,x],x=t[0],m=t[1]),m&&(f.push(i.caption_start),h=Dt(Dt({},h),o.caption_start)),x&&(f.push(i.caption_end),h=Dt(Dt({},h),o.caption_end)),p&&(f.push(i.caption_between),h=Dt(Dt({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:SX;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(hQ,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function yQ(e){var t=Sr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function wQ(e){var t,r,n=e.initialProps,a=Sr(),i=w_(),o=d0(),l=T.useState(!1),c=l[0],u=l[1];T.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Dt(Dt({},a.styles.root),a.style),h=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var v;return Dt(Dt({},x),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:yQ;return s.jsx("div",Dt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(x,p){return s.jsx(vQ,{displayIndex:p,displayMonth:x},p)})})}))}function bQ(e){var t=e.children,r=zY(e,["children"]);return s.jsx(uX,{initialProps:r,children:s.jsx(wX,{children:s.jsx(tQ,{initialProps:r,children:s.jsx(DX,{initialProps:r,children:s.jsx(PX,{initialProps:r,children:s.jsx(UX,{children:s.jsx(JX,{children:t})})})})})})})}function jQ(e){return s.jsx(bQ,Dt({},e,{children:s.jsx(wQ,{initialProps:e})}))}function mo({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(jQ,{showOutsideDays:r,className:tt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:tt(qj({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:tt(qj({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(Vl,{className:tt("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(Ss,{className:tt("h-4 w-4",a),...i})},...n})}mo.displayName="Calendar";var Rw=0;function j_(){T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kC()),document.body.insertAdjacentElement("beforeend",e[1]??kC()),Rw++,()=>{Rw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rw--}},[])}function kC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fw="focusScope.autoFocusOnMount",Lw="focusScope.autoFocusOnUnmount",OC={bubbles:!1,cancelable:!0},NQ="FocusScope",Ry=T.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=T.useState(null),u=ya(a),d=ya(i),f=T.useRef(null),h=or(t,p=>c(p)),m=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const y=w.target;l.contains(y)?f.current=y:tl(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const y=w.relatedTarget;y!==null&&(l.contains(y)||tl(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&tl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),g.disconnect()}}},[n,l,m.paused]),T.useEffect(()=>{if(l){IC.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(Fw,OC);l.addEventListener(Fw,u),l.dispatchEvent(b),b.defaultPrevented||(SQ(CQ(RF(l)),{select:!0}),document.activeElement===p&&tl(l))}return()=>{l.removeEventListener(Fw,u),setTimeout(()=>{const b=new CustomEvent(Lw,OC);l.addEventListener(Lw,d),l.dispatchEvent(b),b.defaultPrevented||tl(p??document.body,{select:!0}),l.removeEventListener(Lw,d),IC.remove(m)},0)}}},[l,u,d,m]);const x=T.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(v&&b){const g=p.currentTarget,[w,y]=_Q(g);w&&y?!p.shiftKey&&b===y?(p.preventDefault(),r&&tl(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&tl(y,{select:!0})):b===g&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Ot.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});Ry.displayName=NQ;function SQ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(tl(n,{select:t}),document.activeElement!==r)return}function _Q(e){const t=RF(e),r=PC(t,e),n=PC(t.reverse(),e);return[r,n]}function RF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PC(e,t){for(const r of e)if(!TQ(r,{upTo:t}))return r}function TQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function EQ(e){return e instanceof HTMLInputElement&&"select"in e}function tl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&EQ(e)&&t&&e.select()}}var IC=AQ();function AQ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=MC(e,t),e.unshift(t)},remove(t){var r;e=MC(e,t),(r=e[0])==null||r.resume()}}}function MC(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function CQ(e){return e.filter(t=>t.tagName!=="A")}var DQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hu=new WeakMap,tg=new WeakMap,rg={},$w=0,FF=function(e){return e&&(e.host||FF(e.parentNode))},kQ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=FF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},OQ=function(e,t,r,n){var a=kQ(t,Array.isArray(e)?e:[e]);rg[r]||(rg[r]=new WeakMap);var i=rg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),x=m!==null&&m!=="false",p=(Hu.get(h)||0)+1,v=(i.get(h)||0)+1;Hu.set(h,p),i.set(h,v),o.push(h),p===1&&x&&tg.set(h,!0),v===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),$w++,function(){o.forEach(function(f){var h=Hu.get(f)-1,m=i.get(f)-1;Hu.set(f,h),i.set(f,m),h||(tg.has(f)||f.removeAttribute(n),tg.delete(f)),m||f.removeAttribute(r)}),$w--,$w||(Hu=new WeakMap,Hu=new WeakMap,tg=new WeakMap,rg={})}},N_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=DQ(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),OQ(n,a,r,"aria-hidden")):function(){return null}},Di=function(){return Di=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Di.apply(this,arguments)};function LF(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function PQ(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var qg="right-scroll-bar-position",Kg="width-before-scroll-bar",IQ="with-scroll-bars-hidden",MQ="--removed-body-scroll-bar-size";function Bw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function RQ(e,t){var r=T.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var FQ=typeof window<"u"?T.useLayoutEffect:T.useEffect,RC=new WeakMap;function LQ(e,t){var r=RQ(null,function(n){return e.forEach(function(a){return Bw(a,n)})});return FQ(function(){var n=RC.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Bw(l,null)}),i.forEach(function(l){a.has(l)||Bw(l,o)})}RC.set(r,e)},[e]),r}function $Q(e){return e}function BQ(e,t){t===void 0&&(t=$Q);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function UQ(e){e===void 0&&(e={});var t=BQ(null);return t.options=Di({async:!0,ssr:!1},e),t}var $F=function(e){var t=e.sideCar,r=LF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return T.createElement(n,Di({},r))};$F.isSideCarExport=!0;function WQ(e,t){return e.useMedium(t),$F}var BF=UQ(),Uw=function(){},Fy=T.forwardRef(function(e,t){var r=T.useRef(null),n=T.useState({onScrollCapture:Uw,onWheelCapture:Uw,onTouchMoveCapture:Uw}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,p=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,g=e.gapMode,w=LF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=h,j=LQ([r,t]),N=Di(Di({},w),a);return T.createElement(T.Fragment,null,d&&T.createElement(y,{sideCar:BF,removeScrollBar:u,shards:f,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:g}),o?T.cloneElement(T.Children.only(l),Di(Di({},N),{ref:j})):T.createElement(b,Di({},N,{className:c,ref:j}),l))});Fy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fy.classNames={fullWidth:Kg,zeroRight:qg};var VQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VQ();return t&&e.setAttribute("nonce",t),e}function zQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var KQ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=HQ())&&(zQ(t,r),qQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GQ=function(){var e=KQ();return function(t,r){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},UF=function(){var e=GQ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},YQ={left:0,top:0,right:0,gap:0},Ww=function(e){return parseInt(e||"",10)||0},XQ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ww(r),Ww(n),Ww(a)]},QQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return YQ;var t=XQ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ZQ=UF(),Dd="data-scroll-locked",JQ=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(IQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Dd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Kg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(qg," .").concat(qg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Kg," .").concat(Kg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Dd,`] {
    `).concat(MQ,": ").concat(l,`px;
  }
`)},FC=function(){var e=parseInt(document.body.getAttribute(Dd)||"0",10);return isFinite(e)?e:0},eZ=function(){T.useEffect(function(){return document.body.setAttribute(Dd,(FC()+1).toString()),function(){var e=FC()-1;e<=0?document.body.removeAttribute(Dd):document.body.setAttribute(Dd,e.toString())}},[])},tZ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;eZ();var i=T.useMemo(function(){return QQ(a)},[a]);return T.createElement(ZQ,{styles:JQ(i,!t,a,r?"":"!important")})},eN=!1;if(typeof window<"u")try{var ng=Object.defineProperty({},"passive",{get:function(){return eN=!0,!0}});window.addEventListener("test",ng,ng),window.removeEventListener("test",ng,ng)}catch{eN=!1}var zu=eN?{passive:!1}:!1,rZ=function(e){return e.tagName==="TEXTAREA"},WF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!rZ(e)&&r[t]==="visible")},nZ=function(e){return WF(e,"overflowY")},aZ=function(e){return WF(e,"overflowX")},LC=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=VF(e,n);if(a){var i=HF(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},sZ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},iZ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},VF=function(e,t){return e==="v"?nZ(t):aZ(t)},HF=function(e,t){return e==="v"?sZ(t):iZ(t)},oZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},lZ=function(e,t,r,n,a){var i=oZ(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=HF(e,l),x=m[0],p=m[1],v=m[2],b=p-v-i*x;(x||b)&&VF(e,l)&&(f+=b,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ag=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$C=function(e){return[e.deltaX,e.deltaY]},BC=function(e){return e&&"current"in e?e.current:e},cZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dZ=0,qu=[];function fZ(e){var t=T.useRef([]),r=T.useRef([0,0]),n=T.useRef(),a=T.useState(dZ++)[0],i=T.useState(UF)[0],o=T.useRef(e);T.useEffect(function(){o.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=PQ([e.lockRef.current],(e.shards||[]).map(BC),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=T.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=ag(p),g=r.current,w="deltaX"in p?p.deltaX:g[0]-b[0],y="deltaY"in p?p.deltaY:g[1]-b[1],j,N=p.target,E=Math.abs(w)>Math.abs(y)?"h":"v";if("touches"in p&&E==="h"&&N.type==="range")return!1;var S=LC(E,N);if(!S)return!0;if(S?j=E:(j=E==="v"?"h":"v",S=LC(E,N)),!S)return!1;if(!n.current&&"changedTouches"in p&&(w||y)&&(n.current=j),!j)return!0;var _=n.current||j;return lZ(_,v,p,_==="h"?w:y,!0)},[]),c=T.useCallback(function(p){var v=p;if(!(!qu.length||qu[qu.length-1]!==i)){var b="deltaY"in v?$C(v):ag(v),g=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&cZ(j.delta,b)})[0];if(g&&g.should){v.cancelable&&v.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(BC).filter(Boolean).filter(function(j){return j.contains(v.target)}),y=w.length>0?l(v,w[0]):!o.current.noIsolation;y&&v.cancelable&&v.preventDefault()}}},[]),u=T.useCallback(function(p,v,b,g){var w={name:p,delta:v,target:b,should:g,shadowParent:hZ(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(y){return y!==w})},1)},[]),d=T.useCallback(function(p){r.current=ag(p),n.current=void 0},[]),f=T.useCallback(function(p){u(p.type,$C(p),p.target,l(p,e.lockRef.current))},[]),h=T.useCallback(function(p){u(p.type,ag(p),p.target,l(p,e.lockRef.current))},[]);T.useEffect(function(){return qu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,zu),document.addEventListener("touchmove",c,zu),document.addEventListener("touchstart",d,zu),function(){qu=qu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,zu),document.removeEventListener("touchmove",c,zu),document.removeEventListener("touchstart",d,zu)}},[]);var m=e.removeScrollBar,x=e.inert;return T.createElement(T.Fragment,null,x?T.createElement(i,{styles:uZ(a)}):null,m?T.createElement(tZ,{gapMode:e.gapMode}):null)}function hZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mZ=WQ(BF,fZ);var Ly=T.forwardRef(function(e,t){return T.createElement(Fy,Di({},e,{ref:t,sideCar:mZ}))});Ly.classNames=Fy.classNames;var S_="Popover",[zF,EPe]=Cs(S_,[Gf]),f0=Gf(),[pZ,sc]=zF(S_),qF=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=f0(t),c=T.useRef(null),[u,d]=T.useState(!1),[f=!1,h]=Oo({prop:n,defaultProp:a,onChange:i});return s.jsx(P3,{...l,children:s.jsx(pZ,{scope:t,contentId:wo(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:T.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:T.useCallback(()=>d(!0),[]),onCustomAnchorRemove:T.useCallback(()=>d(!1),[]),modal:o,children:r})})};qF.displayName=S_;var KF="PopoverAnchor",gZ=T.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sc(KF,r),i=f0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return T.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Ay,{...i,...n,ref:t})});gZ.displayName=KF;var GF="PopoverTrigger",YF=T.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sc(GF,r),i=f0(r),o=or(t,a.triggerRef),l=s.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eL(a.open),...n,ref:o,onClick:vt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Ay,{asChild:!0,...i,children:l})});YF.displayName=GF;var __="PopoverPortal",[xZ,vZ]=zF(__,{forceMount:void 0}),XF=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=sc(__,t);return s.jsx(xZ,{scope:t,forceMount:r,children:s.jsx(Ki,{present:r||i.open,children:s.jsx(Zp,{asChild:!0,container:a,children:n})})})};XF.displayName=__;var pf="PopoverContent",QF=T.forwardRef((e,t)=>{const r=vZ(pf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=sc(pf,e.__scopePopover);return s.jsx(Ki,{present:n||i.open,children:i.modal?s.jsx(wZ,{...a,ref:t}):s.jsx(bZ,{...a,ref:t})})});QF.displayName=pf;var yZ=au("PopoverContent.RemoveScroll"),wZ=T.forwardRef((e,t)=>{const r=sc(pf,e.__scopePopover),n=T.useRef(null),a=or(t,n),i=T.useRef(!1);return T.useEffect(()=>{const o=n.current;if(o)return N_(o)},[]),s.jsx(Ly,{as:yZ,allowPinchZoom:!0,children:s.jsx(ZF,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:vt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:vt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),bZ=T.forwardRef((e,t)=>{const r=sc(pf,e.__scopePopover),n=T.useRef(!1),a=T.useRef(!1);return s.jsx(ZF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ZF=T.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=sc(pf,r),m=f0(r);return j_(),s.jsx(Ry,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(r_,{"data-state":eL(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),JF="PopoverClose",jZ=T.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=sc(JF,r);return s.jsx(Ot.button,{type:"button",...n,ref:t,onClick:vt(e.onClick,()=>a.onOpenChange(!1))})});jZ.displayName=JF;var NZ="PopoverArrow",SZ=T.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=f0(r);return s.jsx(n_,{...a,...n,ref:t})});SZ.displayName=NZ;function eL(e){return e?"open":"closed"}var _Z=qF,TZ=YF,EZ=XF,tL=QF;const wl=_Z,bl=TZ,po=T.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(EZ,{children:s.jsx(tL,{ref:a,align:t,sideOffset:r,className:tt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));po.displayName=tL.displayName;const AZ=we.object({effectiveDate:we.date({required_error:"Please select an effective date"})});function CZ({onNext:e,onPrevious:t,isLast:r,isLoading:n,company:a}){const{toast:i}=Lr();function o(){const h=localStorage.getItem("leave_year");if(!h)return{startDate:null,endDate:null};const m=h.split("-");if(m.length!==3)return{startDate:null,endDate:null};const x=m[0],p=m[1],v=m[2].split(" ")[0],b=m[2].split(" ")[1],g={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11},w=new Date(parseInt(p),g[x],1),y=new Date(parseInt(b),g[v]+1,0);return{startDate:w,endDate:y}}const{startDate:l,endDate:c}=o(),u=Za({resolver:bs(AZ),defaultValues:{effectiveDate:a!=null&&a.effectiveDate?new Date(a.effectiveDate):new Date}}),d=It({mutationFn:async h=>{if(l&&c&&(h.effectiveDate<l||h.effectiveDate>c))throw new Error(`Effective date must be between ${at(l,"MMMM d, yyyy")} and ${at(c,"MMMM d, yyyy")} based on your leave year`);const m={effectiveDate:h.effectiveDate.toISOString(),setupStatus:"in_progress",name:(a==null?void 0:a.name)||"Company",workingDaysPerWeek:5,industry:"technology",leaveYearStart:"January 1st"};let x;a!=null&&a.id?x=await yt("PATCH",`/api/company/${a.id}`,m):x=await yt("POST","/api/company",m);try{const v=await(await yt("GET","/api/roles")).json();if(!v||v.length===0){console.log("No existing roles found, creating default roles...");const b=[{name:"Admin",description:"",permissions:{employeeOverview:{view:!0,modify:!0},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!0},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},adminOverview:{view:!0,modify:!0},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!0},workflows:{view:!0,modify:!0},roles:{view:!0,modify:!0},importLeaveData:{view:!0,modify:!0},adminLeaveTypes:{view:!0,modify:!0},adminCompOff:{view:!0,modify:!0},adminPTO:{view:!0,modify:!0},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}}},{name:"Reporting Manager",description:"",permissions:{employeeOverview:{view:!0,modify:!1},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!1},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},adminOverview:{view:!0,modify:!1},approvals:{view:!0,modify:!0},employees:{view:!0,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},allowOnBehalf:{pto:!0,leave:!0,compOff:!0}}},{name:"Employee",description:"",permissions:{employeeOverview:{view:!0,modify:!1},leaveApplications:{view:!0,modify:!0},holidays:{view:!0,modify:!1},compensatoryOff:{view:!0,modify:!0},pto:{view:!0,modify:!0},adminOverview:{view:!1,modify:!1},approvals:{view:!1,modify:!1},employees:{view:!1,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},allowOnBehalf:{pto:!1,leave:!1,compOff:!1}}}];for(const g of b)await yt("POST","/api/roles",g);console.log("Default roles created successfully")}else console.log("Existing roles found, skipping default role creation")}catch(p){console.error("Error creating default roles:",p)}return x},onSuccess:()=>{console.log("Effective date and default roles setup completed successfully"),Ye.invalidateQueries({queryKey:["/api/company"]}),Ye.invalidateQueries({queryKey:["/api/roles"]}),i({title:"Success",description:"Module enabled successfully with default roles created."}),setTimeout(()=>{console.log("About to call onNext() after timeout"),e()},100)},onError:h=>{console.error("Effective date error:",h),i({title:"Error",description:"Failed to save effective date. Please try again.",variant:"destructive"})}}),f=h=>{d.mutate(h)};return s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(Ne,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Set Effective Date"}),s.jsx(uf,{children:"Choose when your leave management system should become effective. This date will be used as the starting point for all leave calculations."})]}),s.jsx(_e,{children:s.jsx(ti,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-6",children:[s.jsx(Ke,{control:u.control,name:"effectiveDate",render:({field:h})=>s.jsxs(He,{className:"flex flex-col",children:[s.jsx(it,{children:"Effective Date"}),s.jsxs(wl,{children:[s.jsx(bl,{asChild:!0,children:s.jsx(et,{children:s.jsxs(ee,{variant:"outline",className:tt("w-full pl-3 text-left font-normal",!h.value&&"text-muted-foreground"),children:[h.value?at(h.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(wr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(po,{className:"w-auto p-0",align:"start",children:s.jsx(mo,{mode:"single",selected:h.value,onSelect:h.onChange,disabled:m=>l&&c?m<l||m>c:m<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(ft,{}),l&&c&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Please select a date between ",at(l,"MMMM d, yyyy")," and ",at(c,"MMMM d, yyyy")," based on your leave year (",localStorage.getItem("leave_year"),")."]})]})}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:t,disabled:d.isPending,children:"Previous"}),s.jsx(ee,{type:"submit",disabled:d.isPending||n,children:d.isPending?"Saving...":r?"Complete Setup":"Next"})]})]})})})]})})}const UC=e=>({stethoscope:Ny,smile:t0,umbrella:Sy,baby:by,heart:jy,users:un,user:r0,calendar:wr,briefcase:XR,clock:yn,star:r3,gift:e3})[e]||wr,ut=T.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:tt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ut.displayName="Input";const wn=T.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:tt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));wn.displayName="Textarea";function T_(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var E_="Checkbox",[DZ,APe]=Cs(E_),[kZ,OZ]=DZ(E_),rL=T.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=T.useState(null),x=or(t,y=>m(y)),p=T.useRef(!1),v=h?d||!!h.closest("form"):!0,[b=!1,g]=Oo({prop:a,defaultProp:i,onChange:u}),w=T.useRef(b);return T.useEffect(()=>{const y=h==null?void 0:h.form;if(y){const j=()=>g(w.current);return y.addEventListener("reset",j),()=>y.removeEventListener("reset",j)}},[h,g]),s.jsxs(kZ,{scope:r,state:b,disabled:l,children:[s.jsx(Ot.button,{type:"button",role:"checkbox","aria-checked":Pl(b)?"mixed":b,"aria-required":o,"data-state":sL(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:vt(e.onKeyDown,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:vt(e.onClick,y=>{g(j=>Pl(j)?!0:!j),v&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})}),v&&s.jsx(PZ,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Pl(i)?!1:i})]})});rL.displayName=E_;var nL="CheckboxIndicator",aL=T.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=OZ(nL,r);return s.jsx(Ki,{present:n||Pl(i.state)||i.state===!0,children:s.jsx(Ot.span,{"data-state":sL(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});aL.displayName=nL;var PZ=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,o=T.useRef(null),l=T_(r),c=J2(t);T.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});d.indeterminate=Pl(r),m.call(d,Pl(r)?!1:r),d.dispatchEvent(x)}},[l,r,n]);const u=T.useRef(Pl(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Pl(e){return e==="indeterminate"}function sL(e){return Pl(e)?"indeterminate":e?"checked":"unchecked"}var iL=rL,IZ=aL;const Tt=T.forwardRef(({className:e,...t},r)=>s.jsx(iL,{ref:r,className:tt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(IZ,{className:tt("flex items-center justify-center text-current"),children:s.jsx(V2,{className:"h-4 w-4"})})}));Tt.displayName=iL.displayName;function WC(e,[t,r]){return Math.min(r,Math.max(t,e))}var MZ=T.createContext(void 0);function A_(e){const t=T.useContext(MZ);return e||t||"ltr"}var RZ=[" ","Enter","ArrowUp","ArrowDown"],FZ=[" ","Enter"],h0="Select",[$y,By,LZ]=$2(h0),[Yf,CPe]=Cs(h0,[LZ,Gf]),Uy=Gf(),[$Z,ic]=Yf(h0),[BZ,UZ]=Yf(h0),oL=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:x}=e,p=Uy(t),[v,b]=T.useState(null),[g,w]=T.useState(null),[y,j]=T.useState(!1),N=A_(u),[E=!1,S]=Oo({prop:n,defaultProp:a,onChange:i}),[_,D]=Oo({prop:o,defaultProp:l,onChange:c}),F=T.useRef(null),O=v?x||!!v.closest("form"):!0,[L,k]=T.useState(new Set),P=Array.from(L).map(I=>I.props.value).join(";");return s.jsx(P3,{...p,children:s.jsxs($Z,{required:m,scope:t,trigger:v,onTriggerChange:b,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:y,onValueNodeHasChildrenChange:j,contentId:wo(),value:_,onValueChange:D,open:E,onOpenChange:S,dir:N,triggerPointerDownPosRef:F,disabled:h,children:[s.jsx($y.Provider,{scope:t,children:s.jsx(BZ,{scope:e.__scopeSelect,onNativeOptionAdd:T.useCallback(I=>{k(M=>new Set(M).add(I))},[]),onNativeOptionRemove:T.useCallback(I=>{k(M=>{const C=new Set(M);return C.delete(I),C})},[]),children:r})}),O?s.jsxs(OL,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:_,onChange:I=>D(I.target.value),disabled:h,form:x,children:[_===void 0?s.jsx("option",{value:""}):null,Array.from(L)]},P):null]})})};oL.displayName=h0;var lL="SelectTrigger",cL=T.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Uy(r),o=ic(lL,r),l=o.disabled||n,c=or(t,o.onTriggerChange),u=By(r),d=T.useRef("touch"),[f,h,m]=PL(p=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),g=IL(v,p,b);g!==void 0&&o.onValueChange(g.value)}),x=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Ay,{asChild:!0,...i,children:s.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":kL(o.value)?"":void 0,...a,ref:c,onClick:vt(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&x(p)}),onPointerDown:vt(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:vt(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&RZ.includes(p.key)&&(x(),p.preventDefault())})})})});cL.displayName=lL;var uL="SelectValue",dL=T.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ic(uL,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=or(t,c.onValueNodeChange);return dn(()=>{u(d)},[u,d]),s.jsx(Ot.span,{...l,ref:f,style:{pointerEvents:"none"},children:kL(c.value)?s.jsx(s.Fragment,{children:o}):i})});dL.displayName=uL;var WZ="SelectIcon",fL=T.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ot.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});fL.displayName=WZ;var VZ="SelectPortal",hL=e=>s.jsx(Zp,{asChild:!0,...e});hL.displayName=VZ;var uu="SelectContent",mL=T.forwardRef((e,t)=>{const r=ic(uu,e.__scopeSelect),[n,a]=T.useState();if(dn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?bu.createPortal(s.jsx(pL,{scope:e.__scopeSelect,children:s.jsx($y.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(gL,{...e,ref:t})});mL.displayName=uu;var Us=10,[pL,oc]=Yf(uu),HZ="SelectContentImpl",zZ=au("SelectContent.RemoveScroll"),gL=T.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v,...b}=e,g=ic(uu,r),[w,y]=T.useState(null),[j,N]=T.useState(null),E=or(t,ue=>y(ue)),[S,_]=T.useState(null),[D,F]=T.useState(null),O=By(r),[L,k]=T.useState(!1),P=T.useRef(!1);T.useEffect(()=>{if(w)return N_(w)},[w]),j_();const I=T.useCallback(ue=>{const[he,...G]=O().map(ne=>ne.ref.current),[re]=G.slice(-1),de=document.activeElement;for(const ne of ue)if(ne===de||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===he&&j&&(j.scrollTop=0),ne===re&&j&&(j.scrollTop=j.scrollHeight),ne==null||ne.focus(),document.activeElement!==de))return},[O,j]),M=T.useCallback(()=>I([S,w]),[I,S,w]);T.useEffect(()=>{L&&M()},[L,M]);const{onOpenChange:C,triggerPointerDownPosRef:R}=g;T.useEffect(()=>{if(w){let ue={x:0,y:0};const he=re=>{var de,ne;ue={x:Math.abs(Math.round(re.pageX)-(((de=R.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(re.pageY)-(((ne=R.current)==null?void 0:ne.y)??0))}},G=re=>{ue.x<=10&&ue.y<=10?re.preventDefault():w.contains(re.target)||C(!1),document.removeEventListener("pointermove",he),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",G,{capture:!0})}}},[w,C,R]),T.useEffect(()=>{const ue=()=>C(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[C]);const[z,J]=PL(ue=>{const he=O().filter(de=>!de.disabled),G=he.find(de=>de.ref.current===document.activeElement),re=IL(he,ue,G);re&&setTimeout(()=>re.ref.current.focus())}),U=T.useCallback((ue,he,G)=>{const re=!P.current&&!G;(g.value!==void 0&&g.value===he||re)&&(_(ue),re&&(P.current=!0))},[g.value]),q=T.useCallback(()=>w==null?void 0:w.focus(),[w]),Y=T.useCallback((ue,he,G)=>{const re=!P.current&&!G;(g.value!==void 0&&g.value===he||re)&&F(ue)},[g.value]),Q=n==="popper"?tN:xL,Z=Q===tN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(pL,{scope:r,content:w,viewport:j,onViewportChange:N,itemRefCallback:U,selectedItem:S,onItemLeave:q,itemTextRefCallback:Y,focusSelectedItem:M,selectedItemText:D,position:n,isPositioned:L,searchRef:z,children:s.jsx(Ly,{as:zZ,allowPinchZoom:!0,children:s.jsx(Ry,{asChild:!0,trapped:g.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:vt(a,ue=>{var he;(he=g.trigger)==null||he.focus({preventScroll:!0}),ue.preventDefault()}),children:s.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:s.jsx(Q,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ue=>ue.preventDefault(),...b,...Z,onPlaced:()=>k(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:vt(b.onKeyDown,ue=>{const he=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!he&&ue.key.length===1&&J(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let re=O().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const de=ue.target,ne=re.indexOf(de);re=re.slice(ne+1)}setTimeout(()=>I(re)),ue.preventDefault()}})})})})})})});gL.displayName=HZ;var qZ="SelectItemAlignedPosition",xL=T.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ic(uu,r),o=oc(uu,r),[l,c]=T.useState(null),[u,d]=T.useState(null),f=or(t,E=>d(E)),h=By(r),m=T.useRef(!1),x=T.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:b,focusSelectedItem:g}=o,w=T.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&b){const E=i.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),D=b.getBoundingClientRect();if(i.dir!=="rtl"){const de=D.left-S.left,ne=_.left-de,Ee=E.left-ne,Ce=E.width+Ee,De=Math.max(Ce,S.width),Pe=window.innerWidth-Us,ce=WC(ne,[Us,Math.max(Us,Pe-De)]);l.style.minWidth=Ce+"px",l.style.left=ce+"px"}else{const de=S.right-D.right,ne=window.innerWidth-_.right-de,Ee=window.innerWidth-E.right-ne,Ce=E.width+Ee,De=Math.max(Ce,S.width),Pe=window.innerWidth-Us,ce=WC(ne,[Us,Math.max(Us,Pe-De)]);l.style.minWidth=Ce+"px",l.style.right=ce+"px"}const F=h(),O=window.innerHeight-Us*2,L=p.scrollHeight,k=window.getComputedStyle(u),P=parseInt(k.borderTopWidth,10),I=parseInt(k.paddingTop,10),M=parseInt(k.borderBottomWidth,10),C=parseInt(k.paddingBottom,10),R=P+I+L+C+M,z=Math.min(v.offsetHeight*5,R),J=window.getComputedStyle(p),U=parseInt(J.paddingTop,10),q=parseInt(J.paddingBottom,10),Y=E.top+E.height/2-Us,Q=O-Y,Z=v.offsetHeight/2,ue=v.offsetTop+Z,he=P+I+ue,G=R-he;if(he<=Y){const de=F.length>0&&v===F[F.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-p.offsetTop-p.offsetHeight,Ee=Math.max(Q,Z+(de?q:0)+ne+M),Ce=he+Ee;l.style.height=Ce+"px"}else{const de=F.length>0&&v===F[0].ref.current;l.style.top="0px";const Ee=Math.max(Y,P+p.offsetTop+(de?U:0)+Z)+G;l.style.height=Ee+"px",p.scrollTop=he-Y+p.offsetTop}l.style.margin=`${Us}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,v,b,i.dir,n]);dn(()=>w(),[w]);const[y,j]=T.useState();dn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=T.useCallback(E=>{E&&x.current===!0&&(w(),g==null||g(),x.current=!1)},[w,g]);return s.jsx(GZ,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:y},children:s.jsx(Ot.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});xL.displayName=qZ;var KZ="SelectPopperPosition",tN=T.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Us,...i}=e,o=Uy(r);return s.jsx(r_,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tN.displayName=KZ;var[GZ,C_]=Yf(uu,{}),rN="SelectViewport",vL=T.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=oc(rN,r),o=C_(rN,r),l=or(t,i.onViewportChange),c=T.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx($y.Slot,{scope:r,children:s.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:vt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-Us*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(p,v);if(b<x){const g=b+m,w=Math.min(x,g),y=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=y>0?y:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});vL.displayName=rN;var yL="SelectGroup",[YZ,XZ]=Yf(yL),QZ=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=wo();return s.jsx(YZ,{scope:r,id:a,children:s.jsx(Ot.div,{role:"group","aria-labelledby":a,...n,ref:t})})});QZ.displayName=yL;var wL="SelectLabel",bL=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=XZ(wL,r);return s.jsx(Ot.div,{id:a.id,...n,ref:t})});bL.displayName=wL;var Bx="SelectItem",[ZZ,jL]=Yf(Bx),NL=T.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ic(Bx,r),c=oc(Bx,r),u=l.value===n,[d,f]=T.useState(i??""),[h,m]=T.useState(!1),x=or(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,n,a)}),p=wo(),v=T.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ZZ,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:T.useCallback(g=>{f(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:s.jsx($y.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Ot.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:vt(o.onFocus,()=>m(!0)),onBlur:vt(o.onBlur,()=>m(!1)),onClick:vt(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:vt(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:vt(o.onPointerDown,g=>{v.current=g.pointerType}),onPointerMove:vt(o.onPointerMove,g=>{var w;v.current=g.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vt(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:vt(o.onKeyDown,g=>{var y;((y=c.searchRef)==null?void 0:y.current)!==""&&g.key===" "||(FZ.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});NL.displayName=Bx;var Kh="SelectItemText",SL=T.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ic(Kh,r),l=oc(Kh,r),c=jL(Kh,r),u=UZ(Kh,r),[d,f]=T.useState(null),h=or(t,b=>f(b),c.onItemTextChange,b=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=T.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return dn(()=>(p(x),()=>v(x)),[p,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(Ot.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bu.createPortal(i.children,o.valueNode):null]})});SL.displayName=Kh;var _L="SelectItemIndicator",TL=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return jL(_L,r).isSelected?s.jsx(Ot.span,{"aria-hidden":!0,...n,ref:t}):null});TL.displayName=_L;var nN="SelectScrollUpButton",EL=T.forwardRef((e,t)=>{const r=oc(nN,e.__scopeSelect),n=C_(nN,e.__scopeSelect),[a,i]=T.useState(!1),o=or(t,n.onScrollButtonChange);return dn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(CL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});EL.displayName=nN;var aN="SelectScrollDownButton",AL=T.forwardRef((e,t)=>{const r=oc(aN,e.__scopeSelect),n=C_(aN,e.__scopeSelect),[a,i]=T.useState(!1),o=or(t,n.onScrollButtonChange);return dn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(CL,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});AL.displayName=aN;var CL=T.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=oc("SelectScrollButton",r),o=T.useRef(null),l=By(r),c=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>c(),[c]),dn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ot.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:vt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:vt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:vt(a.onPointerLeave,()=>{c()})})}),JZ="SelectSeparator",DL=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ot.div,{"aria-hidden":!0,...n,ref:t})});DL.displayName=JZ;var sN="SelectArrow",eJ=T.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Uy(r),i=ic(sN,r),o=oc(sN,r);return i.open&&o.position==="popper"?s.jsx(n_,{...a,...n,ref:t}):null});eJ.displayName=sN;function kL(e){return e===""||e===void 0}var OL=T.forwardRef((e,t)=>{const{value:r,...n}=e,a=T.useRef(null),i=or(t,a),o=T_(r);return T.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(Jp,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});OL.displayName="BubbleSelect";function PL(e){const t=ya(e),r=T.useRef(""),n=T.useRef(0),a=T.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=T.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function IL(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=tJ(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function tJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rJ=oL,ML=cL,nJ=dL,aJ=fL,sJ=hL,RL=mL,iJ=vL,FL=bL,LL=NL,oJ=SL,lJ=TL,$L=EL,BL=AL,UL=DL;const Nt=rJ,St=nJ,wt=T.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(ML,{ref:n,className:tt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(aJ,{asChild:!0,children:s.jsx(Td,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=ML.displayName;const WL=T.forwardRef(({className:e,...t},r)=>s.jsx($L,{ref:r,className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(QR,{className:"h-4 w-4"})}));WL.displayName=$L.displayName;const VL=T.forwardRef(({className:e,...t},r)=>s.jsx(BL,{ref:r,className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Td,{className:"h-4 w-4"})}));VL.displayName=BL.displayName;const bt=T.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(sJ,{children:s.jsxs(RL,{ref:a,className:tt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(WL,{}),s.jsx(iJ,{className:tt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(VL,{})]})}));bt.displayName=RL.displayName;const cJ=T.forwardRef(({className:e,...t},r)=>s.jsx(FL,{ref:r,className:tt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));cJ.displayName=FL.displayName;const Ae=T.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(LL,{ref:n,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(lJ,{children:s.jsx(V2,{className:"h-4 w-4"})})}),s.jsx(oJ,{children:t})]}));Ae.displayName=LL.displayName;const uJ=T.forwardRef(({className:e,...t},r)=>s.jsx(UL,{ref:r,className:tt("-mx-1 my-1 h-px bg-muted",e),...t}));uJ.displayName=UL.displayName;var D_="Switch",[dJ,DPe]=Cs(D_),[fJ,hJ]=dJ(D_),HL=T.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=T.useState(null),x=or(t,w=>m(w)),p=T.useRef(!1),v=h?d||!!h.closest("form"):!0,[b=!1,g]=Oo({prop:a,defaultProp:i,onChange:u});return s.jsxs(fJ,{scope:r,checked:b,disabled:l,children:[s.jsx(Ot.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":KL(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:vt(e.onClick,w=>{g(y=>!y),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&s.jsx(mJ,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});HL.displayName=D_;var zL="SwitchThumb",qL=T.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=hJ(zL,r);return s.jsx(Ot.span,{"data-state":KL(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});qL.displayName=zL;var mJ=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=T.useRef(null),o=T_(r),l=J2(t);return T.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function KL(e){return e?"checked":"unchecked"}var GL=HL,pJ=qL;const Qs=T.forwardRef(({className:e,...t},r)=>s.jsx(GL,{className:tt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(pJ,{className:tt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qs.displayName=GL.displayName;var Vw="rovingFocusGroup.onEntryFocus",gJ={bubbles:!1,cancelable:!0},Wy="RovingFocusGroup",[iN,YL,xJ]=$2(Wy),[vJ,XL]=Cs(Wy,[xJ]),[yJ,wJ]=vJ(Wy),QL=T.forwardRef((e,t)=>s.jsx(iN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(iN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(bJ,{...e,ref:t})})}));QL.displayName=Wy;var bJ=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=T.useRef(null),m=or(t,h),x=A_(i),[p=null,v]=Oo({prop:o,defaultProp:l,onChange:c}),[b,g]=T.useState(!1),w=ya(u),y=YL(r),j=T.useRef(!1),[N,E]=T.useState(0);return T.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(Vw,w),()=>S.removeEventListener(Vw,w)},[w]),s.jsx(yJ,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:p,onItemFocus:T.useCallback(S=>v(S),[v]),onItemShiftTab:T.useCallback(()=>g(!0),[]),onFocusableItemAdd:T.useCallback(()=>E(S=>S+1),[]),onFocusableItemRemove:T.useCallback(()=>E(S=>S-1),[]),children:s.jsx(Ot.div,{tabIndex:b||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:vt(e.onMouseDown,()=>{j.current=!0}),onFocus:vt(e.onFocus,S=>{const _=!j.current;if(S.target===S.currentTarget&&_&&!b){const D=new CustomEvent(Vw,gJ);if(S.currentTarget.dispatchEvent(D),!D.defaultPrevented){const F=y().filter(I=>I.focusable),O=F.find(I=>I.active),L=F.find(I=>I.id===p),P=[O,L,...F].filter(Boolean).map(I=>I.ref.current);e6(P,d)}}j.current=!1}),onBlur:vt(e.onBlur,()=>g(!1))})})}),ZL="RovingFocusGroupItem",JL=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=wo(),c=i||l,u=wJ(ZL,r),d=u.currentTabStopId===c,f=YL(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return T.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),s.jsx(iN.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(Ot.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:vt(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:vt(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:vt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=SJ(x,u.orientation,u.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=f().filter(g=>g.focusable).map(g=>g.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const g=b.indexOf(x.currentTarget);b=u.loop?_J(b,g+1):b.slice(g+1)}setTimeout(()=>e6(b))}})})})});JL.displayName=ZL;var jJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function NJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function SJ(e,t,r){const n=NJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jJ[n]}function e6(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function _J(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var TJ=QL,EJ=JL,k_="Tabs",[AJ,kPe]=Cs(k_,[XL]),t6=XL(),[CJ,O_]=AJ(k_),r6=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=A_(l),[f,h]=Oo({prop:n,onChange:a,defaultProp:i});return s.jsx(CJ,{scope:r,baseId:wo(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Ot.div,{dir:d,"data-orientation":o,...u,ref:t})})});r6.displayName=k_;var n6="TabsList",a6=T.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=O_(n6,r),o=t6(r);return s.jsx(TJ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ot.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});a6.displayName=n6;var s6="TabsTrigger",i6=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=O_(s6,r),l=t6(r),c=c6(o.baseId,n),u=u6(o.baseId,n),d=n===o.value;return s.jsx(EJ,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Ot.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:vt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:vt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:vt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});i6.displayName=s6;var o6="TabsContent",l6=T.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=O_(o6,r),c=c6(l.baseId,n),u=u6(l.baseId,n),d=n===l.value,f=T.useRef(d);return T.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Ki,{present:a||d,children:({present:h})=>s.jsx(Ot.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});l6.displayName=o6;function c6(e,t){return`${e}-trigger-${t}`}function u6(e,t){return`${e}-content-${t}`}var DJ=r6,d6=a6,f6=i6,h6=l6;const P_=DJ,Vy=T.forwardRef(({className:e,...t},r)=>s.jsx(d6,{ref:r,className:tt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vy.displayName=d6.displayName;const Il=T.forwardRef(({className:e,...t},r)=>s.jsx(f6,{ref:r,className:tt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Il.displayName=f6.displayName;const Ml=T.forwardRef(({className:e,...t},r)=>s.jsx(h6,{ref:r,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ml.displayName=h6.displayName;const kJ="modulepreload",OJ=function(e){return"/"+e},VC={},I_=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=OJ(c),c in VC)return;VC[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":kJ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},HC=async()=>{const{fetchEmployeeData:e,transformEmployeeData:t}=await I_(async()=>{const{fetchEmployeeData:r,transformEmployeeData:n}=await Promise.resolve().then(()=>W3);return{fetchEmployeeData:r,transformEmployeeData:n}},void 0);try{return(await e()).map(t)}catch(r){throw console.error("Failed to fetch employees from external API:",r),r}};function Hy({onClose:e,onAssign:t,preSelectedEmployees:r=[],applicableGenders:n=[]}){const[a,i]=T.useState(""),[o,l]=T.useState([]),[c,u]=T.useState(1),[d,f]=T.useState([]),[h,m]=T.useState(!0),[x,p]=T.useState(null),v=10;T.useEffect(()=>{(async()=>{try{m(!0),console.log("[EmployeeAssignment] Starting to load employees from external API...");const D=localStorage.getItem("jwt_token");if(console.log("[EmployeeAssignment] JWT token available:",!!D),!D){console.error("[EmployeeAssignment] No JWT token found in localStorage"),console.log("[EmployeeAssignment] To use external employee data, please:"),console.log("1. Obtain a JWT token from your system administrator"),console.log("2. Visit /id/{your-jwt-token} to authenticate"),console.log("3. Return to the setup wizard to assign employees");return}const F=await HC();console.log("[EmployeeAssignment] Loaded employees:",F.length),f(F),p(null)}catch(D){console.error("[EmployeeAssignment] Error loading employees:",D),D instanceof Error&&D.message.includes("JWT token")?p("Authentication required. Please obtain a JWT token and visit /id/{your-jwt-token} to authenticate."):p("Failed to load employee data. Please try again or contact your administrator."),f([])}finally{m(!1)}})()},[]),T.useEffect(()=>{if(r&&r.length>0&&d.length>0){const _=r.map(D=>d.find(F=>F.user_id===D.user_id)).filter(Boolean);l(_)}},[r,d]);const b=d.filter(_=>{if(!_)return!1;if(n.length>0){const F=(_.gender||"").toLowerCase();if(!n.some(L=>L.toLowerCase()===F))return!1}const D=a.toLowerCase();return(_.user_name||"").toLowerCase().includes(D)||(_.employee_number||"").toLowerCase().includes(D)||(_.email||"").toLowerCase().includes(D)}),g=Math.ceil(b.length/v),w=(c-1)*v,y=b.slice(w,w+v),j=_=>{l(D=>D.find(O=>O.user_id===_.user_id)?D.filter(O=>O.user_id!==_.user_id):[...D,_])},N=()=>{o.length===b.length?l([]):l(b)},E=()=>{console.log("EmployeeAssignment - handleAssign called with:",o),console.log("Number of selected employees:",o.length),t(o)},S=_=>o.some(D=>D.user_id===_.user_id);return h?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6",children:s.jsx("div",{className:"text-center",children:"Loading employees..."})})}):x?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-red-600 mb-4",children:[s.jsx(Yn,{className:"h-12 w-12 mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Unable to Load Employees"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:x}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx(ee,{variant:"outline",onClick:e,children:"Cancel"}),s.jsx(ee,{onClick:()=>{p(null),m(!0),(async()=>{try{const D=await HC();f(D),p(null)}catch(D){D instanceof Error&&D.message.includes("JWT token")?p("Authentication required. Please obtain a JWT token and visit /id/{your-jwt-token} to authenticate."):p("Failed to load employee data. Please try again or contact your administrator."),f([])}finally{m(!1)}})()},children:"Retry"})]})]})})}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Assign Employees"}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:e,children:s.jsx(Yn,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ut,{placeholder:"Search employees...",value:a,onChange:_=>i(_.target.value),className:"flex-1"}),s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(e0,{className:"h-4 w-4 mr-2"}),"Filter"]})]})}),s.jsx("div",{className:"flex-1 overflow-auto max-h-96",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-left",children:s.jsx("input",{type:"checkbox",checked:o.length===b.length&&b.length>0,onChange:N,className:"rounded border-gray-300"})}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-700",children:"Employee ID"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-700",children:"Name"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-700",children:"Email"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-700",children:"Designation"}),s.jsx("th",{className:"p-3 text-left text-sm font-medium text-gray-700",children:"Department"})]})}),s.jsx("tbody",{children:y.map(_=>s.jsxs("tr",{className:`border-b hover:bg-gray-50 ${S(_)?"bg-blue-50":""}`,children:[s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"checkbox",checked:S(_),onChange:()=>j(_),className:"rounded border-gray-300"})}),s.jsx("td",{className:"p-3 text-sm text-gray-900",children:_.employee_number}),s.jsx("td",{className:"p-3 text-sm text-gray-900",children:_.user_name}),s.jsx("td",{className:"p-3 text-sm text-gray-600",children:_.email}),s.jsx("td",{className:"p-3 text-sm text-gray-600",children:_.designation}),s.jsx("td",{className:"p-3 text-sm text-gray-600",children:_.workerType})]},_.user_id))})]})}),s.jsxs("div",{className:"p-4 border-t flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",w+1,"-",Math.min(w+v,b.length)," of ",b.length," employees"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>u(_=>Math.max(1,_-1)),disabled:c===1,children:s.jsx(Vl,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",c," of ",g]}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>u(_=>Math.min(g,_+1)),disabled:c===g,children:s.jsx(Ss,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"p-4 border-t flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[o.length," employee(s) selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{variant:"outline",onClick:e,children:"Cancel"}),s.jsxs(ee,{onClick:E,disabled:o.length===0,children:["Assign Selected (",o.length,")"]})]})]})]})})}let vc=[];const PJ=we.object({earnDays:we.number().min(0,"Earn days must be at least 0"),daysWorked:we.number().min(0,"Days worked must be at least 0")}),zC=we.object({fromDay:we.number().min(1).max(31),toDay:we.number().min(1).max(31),earnDays:we.number().min(0)}),IJ=we.object({leaveVariantName:we.string().min(1,"Leave variant name is required"),description:we.string().min(1,"Description is required"),minimumLeaveUnit:we.array(we.enum(["full_day","half_day"])).min(1,"At least one leave unit must be selected"),leavesGrantedOn:we.enum(["calendar_days","compliance"]),paidDaysInYear:we.number().min(1,"Paid days in a year is required"),complianceGrantDays:we.number().optional(),complianceForEveryDays:we.number().optional(),grantLeaves:we.enum(["in_advance","after_earning"]),grantFrequency:we.enum(["per_month","per_quarter","per_year"]),proRataCalculation:we.enum(["full_month","slab_system","rounding_off"]),slabs:we.array(PJ).optional(),onboardingSlabs:we.array(zC).optional(),exitSlabs:we.array(zC).optional(),fractionalLeaves:we.enum(["rounded_up","rounded_down","normal_rounding"]).default("normal_rounding"),applicableGenders:we.array(we.enum(["male","female"])).min(1,"At least one gender must be selected"),applicableAfter:we.number().min(0),applicableAfterType:we.enum(["days","probation_end","date_of_joining"]).default("days"),mustBePlannedInAdvance:we.number().min(0),maxDaysInStretch:we.number().min(0),minDaysRequired:we.number().min(0),maxInstances:we.number().min(0),maxInstancesPeriod:we.enum(["month","quarter","year"]),allowLeavesBeforeWeekend:we.boolean(),allowLeavesAfterWeekend:we.boolean(),allowLeavesBeforeHoliday:we.boolean(),allowLeavesAfterHoliday:we.boolean(),allowClubbing:we.boolean(),supportingDocuments:we.boolean(),supportingDocumentsText:we.string().optional(),allowDuringNotice:we.boolean(),requiresWorkflow:we.boolean(),leaveBalanceDeduction:we.enum(["before_workflow","after_workflow"]),gracePeriod:we.number().min(0),allowWithdrawalBeforeApproval:we.boolean(),allowWithdrawalAfterApproval:we.boolean(),allowWithdrawalNotAllowed:we.boolean(),negativeLeaveBalance:we.number().min(0),carryForwardLimit:we.number().min(0),carryForwardPeriod:we.enum(["month","quarter","year"]),encashment:we.boolean(),encashmentCalculation:we.enum(["basic_da","ctc","gross_salary"]).optional(),maxEncashmentDays:we.number().min(-1).optional(),encashmentTiming:we.enum(["exit_retirement","annually"]).optional(),allowApplicationsOnBehalf:we.boolean(),showAvailedLeaves:we.boolean(),showBalanceLeaves:we.boolean(),maximumBalance:we.number().min(0)}).refine(e=>e.encashment?e.encashmentCalculation&&e.maxEncashmentDays!==void 0&&e.maxEncashmentDays!==null:!0,{message:"Calculate encashment using and Max days are required when encashment is enabled",path:["encashmentCalculation"]}).refine(e=>{if(e.proRataCalculation==="slab_system"&&e.slabs&&e.grantFrequency){let t;switch(e.grantFrequency){case"per_month":t=e.paidDaysInYear/12;break;case"per_quarter":t=e.paidDaysInYear/4;break;case"per_year":t=e.paidDaysInYear;break;default:t=e.paidDaysInYear/12}if(e.slabs.reduce((n,a)=>n+a.earnDays,0)>t)return!1}return!0},{message:"Total earned days in slabs cannot exceed allocation based on selected grant frequency",path:["slabs"]}).refine(e=>{const t=e.mustBePlannedInAdvance>0,r=e.gracePeriod>0;return!(t&&r)},{message:"Leave application advance planning and grace period are mutually exclusive - only one can be enabled",path:["mustBePlannedInAdvance"]});function M_({variant:e,leaveType:t,onClose:r}){var b,g,w;const{toast:n}=Lr(),[a,i]=T.useState(!1),[o,l]=T.useState([]),c=T.useRef([]),{data:u=[]}=Le({queryKey:[`/api/employee-assignments/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,refetchOnWindowFocus:!1}),[d,f]=T.useState([]);T.useEffect(()=>{(async()=>{try{const N=(await Ds()).map(Su);f(N)}catch(j){console.error("Error loading employees:",j)}})()},[]),T.useEffect(()=>{if(console.log("Loading assigned employees - variant ID:",e==null?void 0:e.id),console.log("Existing assignments:",u),console.log("All employees from external API:",d.length,"employees"),e!=null&&e.id&&Array.isArray(u)&&u.length>0){const y=u.map(N=>N.userId);console.log("Assigned user IDs from database:",y);const j=d.filter(N=>{const E=N.user_id||N.id,S=y.includes(E);return S&&console.log("Found assigned employee:",N.user_name,"with ID:",E),S});console.log("Matched assigned employees:",j.length),l(j),c.current=j}else e!=null&&e.id?(console.log("No assignments found - clearing assigned employees"),l([]),c.current=[]):(console.log("New variant - using pending assignments:",vc.length),l(vc),c.current=vc)},[u,e==null?void 0:e.id,d]);const h=y=>{var j;y==="slab_system"?((!m.getValues("slabs")||((j=m.getValues("slabs"))==null?void 0:j.length)===0)&&m.setValue("slabs",[{earnDays:0,daysWorked:0}]),m.setValue("fractionalLeaves","normal_rounding")):y==="rounding_off"?(m.setValue("slabs",[]),m.getValues("fractionalLeaves")||m.setValue("fractionalLeaves","normal_rounding")):(m.setValue("slabs",[]),m.setValue("fractionalLeaves","normal_rounding"))},m=Za({resolver:bs(IJ),defaultValues:{leaveVariantName:(e==null?void 0:e.leaveVariantName)||"",description:(e==null?void 0:e.description)||"",minimumLeaveUnit:e!=null&&e.minimumLeaveUnit?Array.isArray(e.minimumLeaveUnit)?e.minimumLeaveUnit:typeof e.minimumLeaveUnit=="string"?e.minimumLeaveUnit.replace(/^\{/,"").replace(/\}$/,"").replace(/"/g,"").split(",").map(y=>y.trim()).filter(y=>y):["full_day"]:["full_day"],leavesGrantedOn:(e==null?void 0:e.leavesGrantedOn)||"calendar_days",paidDaysInYear:(e==null?void 0:e.paidDaysInYear)||12,complianceGrantDays:(e==null?void 0:e.complianceGrantDays)||1,complianceForEveryDays:(e==null?void 0:e.complianceForEveryDays)||20,grantLeaves:(e==null?void 0:e.grantLeaves)||"in_advance",grantFrequency:(e==null?void 0:e.grantFrequency)||"per_month",proRataCalculation:(e==null?void 0:e.proRataCalculation)||"full_month",slabs:(e==null?void 0:e.slabs)||[],onboardingSlabs:(()=>{const j=((e==null?void 0:e.onboardingSlabs)||[{fromDay:1,toDay:31,earnDays:0}]).filter((N,E,S)=>S.findIndex(_=>_.fromDay===N.fromDay&&_.toDay===N.toDay)===E);return j.length>0?j:[{fromDay:1,toDay:31,earnDays:0}]})(),exitSlabs:(()=>{const j=((e==null?void 0:e.exitSlabs)||[{fromDay:1,toDay:31,earnDays:0}]).filter((N,E,S)=>S.findIndex(_=>_.fromDay===N.fromDay&&_.toDay===N.toDay)===E);return j.length>0?j:[{fromDay:1,toDay:31,earnDays:0}]})(),fractionalLeaves:(e==null?void 0:e.fractionalLeaves)||"normal_rounding",applicableGenders:(e==null?void 0:e.applicableGenders)||["male","female"],applicableAfter:(e==null?void 0:e.applicableAfter)||0,applicableAfterType:(e==null?void 0:e.applicableAfterType)||"days",mustBePlannedInAdvance:(e==null?void 0:e.mustBePlannedInAdvance)||0,maxDaysInStretch:(e==null?void 0:e.maxDaysInStretch)||0,minDaysRequired:(e==null?void 0:e.minDaysRequired)||0,maxInstances:(e==null?void 0:e.maxInstances)||0,maxInstancesPeriod:(e==null?void 0:e.maxInstancesPeriod)||"month",allowLeavesBeforeWeekend:(e==null?void 0:e.allowLeavesBeforeWeekend)??!0,allowLeavesAfterWeekend:(e==null?void 0:e.allowLeavesAfterWeekend)??!0,allowLeavesBeforeHoliday:(e==null?void 0:e.allowLeavesBeforeHoliday)??!0,allowLeavesAfterHoliday:(e==null?void 0:e.allowLeavesAfterHoliday)??!0,allowClubbing:(e==null?void 0:e.allowClubbing)??!0,supportingDocuments:(e==null?void 0:e.supportingDocuments)||!1,supportingDocumentsText:(e==null?void 0:e.supportingDocumentsText)||"",allowDuringNotice:(e==null?void 0:e.allowDuringNotice)??!0,requiresWorkflow:(e==null?void 0:e.requiresWorkflow)??!0,leaveBalanceDeduction:e!=null&&e.leaveBalanceDeductionBefore?"before_workflow":e!=null&&e.leaveBalanceDeductionAfter?"after_workflow":"before_workflow",gracePeriod:(e==null?void 0:e.gracePeriod)||0,allowWithdrawalBeforeApproval:(e==null?void 0:e.allowWithdrawalBeforeApproval)??!0,allowWithdrawalAfterApproval:(e==null?void 0:e.allowWithdrawalAfterApproval)||!1,allowWithdrawalNotAllowed:(e==null?void 0:e.allowWithdrawalNotAllowed)||!1,negativeLeaveBalance:(e==null?void 0:e.negativeLeaveBalance)||0,carryForwardLimit:(e==null?void 0:e.carryForwardLimit)||0,carryForwardPeriod:(e==null?void 0:e.carryForwardPeriod)||"month",encashment:(e==null?void 0:e.encashment)||!1,encashmentCalculation:(e==null?void 0:e.encashmentCalculation)||"basic_da",maxEncashmentDays:(e==null?void 0:e.maxEncashmentDays)===1e3?-1:(e==null?void 0:e.maxEncashmentDays)||0,encashmentTiming:(e==null?void 0:e.encashmentTiming)||"exit_retirement",allowApplicationsOnBehalf:(e==null?void 0:e.allowApplicationsOnBehalf)??!0,showAvailedLeaves:(e==null?void 0:e.showAvailedLeaves)??!1,showBalanceLeaves:(e==null?void 0:e.showBalanceLeaves)??!1,maximumBalance:(e==null?void 0:e.maximumBalance)||0}}),x=It({mutationFn:async y=>{console.log("=== MUTATION FUNCTION STARTED ==="),console.log("Mutation data received:",y),console.log("variant?.id:",e==null?void 0:e.id),console.log("Is this an update?",!!(e!=null&&e.id));let j=(e==null?void 0:e.leaveTypeId)||t.id;if(!j){const D=(await(await fetch("/api/leave-types",{headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"},credentials:"include"})).json()).find(F=>F.name===t.name);D?j=D.id:j=(await(await yt("POST","/api/leave-types",{name:t.name,icon:t.icon,color:t.color,annualAllowance:12,carryForward:!1,isActive:!0})).json()).id}const N={leaveTypeId:j,leaveTypeName:t.name,leaveVariantName:y.leaveVariantName,description:y.description,minimumLeaveUnit:y.minimumLeaveUnit,leavesGrantedOn:y.leavesGrantedOn,paidDaysInYear:y.paidDaysInYear,complianceGrantDays:y.complianceGrantDays,complianceForEveryDays:y.complianceForEveryDays,grantLeaves:y.grantLeaves,grantFrequency:y.grantFrequency,proRataCalculation:y.proRataCalculation,onboardingSlabs:y.onboardingSlabs,exitSlabs:y.exitSlabs,fractionalLeaves:y.fractionalLeaves,applicableGenders:y.applicableGenders,applicableAfter:y.applicableAfter,applicableAfterType:y.applicableAfterType,mustBePlannedInAdvance:y.mustBePlannedInAdvance,maxDaysInStretch:y.maxDaysInStretch,minDaysRequired:y.minDaysRequired,maxInstances:y.maxInstances,maxInstancesPeriod:y.maxInstancesPeriod,allowLeavesBeforeWeekend:y.allowLeavesBeforeWeekend,allowLeavesBeforeHoliday:y.allowLeavesBeforeHoliday,allowClubbing:y.allowClubbing,supportingDocuments:y.supportingDocuments,supportingDocumentsText:y.supportingDocumentsText,allowDuringNotice:y.allowDuringNotice,requiresWorkflow:y.requiresWorkflow,leaveBalanceDeductionBefore:y.leaveBalanceDeduction==="before_workflow",leaveBalanceDeductionAfter:y.leaveBalanceDeduction==="after_workflow",leaveBalanceDeductionNotAllowed:!1,gracePeriod:y.gracePeriod,allowWithdrawalBeforeApproval:y.allowWithdrawalBeforeApproval,allowWithdrawalAfterApproval:y.allowWithdrawalAfterApproval,allowWithdrawalNotAllowed:y.allowWithdrawalNotAllowed,negativeLeaveBalance:y.negativeLeaveBalance,carryForwardLimit:y.carryForwardLimit,carryForwardPeriod:y.carryForwardPeriod,encashment:y.encashment,encashmentCalculation:y.encashmentCalculation,maxEncashmentDays:y.maxEncashmentDays===-1?1e3:y.maxEncashmentDays,encashmentTiming:y.encashmentTiming,allowApplicationsOnBehalf:y.allowApplicationsOnBehalf,showAvailedLeaves:y.showAvailedLeaves,showBalanceLeaves:y.showBalanceLeaves,maximumBalance:y.maximumBalance};console.log("About to make API request..."),console.log("Request type:",e!=null&&e.id?"PATCH":"POST"),console.log("URL:",e!=null&&e.id?`/api/leave-variants/${e.id}`:"/api/leave-variants"),console.log("Variant data being sent:",JSON.stringify(N,null,2));const E=e!=null&&e.id?await yt("PATCH",`/api/leave-variants/${e.id}`,N):await yt("POST","/api/leave-variants",N);if(console.log("API request completed successfully"),console.log("Response:",E),e!=null&&e.id)return await E.json();{const S=await E.json(),_=S.id,D=vc.length>0?vc:c.current;if(D.length>0&&_){const F=D.map(O=>({userId:O.user_id||O.id||O.userId,leaveVariantId:_,assignmentType:"leave_variant"})).filter(O=>O.userId);try{await yt("POST","/api/employee-assignments/bulk",{assignments:F}),vc=[]}catch(O){throw console.error("Failed to create employee assignments:",O),O}}return S}},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/leave-types"]}),Ye.invalidateQueries({queryKey:["/api/leave-variants"]}),Ye.invalidateQueries({queryKey:["/api/employee-assignments"]}),n({title:"Success",description:`${t.name} variant has been ${e!=null&&e.id?"updated":"created"} successfully.`}),r()},onError:y=>{console.error("Leave config error:",y),n({title:"Error",description:"Failed to configure leave type. Please try again.",variant:"destructive"})}}),p=It({mutationFn:async()=>{if(!(e!=null&&e.id))throw new Error("No variant to delete");return await yt("DELETE",`/api/leave-variants/${e.id}`)},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/leave-types"]}),Ye.invalidateQueries({queryKey:["/api/leave-variants"]}),n({title:"Success",description:`${t.name} variant has been deleted successfully.`}),r()},onError:y=>{console.error("Delete variant error:",y),n({title:"Error",description:"Failed to delete variant. Please try again.",variant:"destructive"})}}),v=y=>{if(!y.leaveVariantName||y.leaveVariantName.trim()===""){n({title:"Validation Error",description:"Leave Variant Name is required.",variant:"destructive"});return}if(!y.description||y.description.trim()===""){n({title:"Validation Error",description:"Description is required.",variant:"destructive"});return}if(y.supportingDocuments&&(!y.supportingDocumentsText||y.supportingDocumentsText.trim()==="")){n({title:"Validation Error",description:"Supporting documents text is required when supporting documents are enabled.",variant:"destructive"});return}if(Object.keys(m.formState.errors).length>0){console.log("=== FORM VALIDATION ERRORS DETECTED ==="),Object.entries(m.formState.errors).forEach(([j,N])=>{console.log(`Field "${j}" error:`,N)}),console.log("=== END FORM VALIDATION ERRORS ===");return}if(e!=null&&e.id){console.log("BYPASS: This is an update operation, proceeding directly to mutation"),console.log("About to call mutation.mutate with data:",JSON.stringify(y,null,2)),x.mutate(y);return}if(y.proRataCalculation==="slab_system"){const j=y.onboardingSlabs&&y.onboardingSlabs.length>0,N=y.exitSlabs&&y.exitSlabs.length>0;if(!j&&!N){n({title:"Validation Error",description:"Please add at least one slab in either Onboarding or Exits tab when using Slab System.",variant:"destructive"});return}const E=y.leavesGrantedOn==="calendar_days"?31:30;if(j)for(let S=0;S<y.onboardingSlabs.length;S++){const _=y.onboardingSlabs[S];if(!_.fromDay||!_.toDay||_.earnDays===void 0||_.earnDays===null){n({title:"Validation Error",description:`Onboarding Slab ${S+1}: All fields (From Day, To Day, Earn Days) must be filled.`,variant:"destructive"});return}if(_.earnDays<0){n({title:"Validation Error",description:`Onboarding Slab ${S+1}: Earn days cannot be negative.`,variant:"destructive"});return}if(_.fromDay<1||_.fromDay>E){n({title:"Validation Error",description:`Onboarding Slab ${S+1}: From Day must be between 1 and ${E} (based on ${y.leavesGrantedOn==="calendar_days"?"calendar days":"working days"}).`,variant:"destructive"});return}if(_.toDay<1||_.toDay>E){n({title:"Validation Error",description:`Onboarding Slab ${S+1}: To Day must be between 1 and ${E} (based on ${y.leavesGrantedOn==="calendar_days"?"calendar days":"working days"}).`,variant:"destructive"});return}if(_.fromDay>_.toDay){n({title:"Validation Error",description:`Onboarding Slab ${S+1}: From Day cannot be greater than To Day.`,variant:"destructive"});return}}if(N)for(let S=0;S<y.exitSlabs.length;S++){const _=y.exitSlabs[S];if(!_.fromDay||!_.toDay||_.earnDays===void 0||_.earnDays===null){n({title:"Validation Error",description:`Exit Slab ${S+1}: All fields (From Day, To Day, Earn Days) must be filled.`,variant:"destructive"});return}if(_.earnDays<0){n({title:"Validation Error",description:`Exit Slab ${S+1}: Earn days cannot be negative.`,variant:"destructive"});return}if(_.fromDay<1||_.fromDay>E){n({title:"Validation Error",description:`Exit Slab ${S+1}: From Day must be between 1 and ${E} (based on ${y.leavesGrantedOn==="calendar_days"?"calendar days":"working days"}).`,variant:"destructive"});return}if(_.toDay<1||_.toDay>E){n({title:"Validation Error",description:`Exit Slab ${S+1}: To Day must be between 1 and ${E} (based on ${y.leavesGrantedOn==="calendar_days"?"calendar days":"working days"}).`,variant:"destructive"});return}if(_.fromDay>_.toDay){n({title:"Validation Error",description:`Exit Slab ${S+1}: From Day cannot be greater than To Day.`,variant:"destructive"});return}}if(y.paidDaysInYear&&y.grantFrequency){let S=0;switch(y.grantFrequency){case"per_month":S=y.paidDaysInYear/12;break;case"per_quarter":S=y.paidDaysInYear/4;break;case"per_half_year":S=y.paidDaysInYear/2;break;case"per_year":S=y.paidDaysInYear;break;default:S=y.paidDaysInYear}if(j)for(let _=0;_<y.onboardingSlabs.length;_++){const D=y.onboardingSlabs[_];if(D.earnDays&&D.earnDays>S){n({title:"Validation Error",description:`Onboarding Slab ${_+1}: Cannot earn ${D.earnDays} days. Maximum allowed per ${y.grantFrequency.replace("per_","")} is ${S.toFixed(2)} days (${y.paidDaysInYear} days ÷ ${y.grantFrequency==="per_month"?"12":y.grantFrequency==="per_quarter"?"4":y.grantFrequency==="per_half_year"?"2":"1"}).`,variant:"destructive"});return}}if(N)for(let _=0;_<y.exitSlabs.length;_++){const D=y.exitSlabs[_];if(D.earnDays&&D.earnDays>S){n({title:"Validation Error",description:`Exit Slab ${_+1}: Cannot earn ${D.earnDays} days. Maximum allowed per ${y.grantFrequency.replace("per_","")} is ${S.toFixed(2)} days (${y.paidDaysInYear} days ÷ ${y.grantFrequency==="per_month"?"12":y.grantFrequency==="per_quarter"?"4":y.grantFrequency==="per_half_year"?"2":"1"}).`,variant:"destructive"});return}}}if(j&&y.onboardingSlabs.length>1)for(let S=0;S<y.onboardingSlabs.length;S++){const _=y.onboardingSlabs[S];for(let D=S+1;D<y.onboardingSlabs.length;D++){const F=y.onboardingSlabs[D];if(_.fromDay&&_.toDay&&F.fromDay&&F.toDay&&_.fromDay<=F.toDay&&_.toDay>=F.fromDay){n({title:"Validation Error",description:`Onboarding Slabs ${S+1} and ${D+1} have overlapping date ranges (${_.fromDay}-${_.toDay} overlaps with ${F.fromDay}-${F.toDay}). Each day can only belong to one slab.`,variant:"destructive"});return}}}if(N&&y.exitSlabs.length>1)for(let S=0;S<y.exitSlabs.length;S++){const _=y.exitSlabs[S];for(let D=S+1;D<y.exitSlabs.length;D++){const F=y.exitSlabs[D];if(_.fromDay&&_.toDay&&F.fromDay&&F.toDay&&_.fromDay<=F.toDay&&_.toDay>=F.fromDay){n({title:"Validation Error",description:`Exit Slabs ${S+1} and ${D+1} have overlapping date ranges (${_.fromDay}-${_.toDay} overlaps with ${F.fromDay}-${F.toDay}). Each day can only belong to one slab.`,variant:"destructive"});return}}}if(j&&y.onboardingSlabs.length>0){const S=new Set;for(const D of y.onboardingSlabs)if(D.fromDay&&D.toDay)for(let F=D.fromDay;F<=D.toDay;F++)S.add(F);const _=[];for(let D=1;D<=31;D++)S.has(D)||_.push(D);if(_.length>0){n({title:"Validation Error",description:`Onboarding slabs must cover all days of the month (1st-31st). Missing coverage for days: ${_.join(", ")}. Please adjust your slab ranges to ensure complete month coverage.`,variant:"destructive"});return}}if(N&&y.exitSlabs.length>0){const S=new Set;for(const D of y.exitSlabs)if(D.fromDay&&D.toDay)for(let F=D.fromDay;F<=D.toDay;F++)S.add(F);const _=[];for(let D=1;D<=31;D++)S.has(D)||_.push(D);if(_.length>0){n({title:"Validation Error",description:`Exit slabs must cover all days of the month (1st-31st). Missing coverage for days: ${_.join(", ")}. Please adjust your slab ranges to ensure complete month coverage.`,variant:"destructive"});return}}}if(y.encashment){if(!y.encashmentCalculation){n({title:"Validation Error",description:"Please select how to calculate en-cashment.",variant:"destructive"});return}if(y.maxEncashmentDays===void 0||y.maxEncashmentDays===null||y.maxEncashmentDays<=0&&y.maxEncashmentDays!==-1){n({title:"Validation Error",description:"Please enter maximum days that can be en-cashed.",variant:"destructive"});return}}console.log("All validations passed, calling mutation.mutate"),x.mutate(y)};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center p-6 border-b",children:[s.jsx(ee,{variant:"ghost",size:"sm",onClick:r,className:"mr-4",children:s.jsx(wy,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${t.color}20`},children:s.jsx(t0,{className:"w-4 h-4",style:{color:t.color}})}),s.jsx("h2",{className:"text-xl font-semibold",children:t.name})]})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-180px)]",children:s.jsx(ti,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(v),className:"p-8 space-y-8 pb-12",children:[s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Minimum leave unit *"})}),s.jsx(_e,{children:s.jsx(Ke,{control:m.control,name:"minimumLeaveUnit",render:({field:y})=>s.jsxs(He,{children:[s.jsx("div",{className:"flex space-x-4",children:[{value:"full_day",label:"Full Day"},{value:"half_day",label:"Half Day"}].map(j=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:Array.isArray(y.value)?y.value.includes(j.value):y.value===j.value,onCheckedChange:N=>{if(N){const E=Array.isArray(y.value)?y.value:[y.value].filter(Boolean);y.onChange([...E,j.value])}else{const E=Array.isArray(y.value)?y.value:[y.value].filter(Boolean);y.onChange(E.filter(S=>S!==j.value))}}}),s.jsx("span",{children:j.label})]},j.value))}),s.jsx(ft,{})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ke,{control:m.control,name:"leaveVariantName",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Leave Variant Name *"}),s.jsx(et,{children:s.jsx(ut,{placeholder:"eg. For Factory Employees in Karnataka",...y})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Create tailored leave policies for specific groups of employees using variants"}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:m.control,name:"description",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Description *"}),s.jsx(et,{children:s.jsx(wn,{placeholder:"eg. It's essential to rest and recover when you are sick. Use your sick leaves accordingly.",className:"min-h-24",...y})}),s.jsx(ft,{})]})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Leave granting"})}),s.jsxs(_e,{className:"space-y-6",children:[s.jsx(Ke,{control:m.control,name:"leavesGrantedOn",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Leaves will be granted based on"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ee,{type:"button",variant:y.value==="calendar_days"?"default":"outline",onClick:()=>y.onChange("calendar_days"),className:y.value==="calendar_days"?"bg-green-600":"",children:"Calendar Days"}),s.jsx(ee,{type:"button",variant:y.value==="compliance"?"default":"outline",onClick:()=>y.onChange("compliance"),className:y.value==="compliance"?"bg-green-600":"",children:"Compliance"})]}),s.jsx(ft,{})]})}),m.watch("leavesGrantedOn")==="compliance"&&s.jsx("div",{className:"space-y-4 p-4 bg-green-50 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ke,{control:m.control,name:"complianceGrantDays",render:({field:y})=>s.jsxs(He,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(it,{className:"text-gray-600",children:"Grants"}),s.jsx(et,{children:s.jsx(ut,{type:"number",step:"0.1",min:"0",...y,onChange:j=>{const N=parseFloat(j.target.value)||0;y.onChange(N>=0?N:0)},className:"w-20"})}),s.jsx("span",{className:"text-gray-600",children:"(days)"})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:m.control,name:"complianceForEveryDays",render:({field:y})=>s.jsxs(He,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(it,{className:"text-gray-600",children:"For every"}),s.jsx(et,{children:s.jsx(ut,{type:"number",min:"0",...y,onChange:j=>{const N=parseInt(j.target.value)||0;y.onChange(N>=0?N:0)},className:"w-20"})}),s.jsx("span",{className:"text-gray-600",children:"(days) Worked"})]}),s.jsx(ft,{})]})})]})}),m.watch("leavesGrantedOn")!=="compliance"&&s.jsxs(s.Fragment,{children:[s.jsx(Ke,{control:m.control,name:"paidDaysInYear",render:({field:y})=>{const N=(m.watch("minimumLeaveUnit")||[]).includes("half_day");return s.jsxs(He,{children:[s.jsx(it,{children:"Paid days in a year *"}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",step:N?"0.5":"1",min:"0",...y,onChange:E=>{let S=parseFloat(E.target.value)||0;N||(S=Math.round(S)),y.onChange(S)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days)"})]})}),!N&&s.jsx("p",{className:"text-xs text-gray-500",children:'Only whole numbers allowed. Select "Half Day" in minimum leave unit to allow decimal values.'}),s.jsx(ft,{})]})}}),s.jsx(Ke,{control:m.control,name:"grantLeaves",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Grant Leaves"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ee,{type:"button",variant:y.value==="in_advance"?"default":"outline",onClick:()=>y.onChange("in_advance"),className:y.value==="in_advance"?"bg-green-600":"",children:"In Advance"}),s.jsx(ee,{type:"button",variant:y.value==="after_earning"?"default":"outline",onClick:()=>y.onChange("after_earning"),children:"After Earning"}),s.jsxs(Nt,{value:m.watch("grantFrequency"),onValueChange:j=>m.setValue("grantFrequency",j),children:[s.jsx(wt,{className:"w-40",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"per_month",children:"Per Month"}),s.jsx(Ae,{value:"per_quarter",children:"Per Quarter"}),s.jsx(Ae,{value:"per_half_year",children:"Per Half Year"}),s.jsx(Ae,{value:"per_year",children:"Per Year"})]})]})]}),s.jsx(ft,{})]})})]})]})]}),m.watch("leavesGrantedOn")!=="compliance"&&s.jsxs(Ne,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Pro-Rata Calculations"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Adjust how you would like the employees to earn the leaves. This ensures fair allocation of benefits, especially for new hires or employees leaving mid-year."})]}),s.jsxs(_e,{children:[s.jsx(Ke,{control:m.control,name:"proRataCalculation",render:({field:y})=>s.jsxs(He,{children:[s.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"full_month",title:"Full Month",description:"Consider the entire month as worked for earned leaves, regardless of actual days worked."},{value:"slab_system",title:"Slab System",description:"Calculate pro-rata benefits by dividing the month into equal periods (e.g., 1st-10th, 11th-20th) and determining the number of days worked within each period."},{value:"rounding_off",title:"Rounding Off",description:"Round fractions of days worked to the nearest half or full day before calculating pro-rata benefits. This can be rounded up or down based on your organization's policy."}].map(j=>s.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-colors ${y.value===j.value?"border-green-600 bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>{y.onChange(j.value),h(j.value)},children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:`w-4 h-4 rounded border-2 mt-1 flex items-center justify-center ${y.value===j.value?"bg-green-600 border-green-600":"border-gray-300"}`,children:y.value===j.value&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:j.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.description})]})]})},j.value))}),s.jsx(ft,{})]})}),m.watch("proRataCalculation")==="slab_system"&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-medium mb-4",children:"Set Slabs *"}),((b=m.formState.errors)==null?void 0:b.slabs)&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Slab Configuration Error"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:m.formState.errors.slabs.message})]})]})}),s.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-2",children:"📅 Day-of-Month Based Slabs"}),s.jsx("p",{className:"text-xs",children:"Create slabs based on specific days of the month (1st-31st) that apply every year. For example, employees joining between the 1st-15th earn different amounts than those joining 16th-31st."})]})}),s.jsxs(P_,{defaultValue:"onboarding",className:"w-full",children:[s.jsxs(Vy,{className:"grid w-full grid-cols-2",children:[s.jsx(Il,{value:"onboarding",children:"Onboarding"}),s.jsx(Il,{value:"exits",children:"Exits"})]}),s.jsxs(Ml,{value:"onboarding",className:"space-y-4 mt-4",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Configure leave earning slabs for employees joining during the year"}),s.jsxs("div",{className:"space-y-4",children:[(g=m.watch("onboardingSlabs"))==null?void 0:g.map((y,j)=>{var N,E;return s.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Onboarding Slab ",j+1]}),m.watch("onboardingSlabs").length>1&&s.jsx(ee,{type:"button",variant:"outline",size:"sm",className:"text-red-600",onClick:()=>{var _;const S=((_=m.getValues("onboardingSlabs"))==null?void 0:_.filter((D,F)=>F!==j))||[];m.setValue("onboardingSlabs",S)},children:"Remove"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"From (Day of Month) *"}),s.jsxs(Nt,{value:((N=y.fromDay)==null?void 0:N.toString())||"",onValueChange:S=>{const _=[...m.getValues("onboardingSlabs")||[]];_[j]={..._[j],fromDay:parseInt(S)},m.setValue("onboardingSlabs",_)},children:[s.jsx(wt,{className:`w-20 ${y.fromDay?"":"border-red-300"}`,children:s.jsx(St,{placeholder:"Day"})}),s.jsx(bt,{children:Array.from({length:m.watch("leavesGrantedOn")==="calendar_days"?31:30},(S,_)=>_+1).map(S=>s.jsxs(Ae,{value:S.toString(),children:[S,S===1?"st":S===2?"nd":S===3?"rd":"th"]},S))})]}),!y.fromDay&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"To (Day of Month) *"}),s.jsxs(Nt,{value:((E=y.toDay)==null?void 0:E.toString())||"",onValueChange:S=>{const _=[...m.getValues("onboardingSlabs")||[]];_[j]={..._[j],toDay:parseInt(S)},m.setValue("onboardingSlabs",_)},children:[s.jsx(wt,{className:`w-20 ${y.toDay?"":"border-red-300"}`,children:s.jsx(St,{placeholder:"Day"})}),s.jsx(bt,{children:Array.from({length:m.watch("leavesGrantedOn")==="calendar_days"?31:30},(S,_)=>_+1).map(S=>s.jsxs(Ae,{value:S.toString(),children:[S,S===1?"st":S===2?"nd":S===3?"rd":"th"]},S))})]}),!y.toDay&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Employee will earn *"}),s.jsx(ut,{type:"number",step:"0.1",min:"0",placeholder:"0",className:`w-20 ${y.earnDays===void 0||y.earnDays===null||y.earnDays<0?"border-red-300":""}`,value:y.earnDays||"",onChange:S=>{const _=[...m.getValues("onboardingSlabs")||[]],D=S.target.value===""?0:parseFloat(S.target.value);_[j]={..._[j],earnDays:D>=0?D:0},m.setValue("onboardingSlabs",_)}}),s.jsx("span",{className:"text-sm",children:"days"}),(y.earnDays===void 0||y.earnDays===null)&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]})]}),y.fromDay&&y.toDay&&y.fromDay>y.toDay&&s.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:"Error: From Day cannot be greater than To Day"}),m.watch("leavesGrantedOn")==="calendar_days"&&y.toDay&&y.toDay>31&&s.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded",children:["Warning: Day ",y.toDay," may not exist in all months"]}),(()=>{const S=m.watch("paidDaysInYear"),_=m.watch("grantFrequency");if(S&&_&&y.earnDays){let D=0;switch(_){case"per_month":D=S/12;break;case"per_quarter":D=S/4;break;case"per_half_year":D=S/2;break;case"per_year":D=S;break;default:D=S}if(y.earnDays>D)return s.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: Cannot earn ",y.earnDays," days. Maximum allowed per ",_.replace("per_","")," is ",D.toFixed(2)," days (",S," ÷ ",_==="per_month"?"12":_==="per_quarter"?"4":_==="per_half_year"?"2":"1",")"]})}return null})(),(m.watch("onboardingSlabs")||[]).filter((D,F)=>F===j||!D.fromDay||!D.toDay||!y.fromDay||!y.toDay?!1:y.fromDay<=D.toDay&&y.toDay>=D.fromDay).length>0?s.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: Date range ",y.fromDay,"-",y.toDay," overlaps with another slab. Each day can only belong to one slab."]}):null]})]},j)}),(()=>{const y=m.watch("onboardingSlabs")||[];if(y.length>0){const j=new Set;for(const E of y)if(E.fromDay&&E.toDay)for(let S=E.fromDay;S<=E.toDay;S++)j.add(S);const N=[];for(let E=1;E<=31;E++)j.has(E)||N.push(E);if(N.length>0)return s.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-3 rounded border border-amber-200 mb-3",children:[s.jsx("strong",{children:"Month Coverage Warning:"})," Missing coverage for days: ",N.join(", "),". All days from 1st-31st must be covered by slabs to handle employees joining on any day of the month."]})}return null})(),s.jsx(ee,{type:"button",variant:"outline",onClick:()=>{const y=m.getValues("onboardingSlabs")||[],j=new Set;y.forEach(S=>{if(S.fromDay&&S.toDay)for(let _=S.fromDay;_<=S.toDay;_++)j.add(_)});let N=1;for(;N<=31&&j.has(N);)N++;let E=Math.min(N+14,31);for(;E<=31&&j.has(E);)E++;N>31&&(N=1,E=1),m.setValue("onboardingSlabs",[...y,{fromDay:N,toDay:E,earnDays:0}])},children:"+ Add Onboarding Slab"})]})]}),s.jsxs(Ml,{value:"exits",className:"space-y-4 mt-4",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Configure leave earning slabs for employees exiting during the year"}),s.jsxs("div",{className:"space-y-4",children:[(w=m.watch("exitSlabs"))==null?void 0:w.map((y,j)=>{var N,E;return s.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Exit Slab ",j+1]}),m.watch("exitSlabs").length>1&&s.jsx(ee,{type:"button",variant:"outline",size:"sm",className:"text-red-600",onClick:()=>{var _;const S=((_=m.getValues("exitSlabs"))==null?void 0:_.filter((D,F)=>F!==j))||[];m.setValue("exitSlabs",S)},children:"Remove"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"From (Day of Month) *"}),s.jsxs(Nt,{value:((N=y.fromDay)==null?void 0:N.toString())||"",onValueChange:S=>{const _=[...m.getValues("exitSlabs")||[]];_[j]={..._[j],fromDay:parseInt(S)},m.setValue("exitSlabs",_)},children:[s.jsx(wt,{className:`w-20 ${y.fromDay?"":"border-red-300"}`,children:s.jsx(St,{placeholder:"Day"})}),s.jsx(bt,{children:Array.from({length:m.watch("leavesGrantedOn")==="calendar_days"?31:30},(S,_)=>_+1).map(S=>s.jsxs(Ae,{value:S.toString(),children:[S,S===1?"st":S===2?"nd":S===3?"rd":"th"]},S))})]}),!y.fromDay&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium whitespace-nowrap",children:"To (Day of Month) *"}),s.jsxs(Nt,{value:((E=y.toDay)==null?void 0:E.toString())||"",onValueChange:S=>{const _=[...m.getValues("exitSlabs")||[]];_[j]={..._[j],toDay:parseInt(S)},m.setValue("exitSlabs",_)},children:[s.jsx(wt,{className:`w-20 ${y.toDay?"":"border-red-300"}`,children:s.jsx(St,{placeholder:"Day"})}),s.jsx(bt,{children:Array.from({length:m.watch("leavesGrantedOn")==="calendar_days"?31:30},(S,_)=>_+1).map(S=>s.jsxs(Ae,{value:S.toString(),children:[S,S===1?"st":S===2?"nd":S===3?"rd":"th"]},S))})]}),!y.toDay&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm whitespace-nowrap",children:"Employee will earn *"}),s.jsx(ut,{type:"number",step:"0.1",min:"0",placeholder:"0",className:`w-20 ${y.earnDays===void 0||y.earnDays===null||y.earnDays<0?"border-red-300":""}`,value:y.earnDays||"",onChange:S=>{const _=[...m.getValues("exitSlabs")||[]],D=S.target.value===""?0:parseFloat(S.target.value);_[j]={..._[j],earnDays:D>=0?D:0},m.setValue("exitSlabs",_)}}),s.jsx("span",{className:"text-sm",children:"days"}),(y.earnDays===void 0||y.earnDays===null)&&s.jsx("span",{className:"text-xs text-red-500",children:"Required"})]})]}),y.fromDay&&y.toDay&&y.fromDay>y.toDay&&s.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:"Error: From Day cannot be greater than To Day"}),m.watch("leavesGrantedOn")==="calendar_days"&&y.toDay&&y.toDay>31&&s.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-2 rounded",children:["Warning: Day ",y.toDay," may not exist in all months"]}),(()=>{const S=m.watch("paidDaysInYear"),_=m.watch("grantFrequency");if(S&&_&&y.earnDays){let D=0;switch(_){case"per_month":D=S/12;break;case"per_quarter":D=S/4;break;case"per_year":D=S;break;default:D=S}if(y.earnDays>D)return s.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: Cannot earn ",y.earnDays," days. Maximum allowed per ",_.replace("per_","")," is ",D.toFixed(2)," days (",S," ÷ ",_==="per_month"?"12":_==="per_quarter"?"4":"1",")"]})}return null})(),(m.watch("exitSlabs")||[]).filter((D,F)=>F===j||!D.fromDay||!D.toDay||!y.fromDay||!y.toDay?!1:y.fromDay<=D.toDay&&y.toDay>=D.fromDay).length>0?s.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Error: Date range ",y.fromDay,"-",y.toDay," overlaps with another slab. Each day can only belong to one slab."]}):null]})]},j)}),(()=>{const y=m.watch("exitSlabs")||[];if(y.length>0){const j=new Set;for(const E of y)if(E.fromDay&&E.toDay)for(let S=E.fromDay;S<=E.toDay;S++)j.add(S);const N=[];for(let E=1;E<=31;E++)j.has(E)||N.push(E);if(N.length>0)return s.jsxs("div",{className:"text-xs text-amber-600 bg-amber-50 p-3 rounded border border-amber-200 mb-3",children:[s.jsx("strong",{children:"Month Coverage Warning:"})," Missing coverage for days: ",N.join(", "),". All days from 1st-31st must be covered by slabs to handle employees leaving on any day of the month."]})}return null})(),s.jsx(ee,{type:"button",variant:"outline",onClick:()=>{const y=m.getValues("exitSlabs")||[],j=new Set;y.forEach(S=>{if(S.fromDay&&S.toDay)for(let _=S.fromDay;_<=S.toDay;_++)j.add(_)});let N=1;for(;N<=31&&j.has(N);)N++;let E=Math.min(N+14,31);for(;E<=31&&j.has(E);)E++;N>31&&(N=1,E=1),m.setValue("exitSlabs",[...y,{fromDay:N,toDay:E,earnDays:0}])},children:"+ Add Exit Slab"})]})]})]})]}),m.watch("proRataCalculation")==="slab_system"&&!1,m.watch("proRataCalculation")==="rounding_off"&&s.jsx("div",{className:"mt-6",children:s.jsx(Ke,{control:m.control,name:"fractionalLeaves",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Fractional leaves will be *"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ee,{type:"button",variant:y.value==="rounded_up"?"default":"outline",onClick:()=>y.onChange("rounded_up"),className:y.value==="rounded_up"?"bg-green-600":"",children:"Rounded Up"}),s.jsx(ee,{type:"button",variant:y.value==="rounded_down"?"default":"outline",onClick:()=>y.onChange("rounded_down"),className:y.value==="rounded_down"?"bg-green-600":"",children:"Rounded Down"}),s.jsx(ee,{type:"button",variant:y.value==="normal_rounding"?"default":"outline",onClick:()=>y.onChange("normal_rounding"),className:y.value==="normal_rounding"?"bg-green-600":"",children:"Normal Rounding"})]}),s.jsx(ft,{})]})})})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Eligibility Criteria"})}),s.jsxs(_e,{className:"space-y-6",children:[s.jsx(Ke,{control:m.control,name:"applicableGenders",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Applicable for the genders *"}),s.jsx("div",{className:"flex space-x-4",children:["male","female"].map(j=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:y.value.includes(j),onCheckedChange:N=>{N?y.onChange([...y.value,j]):y.onChange(y.value.filter(E=>E!==j))}}),s.jsx("span",{className:"capitalize",children:j})]},j))}),s.jsx(ft,{})]})}),s.jsx("div",{className:"space-y-4",children:s.jsx(Ke,{control:m.control,name:"applicableAfterType",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Applicable after"}),s.jsx(et,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"probation_end",name:"applicableAfterType",value:"probation_end",checked:y.value==="probation_end",onChange:()=>{y.onChange("probation_end"),m.setValue("applicableAfter",0)},className:"w-4 h-4"}),s.jsx("label",{htmlFor:"probation_end",className:"text-sm font-medium",children:"Probation period ends"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"date_of_joining",name:"applicableAfterType",value:"date_of_joining",checked:y.value==="date_of_joining",onChange:()=>{y.onChange("date_of_joining"),m.setValue("applicableAfter",0)},className:"w-4 h-4"}),s.jsx("label",{htmlFor:"date_of_joining",className:"text-sm font-medium",children:"On date of joining"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"days",name:"applicableAfterType",value:"days",checked:y.value==="days",onChange:()=>y.onChange("days"),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"days",className:"text-sm font-medium",children:"Specified number of days:"}),s.jsx(Ke,{control:m.control,name:"applicableAfter",render:({field:j})=>s.jsxs(He,{className:"flex-1",children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",min:"0",...j,onChange:N=>{const E=Number(N.target.value);j.onChange(E>=0?E:0)},className:"w-24",disabled:m.watch("applicableAfterType")!=="days",placeholder:"0"}),s.jsxs("span",{className:"text-gray-500",children:["(days) from date of joining ",m.watch("applicableAfter")===0?"(immediate applicability)":""]})]})}),s.jsx(ft,{})]})})]})]})}),s.jsx(ft,{})]})})}),s.jsx(Ke,{control:m.control,name:"mustBePlannedInAdvance",render:({field:y})=>{const j=m.watch("gracePeriod")>0;return s.jsxs(He,{children:[s.jsx(it,{children:"Must be planned in advance by"}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",min:"0",...y,onChange:N=>{const E=Number(N.target.value);y.onChange(E>=0?E:0)},className:"w-24",disabled:j}),s.jsx("span",{className:"text-gray-500",children:"(days)"})]})}),j&&s.jsx("p",{className:"text-xs text-orange-600",children:"Disabled because grace period is enabled. Only one can be active at a time."}),s.jsx(ft,{})]})}}),s.jsx(Ke,{control:m.control,name:"gracePeriod",render:({field:y})=>{const j=m.watch("mustBePlannedInAdvance")>0;return s.jsxs(He,{children:[s.jsx(it,{children:"Grace period for applying *"}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",min:"0",...y,onChange:N=>{const E=Number(N.target.value);y.onChange(E>=0?E:0)},className:"w-24",disabled:j}),s.jsx("span",{className:"text-gray-500",children:"(days) if left empty, there is no grace period"})]})}),j&&s.jsx("p",{className:"text-xs text-orange-600",children:"Disabled because advance planning is enabled. Only one can be active at a time."}),s.jsx(ft,{})]})}}),s.jsx(Ke,{control:m.control,name:"maxDaysInStretch",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Max days in a stretch"}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",min:"0",...y,onChange:j=>{const N=Number(j.target.value);y.onChange(N>=0?N:0)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days) if the value is 0, it is understood that there is no limit."})]})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:m.control,name:"minDaysRequired",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Min days required for a leave"}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",min:"0",...y,onChange:j=>{const N=Number(j.target.value);y.onChange(N>=0?N:0)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days)"})]})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:m.control,name:"maxInstances",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Max instances"}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",min:"0",...y,onChange:j=>{const N=Number(j.target.value);y.onChange(N>=0?N:0)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(applications) in a"}),s.jsxs(Nt,{value:m.watch("maxInstancesPeriod"),onValueChange:j=>m.setValue("maxInstancesPeriod",j),children:[s.jsx(wt,{className:"w-32",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"month",children:"Month"}),s.jsx(Ae,{value:"quarter",children:"Quarter"}),s.jsx(Ae,{value:"year",children:"Year"})]})]}),s.jsx("span",{className:"text-gray-500",children:"if the value is 0, it is understood that there is no limit."})]})}),s.jsx(ft,{})]})}),[{name:"allowLeavesBeforeWeekend",label:"Leaves immediately before and after a weekend are"},{name:"allowLeavesBeforeHoliday",label:"Leaves immediately before and after a holiday are"},{name:"allowClubbing",label:"Clubbing with other leave types is"}].map(y=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:y.label}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",variant:m.watch(y.name)?"default":"outline",onClick:()=>m.setValue(y.name,!0),className:m.watch(y.name)?"bg-green-600":"",children:"Allowed"}),s.jsx(ee,{type:"button",size:"sm",variant:m.watch(y.name)?"outline":"default",onClick:()=>m.setValue(y.name,!1),className:m.watch(y.name)?"":"bg-red-600",children:"Not Allowed"})]})]},y.name)),s.jsx(Ke,{control:m.control,name:"supportingDocuments",render:({field:y})=>s.jsxs(He,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Supporting documents are"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",variant:y.value?"default":"outline",onClick:()=>y.onChange(!0),className:y.value?"bg-green-600":"",children:"Required"}),s.jsx(ee,{type:"button",size:"sm",variant:y.value?"outline":"default",onClick:()=>y.onChange(!1),className:y.value?"":"bg-red-600",children:"Not Required"})]})]}),y.value&&s.jsx(Ke,{control:m.control,name:"supportingDocumentsText",render:({field:j})=>s.jsx(He,{children:s.jsx(et,{children:s.jsx(wn,{placeholder:"Enter the details of the documents to be added. This message will be displayed to your employees while uploading documents.",...j})})})}),s.jsx(ft,{})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"During notice period, leaves are"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",variant:m.watch("allowDuringNotice")?"default":"outline",onClick:()=>m.setValue("allowDuringNotice",!0),className:m.watch("allowDuringNotice")?"bg-green-600":"",children:"Allowed"}),s.jsx(ee,{type:"button",size:"sm",variant:m.watch("allowDuringNotice")?"outline":"default",onClick:()=>m.setValue("allowDuringNotice",!1),className:m.watch("allowDuringNotice")?"":"bg-red-600",children:"Not Allowed"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Does this require a review workflow for approval?"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",variant:m.watch("requiresWorkflow")?"default":"outline",onClick:()=>m.setValue("requiresWorkflow",!0),className:m.watch("requiresWorkflow")?"bg-green-600":"",children:"Workflow"}),s.jsx(ee,{type:"button",size:"sm",variant:m.watch("requiresWorkflow")?"outline":"default",onClick:()=>m.setValue("requiresWorkflow",!1),className:m.watch("requiresWorkflow")?"":"bg-red-600",children:"No Workflow"})]})]}),m.watch("requiresWorkflow")&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Leave balance is deducted"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",variant:m.watch("leaveBalanceDeduction")==="before_workflow"?"default":"outline",onClick:()=>m.setValue("leaveBalanceDeduction","before_workflow"),className:m.watch("leaveBalanceDeduction")==="before_workflow"?"bg-green-600":"",children:"Before the workflow"}),s.jsx(ee,{type:"button",size:"sm",variant:m.watch("leaveBalanceDeduction")==="after_workflow"?"default":"outline",onClick:()=>m.setValue("leaveBalanceDeduction","after_workflow"),className:m.watch("leaveBalanceDeduction")==="after_workflow"?"bg-green-600":"",children:"After the workflow"})]})]}),s.jsx(Ke,{control:m.control,name:"allowWithdrawalBeforeApproval",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Withdrawal of application is allowed *"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:y.value,onCheckedChange:j=>{y.onChange(j),j&&m.setValue("allowWithdrawalNotAllowed",!1)}}),s.jsx("span",{children:"Before approval"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:m.watch("allowWithdrawalAfterApproval"),onCheckedChange:j=>{m.setValue("allowWithdrawalAfterApproval",!!j),j&&m.setValue("allowWithdrawalNotAllowed",!1)}}),s.jsx("span",{children:"After approval"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:m.watch("allowWithdrawalNotAllowed"),onCheckedChange:j=>{m.setValue("allowWithdrawalNotAllowed",!!j),j&&(m.setValue("allowWithdrawalBeforeApproval",!1),m.setValue("allowWithdrawalAfterApproval",!1))}}),s.jsx("span",{children:"Not allowed"})]})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:m.control,name:"negativeLeaveBalance",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Negative leave balance"}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",...y,onChange:j=>y.onChange(Number(j.target.value)),className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days) if the value is 0, it is understood that negative leave balance is not allowed."})]})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:m.control,name:"carryForwardLimit",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Carry forward"}),s.jsx(et,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",min:"0",...y,onChange:j=>{const N=Number(j.target.value);y.onChange(N>=0?N:0)},className:"w-24"}),s.jsx("span",{className:"text-gray-500",children:"(days) to the"}),s.jsxs(Nt,{value:m.watch("carryForwardPeriod"),onValueChange:j=>m.setValue("carryForwardPeriod",j),children:[s.jsx(wt,{className:"w-32",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"month",children:"Next Month"}),s.jsx(Ae,{value:"quarter",children:"Next Quarter"}),s.jsx(Ae,{value:"year",children:"Next Year"})]})]}),s.jsx("span",{className:"text-gray-500",children:"if the value is 0, it is understood that carry forward is not allowed."})]})}),s.jsx(ft,{})]})})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(mt,{children:"En-cashment"}),s.jsx(Qs,{checked:m.watch("encashment"),onCheckedChange:y=>m.setValue("encashment",y)})]})}),m.watch("encashment")&&s.jsxs(_e,{className:"space-y-6",children:[s.jsx(Ke,{control:m.control,name:"encashmentCalculation",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Calculate en-cashment using *"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ee,{type:"button",variant:y.value==="basic_da"?"default":"outline",onClick:()=>y.onChange("basic_da"),className:y.value==="basic_da"?"bg-green-600":"",children:"Basic / DA"}),s.jsx(ee,{type:"button",variant:y.value==="ctc"?"default":"outline",onClick:()=>y.onChange("ctc"),className:y.value==="ctc"?"bg-green-600":"",children:"CTC"}),s.jsx(ee,{type:"button",variant:y.value==="gross_salary"?"default":"outline",onClick:()=>y.onChange("gross_salary"),className:y.value==="gross_salary"?"bg-green-600":"",children:"Gross Salary"})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:m.control,name:"maxEncashmentDays",render:({field:y})=>{const j=y.value===-1;return s.jsxs(He,{children:[s.jsx(it,{children:"Max. days that can be en-cashed *"}),s.jsx(et,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"encash-limit",name:"encashmentType",checked:!j,onChange:()=>y.onChange(0)}),s.jsx("label",{htmlFor:"encash-limit",className:"text-sm",children:"Set Limit"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:"encash-no-limit",name:"encashmentType",checked:j,onChange:()=>y.onChange(-1)}),s.jsx("label",{htmlFor:"encash-no-limit",className:"text-sm",children:"No Limit"})]})]}),!j&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",value:y.value===-1?0:y.value,onChange:N=>{const E=Number(N.target.value);y.onChange(E>=0?E:0)},className:"w-32",placeholder:"0",min:"0"}),s.jsx("span",{className:"text-gray-500",children:"(days)"})]}),j&&s.jsx("p",{className:"text-sm text-green-600",children:"No limit set - employees can encash any amount"})]})}),s.jsx(ft,{})]})}}),s.jsx(Ke,{control:m.control,name:"encashmentTiming",render:({field:y})=>s.jsxs(He,{children:[s.jsx(it,{children:"Leaves can be en-cashed at"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ee,{type:"button",variant:y.value==="exit_retirement"?"default":"outline",onClick:()=>y.onChange("exit_retirement"),className:y.value==="exit_retirement"?"bg-green-600":"",children:"Exit/Retirement"}),s.jsx(ee,{type:"button",variant:y.value==="annually"?"default":"outline",onClick:()=>y.onChange("annually"),className:y.value==="annually"?"bg-green-600":"",children:"Annually"})]}),s.jsx(ft,{})]})})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Other Settings"})}),s.jsxs(_e,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Allow applications on behalf of others"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",variant:m.watch("allowApplicationsOnBehalf")?"default":"outline",onClick:()=>m.setValue("allowApplicationsOnBehalf",!0),className:m.watch("allowApplicationsOnBehalf")?"bg-green-600 hover:bg-green-700 text-white":"",children:"Allowed"}),s.jsx(ee,{type:"button",size:"sm",variant:m.watch("allowApplicationsOnBehalf")?"outline":"default",onClick:()=>m.setValue("allowApplicationsOnBehalf",!1),className:m.watch("allowApplicationsOnBehalf")?"":"bg-gray-600 hover:bg-gray-700 text-white",children:"Not Allowed"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("span",{className:"text-sm font-medium",children:"Leave data to be shown in Payslips"}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:m.watch("showAvailedLeaves"),onCheckedChange:y=>m.setValue("showAvailedLeaves",!!y)}),s.jsx("span",{children:"Availed leaves"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:m.watch("showBalanceLeaves"),onCheckedChange:y=>m.setValue("showBalanceLeaves",!!y)}),s.jsx("span",{children:"Balance leaves"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Maximum balance"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ut,{type:"number",value:m.watch("maximumBalance"),onChange:y=>m.setValue("maximumBalance",Number(y.target.value)),className:"w-20 text-center",placeholder:"0"}),s.jsx("span",{className:"text-gray-500 text-sm",children:"(days) if the value is 0, it is understood that there is no limit."})]})]})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(mt,{children:"Assign to Employees"}),s.jsxs(ee,{variant:"outline",type:"button",onClick:()=>i(!0),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),"Assign Employees"]})]})}),o.length>0&&s.jsx(_e,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[o.length," employee",o.length>1?"s":""," assigned"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.slice(0,3).map((y,j)=>s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-1",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-blue-600",children:(y.name||y.user_name||`Employee ${y.user_id}`).charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-xs text-gray-700",children:y.name||y.user_name||`Employee ${y.user_id}`})]},y.user_id)),o.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",o.length-3," more"]})]})]})})]})]})})}),s.jsxs("div",{className:"flex justify-between p-8 mt-4 border-t bg-gray-50 sticky bottom-0",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ee,{variant:"outline",onClick:r,type:"button",className:"px-6 py-3 min-h-[44px]",children:"Discard"}),(e==null?void 0:e.id)&&s.jsx(ee,{variant:"destructive",onClick:()=>p.mutate(),disabled:p.isPending,type:"button",className:"px-6 py-3 min-h-[44px]",children:p.isPending?"Deleting...":"Delete Variant"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(ee,{type:"button",disabled:x.isPending,className:"bg-green-600 hover:bg-green-700 px-8 py-3 min-h-[44px]",onClick:()=>{const y=m.getValues();v(y)},children:x.isPending?e!=null&&e.id?"Updating...":"Creating...":e!=null&&e.id?"Update Leave Variant":"Create Leave Variant"})})]})]}),a&&s.jsx(Hy,{onClose:()=>i(!1),preSelectedEmployees:o,applicableGenders:m.watch("applicableGenders"),onAssign:async y=>{try{if(!(e!=null&&e.id)){vc=[...y],l(y),c.current=[...y],i(!1),n({title:"Success",description:`${y.length} employee${y.length>1?"s":""} will be assigned when variant is created.`});return}const j=y.map(N=>({userId:N.user_id,leaveVariantId:e.id,assignmentType:"leave_variant"}));await yt("POST","/api/employee-assignments/bulk",{assignments:j}),l(y),Ye.invalidateQueries({queryKey:[`/api/employee-assignments/${e.id}`]}),n({title:"Success",description:`${y.length} employee${y.length>1?"s":""} assigned successfully.`})}catch{n({title:"Error",description:"Failed to save employee assignments.",variant:"destructive"})}}})]})}const MJ=we.object({name:we.string().min(1,"Leave type name is required"),description:we.string().optional(),icon:we.string().min(1,"Icon is required"),color:we.string().min(1,"Color is required"),isActive:we.boolean().default(!0)}),Hw=[{value:"stethoscope",label:"Medical",icon:Ny},{value:"smile",label:"General",icon:t0},{value:"umbrella",label:"Casual",icon:Sy},{value:"baby",label:"Family",icon:by},{value:"heart",label:"Personal",icon:jy},{value:"users",label:"Team",icon:un},{value:"user",label:"Individual",icon:r0},{value:"calendar",label:"Scheduled",icon:wr},{value:"briefcase",label:"Professional",icon:XR},{value:"clock",label:"Time-off",icon:yn},{value:"star",label:"Special",icon:r3},{value:"gift",label:"Benefit",icon:e3}],qC=[{value:"#f59e0b",label:"Orange",color:"#f59e0b"},{value:"#3b82f6",label:"Blue",color:"#3b82f6"},{value:"#10b981",label:"Green",color:"#10b981"},{value:"#ec4899",label:"Pink",color:"#ec4899"},{value:"#8b5cf6",label:"Purple",color:"#8b5cf6"},{value:"#6366f1",label:"Indigo",color:"#6366f1"},{value:"#ef4444",label:"Red",color:"#ef4444"},{value:"#06b6d4",label:"Cyan",color:"#06b6d4"},{value:"#84cc16",label:"Lime",color:"#84cc16"},{value:"#f97316",label:"Orange-Red",color:"#f97316"}];function RJ({onClose:e}){const{toast:t}=Lr(),[r,n]=T.useState(""),[a,i]=T.useState(""),{data:o}=Le({queryKey:["/api/leave-types"]}),l=["Sick Leave","Earned Leave","Casual Leave","Maternity Leave","Paternity Leave","Marriage Leave","Study Leave","Religious Leave","Community Service","Bereavement Leave","Emergency Leave"],c=Za({resolver:bs(MJ),defaultValues:{name:"",description:"",icon:"",color:"",isActive:!0}}),u=It({mutationFn:async h=>{const m=h.name.trim();if([...Array.isArray(o)?o.map(v=>v.name.toLowerCase()):[],...l.map(v=>v.toLowerCase())].includes(m.toLowerCase()))throw new Error(`A leave type with the name "${m}" already exists. Please choose a different name.`);return yt("POST","/api/leave-types",{...h,name:m,annualAllowance:12,carryForward:!1})},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/leave-types"]}),Ye.invalidateQueries({queryKey:["/api/leave-variants"]}),Ye.refetchQueries({queryKey:["/api/leave-types"]}),t({title:"Success",description:"Custom leave type created successfully."}),e()},onError:h=>{console.error("Create custom leave type error:",h);const m=h instanceof Error?h.message:"Failed to create custom leave type. Please try again.";t({title:"Error",description:m,variant:"destructive"})}}),d=h=>{u.mutate(h)},f=h=>{const m=Hw.find(x=>x.value===h);return(m==null?void 0:m.icon)||wr};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs(Ne,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between",children:[s.jsx(mt,{children:"Create Custom Leave Type"}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:e,children:s.jsx(Yn,{className:"w-4 h-4"})})]}),s.jsx(_e,{children:s.jsx(ti,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-6",children:[s.jsx(Ke,{control:c.control,name:"name",render:({field:h})=>s.jsxs(He,{children:[s.jsx(it,{children:"Leave Type Name *"}),s.jsx(et,{children:s.jsx(ut,{placeholder:"Enter leave type name",...h})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:c.control,name:"description",render:({field:h})=>s.jsxs(He,{children:[s.jsx(it,{children:"Description"}),s.jsx(et,{children:s.jsx(wn,{placeholder:"Enter description (optional)",...h,rows:3})}),s.jsx(ft,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Ke,{control:c.control,name:"icon",render:({field:h})=>{var m;return s.jsxs(He,{children:[s.jsx(it,{children:"Icon *"}),s.jsxs(Nt,{onValueChange:x=>{h.onChange(x),n(x)},defaultValue:h.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Select an icon",children:h.value&&s.jsxs("div",{className:"flex items-center",children:[(()=>{const x=f(h.value);return s.jsx(x,{className:"w-4 h-4 mr-2"})})(),(m=Hw.find(x=>x.value===h.value))==null?void 0:m.label]})})})}),s.jsx(bt,{children:Hw.map(x=>{const p=x.icon;return s.jsx(Ae,{value:x.value,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(p,{className:"w-4 h-4 mr-2"}),x.label]})},x.value)})})]}),s.jsx(ft,{})]})}}),s.jsx(Ke,{control:c.control,name:"color",render:({field:h})=>{var m;return s.jsxs(He,{children:[s.jsx(it,{children:"Color *"}),s.jsxs(Nt,{onValueChange:x=>{h.onChange(x),i(x)},defaultValue:h.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Select a color",children:h.value&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:h.value}}),(m=qC.find(x=>x.value===h.value))==null?void 0:m.label]})})})}),s.jsx(bt,{children:qC.map(x=>s.jsx(Ae,{value:x.value,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 rounded mr-2",style:{backgroundColor:x.color}}),x.label]})},x.value))})]}),s.jsx(ft,{})]})}})]}),r&&a&&s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Preview"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${a}20`},children:(()=>{const h=f(r);return s.jsx(h,{className:"w-5 h-5",style:{color:a}})})()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:c.watch("name")||"Leave Type Name"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Custom leave type"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:e,disabled:u.isPending,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:u.isPending,className:"bg-green-600 hover:bg-green-700",children:u.isPending?"Creating...":"Create Leave Type"})]})]})})})]})})}const FJ=e=>({heart:jy,smile:t0,umbrella:Sy,baby:by,users:un,user:r0,calendar:wr,stethoscope:Ny})[e]||wr;function LJ({leaveType:e,onBack:t}){const[r,n]=T.useState(!1),[a,i]=T.useState(null),{toast:o}=Lr(),{data:l=[],isLoading:c}=Le({queryKey:["/api/leave-variants"]}),u=l.filter(x=>x.leaveTypeName===e.name),d=It({mutationFn:async x=>await yt("DELETE",`/api/leave-variants/${x}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/leave-variants"]}),o({title:"Success",description:"Variant deleted successfully."})},onError:x=>{console.error("Delete variant error:",x),o({title:"Error",description:"Failed to delete variant. Please try again.",variant:"destructive"})}}),f=()=>{i(null),n(!0)},h=x=>{i(x),n(!0)},m=x=>{confirm("Are you sure you want to delete this variant?")&&d.mutate(x)};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading..."})}):s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"outline",onClick:t,className:"p-2",children:s.jsx(wy,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${e.color}20`},children:(()=>{const x=FJ(e.icon);return s.jsx(x,{className:"w-6 h-6",style:{color:e.color}})})()}),s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e.name})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Variants"}),u.length===0?s.jsxs(Ne,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-gray-500 mb-4",children:"No variants created for this leave type"}),s.jsxs(ee,{onClick:f,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create Leave Variant"]})]}):s.jsxs("div",{className:"space-y-4",children:[u.map(x=>{var p;return s.jsx(Ne,{className:"border border-gray-200",children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:x.leaveVariantName}),s.jsxs("p",{className:"text-sm text-gray-500",children:[x.leavesGrantedOn==="compliance"?`${x.complianceGrantDays||1} day for every ${x.complianceForEveryDays||20} days worked`:`${x.paidDaysInYear} days`," · Applied to ",((p=x.applicableGenders)==null?void 0:p.join(", "))||"All"," Employees"]}),x.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>m(x.id),disabled:d.isPending,className:"text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Ea,{className:"w-4 h-4"}),"Delete"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>h(x),className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[s.jsx(Nu,{className:"w-4 h-4"}),"Edit"]})]})]})})},x.id)}),s.jsxs(ee,{variant:"outline",onClick:f,className:"w-full border-dashed border-2 h-16 text-green-600 border-green-300 hover:bg-green-50",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create Leave Variant"]})]})]}),r&&s.jsx(M_,{variant:a,leaveType:e,onClose:()=>{n(!1),i(null)}})]})}const KC=[{name:"Sick Leave",icon:"stethoscope",color:"#f59e0b",variants:"1 variants",isDefault:!0},{name:"Earned Leave",icon:"smile",color:"#3b82f6",variants:"",isDefault:!0},{name:"Casual Leave",icon:"umbrella",color:"#10b981",variants:"",isDefault:!0},{name:"Maternity Leave",icon:"baby",color:"#ec4899",variants:"",isDefault:!0},{name:"Paternity Leave",icon:"briefcase",color:"#8b5cf6",variants:"",isDefault:!0},{name:"Marriage Leave",icon:"heart",color:"#ef4444",variants:"",isDefault:!0},{name:"Study Leave",icon:"graduation-cap",color:"#06b6d4",variants:"",isDefault:!0},{name:"Religious Leave",icon:"church",color:"#f97316",variants:"",isDefault:!0},{name:"Community Service",icon:"users",color:"#84cc16",variants:"",isDefault:!0},{name:"Bereavement Leave",icon:"user-x",color:"#6b7280",variants:"",isDefault:!0}];function m6({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const[a,i]=T.useState(null),[o,l]=T.useState(null),[c,u]=T.useState(!1),[d,f]=T.useState(!1),[h,m]=T.useState(!1),[x,p]=T.useState(null),[v,b]=T.useState({}),{toast:g}=Lr(),w=ac(),{data:y,isLoading:j}=Le({queryKey:["/api/leave-types"]}),{data:N,isLoading:E}=Le({queryKey:["/api/leave-variants"]}),S=It({mutationFn:async()=>{const I=KC.map(M=>yt("POST","/api/leave-types",{name:M.name,icon:M.icon,color:M.color,annualAllowance:12,carryForward:!1,isActive:!0}));await Promise.all(I)},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/leave-types"]}),g({title:"Success",description:"All leave types have been created successfully."}),e()},onError:I=>{console.error("Error creating leave types:",I),g({title:"Error",description:"Failed to create leave types. Please try again.",variant:"destructive"})}}),_=It({mutationFn:async I=>{await yt("DELETE",`/api/leave-types/${I}`,{})},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/leave-types"]}),w.invalidateQueries({queryKey:["/api/leave-variants"]}),g({title:"Success",description:"Leave type has been deleted successfully."})},onError:I=>{console.error("Error deleting leave type:",I),g({title:"Error",description:"Failed to delete leave type. Please try again.",variant:"destructive"})}});if(c&&a)return s.jsx(M_,{leaveType:a,variant:o,onClose:()=>{u(!1),i(null),l(null),w.invalidateQueries({queryKey:["/api/leave-variants"]})}});if(d)return s.jsx(RJ,{onClose:()=>{f(!1),w.invalidateQueries({queryKey:["/api/leave-types"]})}});const D=I=>{const M=Array.isArray(y)?y.find(R=>R.name===I.name):null,C={...I,id:M==null?void 0:M.id};i(C),u(!0)},F=I=>{const M=Array.isArray(y)?y.find(R=>R.name===I.name):null,C={...I,id:M==null?void 0:M.id};p(C),m(!0)},O=I=>{I.id?_.mutate(I.id):g({title:"Cannot Discard",description:"This leave type hasn't been created yet.",variant:"destructive"})},L=I=>!N||!Array.isArray(N)?[]:N.filter(M=>M.leaveTypeName===I)||[],k=()=>{y&&Array.isArray(y)&&y.length>0?e():S.mutate()},P=I=>{b(M=>({...M,[I]:!M[I]}))};return h&&x?s.jsx(LJ,{leaveType:x,onBack:()=>{m(!1),p(null)}}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Configure Leave Types"}),s.jsxs(ee,{variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>f(!0),children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create Custom Leave"]})]}),s.jsxs("div",{className:"space-y-3",children:[Array.isArray(y)&&y.map(I=>{const M=UC(I.icon),C=L(I.name),R=v[I.name],z=C.length>0;return s.jsx(Ne,{className:"border border-gray-200 hover:border-gray-300 transition-colors",children:s.jsxs(_e,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${I.color}20`},children:s.jsx(M,{className:"w-5 h-5",style:{color:I.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:I.name}),z?s.jsxs("p",{className:"text-sm text-gray-500",children:[C.length," variant",C.length>1?"s":""]}):s.jsx("p",{className:"text-sm text-gray-400",children:"No variants created"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[z?s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>F(I),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"Manage Variants"}):s.jsxs(s.Fragment,{children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>O(I),className:"text-red-600 border-red-300 hover:bg-red-50",disabled:_.isPending,children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsxs(ee,{size:"sm",onClick:()=>D(I),className:"bg-green-600 hover:bg-green-700 text-white",children:["Create Leave",s.jsx(Ss,{className:"w-4 h-4 ml-1"})]})]}),z&&s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>P(I.name),className:"text-gray-500 hover:text-gray-700",children:R?s.jsx(QR,{className:"w-4 h-4"}):s.jsx(Td,{className:"w-4 h-4"})})]})]}),R&&z&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsx("div",{className:"space-y-2",children:C.map(J=>s.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:J.leaveVariantName}),s.jsx("p",{className:"text-sm text-gray-500",children:J.leavesGrantedOn==="compliance"?`${J.complianceGrantDays||1} day for every ${J.complianceForEveryDays||20} days worked`:`${J.paidDaysInYear} days`})]})},J.id))})})]})},I.id)}),KC.filter(I=>!Array.isArray(y)||!y.find(M=>M.name===I.name)).map((I,M)=>{const C=I,R=UC(C.icon),z=L(C.name),J=v[C.name],U=z.length>0;return s.jsx(Ne,{className:"border border-gray-200 hover:border-gray-300 transition-colors",children:s.jsxs(_e,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${C.color}20`},children:s.jsx(R,{className:"w-5 h-5",style:{color:C.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:C.name}),U?s.jsxs("p",{className:"text-sm text-gray-500",children:[z.length," variant",z.length>1?"s":""]}):s.jsx("p",{className:"text-sm text-gray-400",children:"No variants created"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:U?s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>F(C),className:"text-blue-600 border-blue-300 hover:bg-blue-50 p-2",children:s.jsx(Ss,{className:"w-4 h-4"})}):s.jsxs(s.Fragment,{children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>O(C),className:"text-red-600 border-red-300 hover:bg-red-50",disabled:_.isPending,children:s.jsx(Ea,{className:"w-4 h-4"})}),s.jsxs(ee,{size:"sm",onClick:()=>D(C),className:"bg-green-600 hover:bg-green-700 text-white",children:["Create Leave",s.jsx(Ss,{className:"w-4 h-4 ml-1"})]})]})})]}),J&&U&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsx("div",{className:"space-y-2",children:z.map((q,Y)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800",children:q.leaveVariantName}),s.jsx("p",{className:"text-sm text-gray-600",children:q.leavesGrantedOn==="compliance"?`${q.complianceGrantDays||1} day for every ${q.complianceForEveryDays||20} days worked`:`${q.paidDaysInYear} days`})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>{l(q),i(C),u(!0)},className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:"Edit"}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>F(C),className:"text-green-600 border-green-300 hover:bg-green-50",children:"Manage"})]})]},Y))})})]})},C.id||M)})]}),s.jsxs("div",{className:"flex justify-between mt-8",children:[s.jsx(ee,{variant:"outline",onClick:t,disabled:n,children:"Previous"}),s.jsx(ee,{onClick:k,disabled:n||S.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:S.isPending?"Creating...":r?"Finish Setup":"Next"})]})]})}function p6({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const{toast:a}=Lr(),[i,o]=T.useState(""),[l,c]=T.useState(!1),[u,d]=T.useState(null),[f,h]=T.useState({name:"",description:"",permissions:{employeeOverview:{view:!1,modify:!1},leaveApplications:{view:!1,modify:!1},holidays:{view:!1,modify:!1},compensatoryOff:{view:!1,modify:!1},pto:{view:!1,modify:!1},employeeReports:{view:!1,modify:!1},adminOverview:{view:!1,modify:!1},approvals:{view:!1,modify:!1},employees:{view:!1,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminReports:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},allowOnBehalf:{pto:!1,leave:!1,compOff:!1}}}),{data:m=[],isLoading:x,error:p,isFetching:v}=Le({queryKey:["/api/roles"],staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0,retry:!1,enabled:!0}),b=Array.isArray(m)?m:[],g=b.filter(M=>M.name.toLowerCase().includes(i.toLowerCase())),w=!x&&b.length===0;T.useEffect(()=>{const M=localStorage.getItem("org_id");console.log("[RolesSetup] Debug state:",{orgId:M,isLoadingRoles:x,isFetching:v,dbRolesLength:m==null?void 0:m.length,displayRolesLength:g.length,showEmptyState:w,rolesData:m==null?void 0:m.map(C=>C.name)})},[x,v,m,g.length,w]);const y=It({mutationFn:async M=>u?await yt("PATCH",`/api/roles/${u.id}`,M):await yt("POST","/api/roles",M),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/roles"]}),a({title:"Success",description:`Role ${u?"updated":"created"} successfully.`}),c(!1),d(null)},onError:M=>{a({title:"Error",description:`Failed to ${u?"update":"create"} role. Please try again.`,variant:"destructive"})}}),j=It({mutationFn:async M=>await yt("DELETE",`/api/roles/${M}`,{}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/roles"]}),a({title:"Success",description:"Role deleted successfully."}),c(!1),d(null)},onError:M=>{a({title:"Error",description:"Failed to delete role. Please try again.",variant:"destructive"})}}),N=()=>{d(null),h({name:"",description:"",permissions:{employeeOverview:{view:!1,modify:!1},leaveApplications:{view:!1,modify:!1},holidays:{view:!1,modify:!1},compensatoryOff:{view:!1,modify:!1},pto:{view:!1,modify:!1},employeeReports:{view:!1,modify:!1},adminOverview:{view:!1,modify:!1},approvals:{view:!1,modify:!1},employees:{view:!1,modify:!1},workflows:{view:!1,modify:!1},roles:{view:!1,modify:!1},importLeaveData:{view:!1,modify:!1},adminReports:{view:!1,modify:!1},adminLeaveTypes:{view:!1,modify:!1},adminCompOff:{view:!1,modify:!1},adminPTO:{view:!1,modify:!1},allowOnBehalf:{pto:!1,leave:!1,compOff:!1}}}),c(!0)},E=M=>{d(M);let C;try{C=typeof M.permissions=="string"?JSON.parse(M.permissions):M.permissions}catch(R){console.error("Error parsing role permissions:",R),C=f.permissions}h({name:M.name,description:M.description||"",permissions:C}),c(!0)},S=()=>{c(!1),d(null)},_=()=>{if(!f.name||!f.permissions){a({title:"Error",description:"Please provide a role name and permissions",variant:"destructive"});return}const M={name:f.name,description:f.description||"",permissions:f.permissions};y.mutate(M)},D=()=>{u&&j.mutate(u.id)},F=(M,C,R)=>{h(z=>({...z,permissions:{...z.permissions,[M]:{...z.permissions[M],[C]:R}}}))},O=(M,C)=>{h(R=>({...R,permissions:{...R.permissions,allowOnBehalf:{...R.permissions.allowOnBehalf,[M]:C}}}))},L=()=>{const M=["employeeOverview","leaveApplications","holidays","compensatoryOff","pto","employeeReports","adminOverview","approvals","employees","workflows","roles","importLeaveData","adminReports","adminLeaveTypes","adminCompOff","adminPTO"];h(C=>{const R={...C.permissions};return M.forEach(z=>{R[z]&&(R[z].view=!0)}),{...C,permissions:R}})},k=()=>{const M=["employeeOverview","leaveApplications","holidays","compensatoryOff","pto","employeeReports","adminOverview","approvals","employees","workflows","roles","importLeaveData","adminReports","adminLeaveTypes","adminCompOff","adminPTO"];h(C=>{const R={...C.permissions};return M.forEach(z=>{R[z]&&(R[z].modify=!0)}),{...C,permissions:R}})},P=()=>{const M=["employeeOverview","leaveApplications","holidays","compensatoryOff","pto","employeeReports","adminOverview","approvals","employees","workflows","roles","importLeaveData","adminReports","adminLeaveTypes","adminCompOff","adminPTO"];h(C=>{const R={...C.permissions};return M.forEach(z=>{R[z]&&(R[z].view=!1)}),{...C,permissions:R}})},I=()=>{const M=["employeeOverview","leaveApplications","holidays","compensatoryOff","pto","employeeReports","adminOverview","approvals","employees","workflows","roles","importLeaveData","adminReports","adminLeaveTypes","adminCompOff","adminPTO"];h(C=>{const R={...C.permissions};return M.forEach(z=>{R[z]&&(R[z].modify=!1)}),{...C,permissions:R}})};return l?s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:u?"Update Role":"Create Role"}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:S,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Yn,{className:"w-5 h-5"})})]}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ut,{value:f.name,onChange:M=>h(C=>({...C,name:M.target.value})),placeholder:"Enter role name",className:"flex-1"}),u&&s.jsx(ee,{variant:"outline",onClick:D,className:"text-orange-600 border-orange-600 hover:bg-orange-50",children:"Delete Role"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),s.jsx(ut,{value:f.description,onChange:M=>h(C=>({...C,description:M.target.value})),placeholder:"Enter role description"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Role Permissions"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:L,className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"Check All View"}),s.jsx(ee,{variant:"outline",size:"sm",onClick:P,className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"Uncheck All View"}),s.jsx(ee,{variant:"outline",size:"sm",onClick:k,className:"text-green-600 border-green-600 hover:bg-green-50",children:"Check All Modify"}),s.jsx(ee,{variant:"outline",size:"sm",onClick:I,className:"text-green-600 border-green-600 hover:bg-green-50",children:"Uncheck All Modify"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"Employee Screens"}),s.jsx("div",{className:"space-y-2",children:[{key:"employeeOverview",label:"Employee Overview"},{key:"leaveApplications",label:"Leave Applications"},{key:"holidays",label:"Holidays"},{key:"compensatoryOff",label:"Compensatory Off"},{key:"pto",label:"PTO"},{key:"employeeReports",label:"Employee Reports"}].map(({key:M,label:C})=>{const R=f.permissions[M];return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:(R==null?void 0:R.view)||!1,onCheckedChange:z=>F(M,"view",z)}),s.jsx("span",{className:"text-sm text-gray-600",children:"View"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:(R==null?void 0:R.modify)||!1,onCheckedChange:z=>F(M,"modify",z)}),s.jsx("span",{className:"text-sm text-gray-600",children:"Modify"})]})]})]},M)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"Admin Screens"}),s.jsx("div",{className:"space-y-2",children:[{key:"adminOverview",label:"Admin Overview"},{key:"approvals",label:"Approvals"},{key:"employees",label:"Employees"},{key:"workflows",label:"Workflows"},{key:"roles",label:"Roles"},{key:"importLeaveData",label:"Import Leave Data"},{key:"adminReports",label:"Admin Reports"}].map(({key:M,label:C})=>{const R=f.permissions[M];return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:(R==null?void 0:R.view)||!1,onCheckedChange:z=>F(M,"view",z)}),s.jsx("span",{className:"text-sm text-gray-600",children:"View"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:(R==null?void 0:R.modify)||!1,onCheckedChange:z=>F(M,"modify",z)}),s.jsx("span",{className:"text-sm text-gray-600",children:"Modify"})]})]})]},M)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"Admin Configuration"}),s.jsx("div",{className:"space-y-2",children:[{key:"adminLeaveTypes",label:"Leave Types Configuration"},{key:"adminCompOff",label:"Comp Off Configuration"},{key:"adminPTO",label:"PTO Configuration"}].map(({key:M,label:C})=>{const R=f.permissions[M];return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:(R==null?void 0:R.view)||!1,onCheckedChange:z=>F(M,"view",z)}),s.jsx("span",{className:"text-sm text-gray-600",children:"View"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:(R==null?void 0:R.modify)||!1,onCheckedChange:z=>F(M,"modify",z)}),s.jsx("span",{className:"text-sm text-gray-600",children:"Modify"})]})]})]},M)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"Allow On Behalf Actions"}),s.jsx("div",{className:"space-y-2",children:[{key:"pto",label:"PTO Applications"},{key:"leave",label:"Leave Applications"},{key:"compOff",label:"Comp Off Applications"}].map(({key:M,label:C})=>{var R;return s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm text-gray-700",children:C}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:((R=f.permissions.allowOnBehalf)==null?void 0:R[M])||!1,onCheckedChange:z=>O(M,z)}),s.jsx("span",{className:"text-sm text-gray-600",children:"Allow"})]})]},M)})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[s.jsx(ee,{variant:"outline",onClick:S,children:"Cancel"}),s.jsx(ee,{onClick:_,disabled:y.isPending||j.isPending,children:y.isPending?"Saving...":u?"Update Role":"Create Role"})]})]})})]}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Roles"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(ut,{placeholder:"Search for Roles",value:i,onChange:M=>o(M.target.value),className:"pl-10"})]}),s.jsxs(ee,{onClick:N,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create Role"]})]}),x&&s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"Loading roles..."})}),p&&s.jsx(Ne,{children:s.jsx(_e,{className:"p-8 text-center",children:s.jsxs("div",{className:"text-red-500 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error loading roles"}),s.jsx("p",{className:"text-sm",children:p.message})]})})}),w&&s.jsx(Ne,{children:s.jsxs(_e,{className:"p-8 text-center",children:[s.jsxs("div",{className:"text-gray-500 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No roles created yet"}),s.jsx("p",{children:"Create your first role to get started with permission management."}),s.jsx("p",{className:"text-sm mt-2",children:"Default roles (Admin, Manager, Employee) will be created automatically when you complete the setup."})]}),s.jsxs(ee,{onClick:N,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create Custom Role"]})]})}),g.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(M=>s.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:s.jsxs(_e,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.name}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>E(M),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Nu,{className:"w-4 h-4"})})]}),M.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.description}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",M.createdAt?new Date(M.createdAt).toLocaleDateString():"Unknown"]})]})},M.id))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[s.jsx(ee,{variant:"outline",onClick:t,children:"Previous"}),s.jsx(ee,{onClick:e,disabled:n,children:r?"Finish Setup":"Next"})]})]})}const $J=yy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $t({className:e,variant:t,...r}){return s.jsx("div",{className:tt($J({variant:t}),e),...r})}var R_="Dialog",[g6,OPe]=Cs(R_),[BJ,gi]=g6(R_),x6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=T.useRef(null),c=T.useRef(null),[u=!1,d]=Oo({prop:n,defaultProp:a,onChange:i});return s.jsx(BJ,{scope:t,triggerRef:l,contentRef:c,contentId:wo(),titleId:wo(),descriptionId:wo(),open:u,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};x6.displayName=R_;var v6="DialogTrigger",y6=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gi(v6,r),i=or(t,a.triggerRef);return s.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$_(a.open),...n,ref:i,onClick:vt(e.onClick,a.onOpenToggle)})});y6.displayName=v6;var F_="DialogPortal",[UJ,w6]=g6(F_,{forceMount:void 0}),b6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=gi(F_,t);return s.jsx(UJ,{scope:t,forceMount:r,children:T.Children.map(n,o=>s.jsx(Ki,{present:r||i.open,children:s.jsx(Zp,{asChild:!0,container:a,children:o})}))})};b6.displayName=F_;var Ux="DialogOverlay",j6=T.forwardRef((e,t)=>{const r=w6(Ux,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=gi(Ux,e.__scopeDialog);return i.modal?s.jsx(Ki,{present:n||i.open,children:s.jsx(VJ,{...a,ref:t})}):null});j6.displayName=Ux;var WJ=au("DialogOverlay.RemoveScroll"),VJ=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gi(Ux,r);return s.jsx(Ly,{as:WJ,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ot.div,{"data-state":$_(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),du="DialogContent",N6=T.forwardRef((e,t)=>{const r=w6(du,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=gi(du,e.__scopeDialog);return s.jsx(Ki,{present:n||i.open,children:i.modal?s.jsx(HJ,{...a,ref:t}):s.jsx(zJ,{...a,ref:t})})});N6.displayName=du;var HJ=T.forwardRef((e,t)=>{const r=gi(du,e.__scopeDialog),n=T.useRef(null),a=or(t,r.contentRef,n);return T.useEffect(()=>{const i=n.current;if(i)return N_(i)},[]),s.jsx(S6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:vt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:vt(e.onFocusOutside,i=>i.preventDefault())})}),zJ=T.forwardRef((e,t)=>{const r=gi(du,e.__scopeDialog),n=T.useRef(!1),a=T.useRef(!1);return s.jsx(S6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),S6=T.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=gi(du,r),c=T.useRef(null),u=or(t,c);return j_(),s.jsxs(s.Fragment,{children:[s.jsx(Ry,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$_(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(qJ,{titleId:l.titleId}),s.jsx(GJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),L_="DialogTitle",_6=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gi(L_,r);return s.jsx(Ot.h2,{id:a.titleId,...n,ref:t})});_6.displayName=L_;var T6="DialogDescription",E6=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gi(T6,r);return s.jsx(Ot.p,{id:a.descriptionId,...n,ref:t})});E6.displayName=T6;var A6="DialogClose",C6=T.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=gi(A6,r);return s.jsx(Ot.button,{type:"button",...n,ref:t,onClick:vt(e.onClick,()=>a.onOpenChange(!1))})});C6.displayName=A6;function $_(e){return e?"open":"closed"}var D6="DialogTitleWarning",[PPe,k6]=$V(D6,{contentName:du,titleName:L_,docsSlug:"dialog"}),qJ=({titleId:e})=>{const t=k6(D6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},KJ="DialogDescriptionWarning",GJ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${k6(KJ).contentName}}.`;return T.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},YJ=x6,XJ=y6,QJ=b6,O6=j6,P6=N6,I6=_6,M6=E6,ZJ=C6;const Xn=YJ,Zm=XJ,JJ=QJ,R6=T.forwardRef(({className:e,...t},r)=>s.jsx(O6,{ref:r,className:tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));R6.displayName=O6.displayName;const Qn=T.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(JJ,{children:[s.jsx(R6,{}),s.jsxs(P6,{ref:n,className:tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(ZJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Yn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qn.displayName=P6.displayName;const Zn=({className:e,...t})=>s.jsx("div",{className:tt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zn.displayName="DialogHeader";const Wx=({className:e,...t})=>s.jsx("div",{className:tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wx.displayName="DialogFooter";const Jn=T.forwardRef(({className:e,...t},r)=>s.jsx(I6,{ref:r,className:tt("text-lg font-semibold leading-none tracking-tight",e),...t}));Jn.displayName=I6.displayName;const eee=T.forwardRef(({className:e,...t},r)=>s.jsx(M6,{ref:r,className:tt("text-sm text-muted-foreground",e),...t}));eee.displayName=M6.displayName;const tee=we.object({name:we.string().min(1,"Workflow name is required"),effectiveDate:we.string().min(1,"Effective date is required"),process:we.string().min(1,"Process is required"),subProcesses:we.array(we.string()).min(1,"At least one sub-process is required"),reviewSteps:we.array(we.object({title:we.string(),roleIds:we.array(we.number()),autoApproval:we.boolean()})).optional()});function ree({open:e,onOpenChange:t,onAssign:r,selectedRoleIds:n}){const[a,i]=T.useState(n),[o,l]=T.useState(""),{data:c=[]}=Le({queryKey:["/api/roles"]}),u=c.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())),d=()=>{r(a),t(!1)},f=h=>{i(m=>m.includes(h)?m.filter(x=>x!==h):[...m,h])};return s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(Qn,{className:"max-w-md",children:[s.jsx(Zn,{children:s.jsx(Jn,{children:"Assign Roles"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(ut,{placeholder:"Search roles...",value:o,onChange:h=>l(h.target.value),className:"pl-10"})]}),u.length===0?s.jsx("div",{className:"text-center text-gray-500 py-6",children:"No roles available. Please create roles first."}):s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.map(h=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:`role-${h.id}`,checked:a.includes(h.id),onCheckedChange:()=>f(h.id)}),s.jsx(dt,{htmlFor:`role-${h.id}`,className:"flex-1 cursor-pointer",children:h.name})]},h.id))}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(ee,{onClick:d,children:"Assign Roles"})]})]})]})})}function nee({onNext:e,onPrevious:t,onComplete:r,isLast:n,isLoading:a}){var M;const{toast:i}=Lr(),[o,l]=T.useState(!1),[c,u]=T.useState([]),[d,f]=T.useState(!1),[h,m]=T.useState(null),[x,p]=T.useState(null),v=Za({resolver:bs(tee),defaultValues:{name:"",effectiveDate:"",process:"",subProcesses:[],reviewSteps:[]}}),{data:b=[]}=Le({queryKey:["/api/workflows"]}),{data:g=[]}=Le({queryKey:["/api/roles"]}),{data:w}=Le({queryKey:["/api/company"]});T.useEffect(()=>{if(x&&o){console.log("Editing workflow data:",x);const C={name:x.name||"",effectiveDate:x.effectiveDate?new Date(x.effectiveDate).toISOString().split("T")[0]:"",process:x.process||"application",subProcesses:x.subProcesses?Array.isArray(x.subProcesses)?x.subProcesses:[x.subProcess||"apply-leave"]:["apply-leave"]};if(console.log("Form values being set:",C),v.reset(C),x.steps&&Array.isArray(x.steps)){const R=x.steps.map((z,J)=>({id:z.id||Date.now().toString()+J,title:z.title||"",roleIds:z.roleIds||[],autoApproval:z.autoApproval||!1,days:z.days||0,hours:z.hours||0}));u(R)}else u([])}},[x,o,v]);const y=It({mutationFn:async C=>{const R=localStorage.getItem("org_id")||"60";return yt("POST","/api/workflows",{...C,orgId:parseInt(R)})},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/workflows"]}),i({title:"Success",description:"Workflow created successfully"}),l(!1),v.reset(),u([])},onError:C=>{i({title:"Error",description:C.message||"Failed to create workflow",variant:"destructive"})}}),j=It({mutationFn:async({id:C,data:R})=>yt("PATCH",`/api/workflows/${C}`,R),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/workflows"]}),l(!1),p(null),v.reset(),u([]),i({title:"Success",description:"Workflow updated successfully"})},onError:C=>{i({title:"Error",description:C.message||"Failed to update workflow",variant:"destructive"})}}),N=It({mutationFn:async C=>yt("DELETE",`/api/workflows/${C}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/workflows"]}),i({title:"Success",description:"Workflow deleted successfully"})},onError:C=>{i({title:"Error",description:C.message||"Failed to delete workflow",variant:"destructive"})}}),E=()=>{const C={id:Date.now().toString(),title:"",roleIds:[],autoApproval:!1,days:0,hours:0};u(R=>[...R,C])},S=C=>{u(R=>R.filter(z=>z.id!==C))},_=(C,R)=>{u(z=>z.map(J=>J.id===C?{...J,...R}:J))},D=C=>{if(h!==null){const R=c[h];_(R.id,{roleIds:C})}},F=C=>{var R;console.log("[openAssignRolesDialog] Opening for step:",C),console.log("[openAssignRolesDialog] Current reviewSteps:",c),console.log("[openAssignRolesDialog] Step roleIds:",(R=c[C])==null?void 0:R.roleIds),m(C),f(!0)},O=C=>{if(w!=null&&w.effectiveDate&&C.effectiveDate){const z=new Date(w.effectiveDate);if(new Date(C.effectiveDate)<z){v.setError("effectiveDate",{message:"Effective date cannot be before company setup date"});return}}const R={...C,steps:c.map(z=>({title:z.title,roleIds:z.roleIds,autoApproval:z.autoApproval,days:z.days||0,hours:z.hours||0}))};x?j.mutate({id:x.id,data:R}):y.mutate(R)},L=C=>{p(C),l(!0)},k=C=>{window.confirm("Are you sure you want to delete this workflow?")&&N.mutate(C)},P=C=>C.map(R=>{var z;return((z=g.find(J=>J.id===R))==null?void 0:z.name)||R.toString()}).join(", "),I=async()=>{r&&await r(),e()};return s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workflows Setup"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Create approval workflows to manage your organization's leave requests and compensation processes"})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Workflows"}),s.jsxs(Xn,{open:o,onOpenChange:C=>{l(C),C||(p(null),v.reset(),u([]))},children:[s.jsx(Zm,{asChild:!0,children:s.jsxs(ee,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Create Workflow"]})}),s.jsxs(Qn,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Zn,{children:s.jsx(Jn,{className:"text-xl font-semibold text-gray-900",children:x?"Edit Workflow":"New Workflow"})}),s.jsx(ti,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(O),className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(Ke,{control:v.control,name:"name",render:({field:C})=>s.jsxs(He,{children:[s.jsx(it,{children:"Workflow Name *"}),s.jsx(et,{children:s.jsx(ut,{placeholder:"Enter workflow name",...C})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:v.control,name:"effectiveDate",render:({field:C})=>s.jsxs(He,{children:[s.jsx(it,{children:"Effective Date *"}),s.jsx(et,{children:s.jsx(ut,{type:"date",...C})}),s.jsx(ft,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(Ke,{control:v.control,name:"process",render:({field:C})=>s.jsxs(He,{children:[s.jsx(it,{children:"Process *"}),s.jsxs(Nt,{onValueChange:C.onChange,value:C.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Select process"})})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"application",children:"Application"}),s.jsx(Ae,{value:"pto",children:"PTO"}),s.jsx(Ae,{value:"comp-off",children:"Comp-off"})]})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:v.control,name:"subProcesses",render:({field:C})=>{var R,z,J,U,q,Y,Q;return s.jsxs(He,{children:[s.jsx(it,{children:"Select sub-process *"}),s.jsx(et,{children:s.jsxs("div",{className:"space-y-2",children:[v.watch("process")==="application"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"apply-leave",checked:((R=C.value)==null?void 0:R.includes("apply-leave"))||!1,onCheckedChange:Z=>{const ue=C.value||[];Z?C.onChange([...ue,"apply-leave"]):C.onChange(ue.filter(he=>he!=="apply-leave"))}}),s.jsx(dt,{htmlFor:"apply-leave",className:"text-sm",children:"Apply Leave"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"withdraw-leave",checked:((z=C.value)==null?void 0:z.includes("withdraw-leave"))||!1,onCheckedChange:Z=>{const ue=C.value||[];Z?C.onChange([...ue,"withdraw-leave"]):C.onChange(ue.filter(he=>he!=="withdraw-leave"))}}),s.jsx(dt,{htmlFor:"withdraw-leave",className:"text-sm",children:"Withdraw Leave"})]})]}),v.watch("process")==="pto"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"apply-pto",checked:((J=C.value)==null?void 0:J.includes("apply-pto"))||!1,onCheckedChange:Z=>{const ue=C.value||[];Z?C.onChange([...ue,"apply-pto"]):C.onChange(ue.filter(he=>he!=="apply-pto"))}}),s.jsx(dt,{htmlFor:"apply-pto",className:"text-sm",children:"Apply PTO"})]})}),v.watch("process")==="comp-off"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"bank-comp-off",checked:((U=C.value)==null?void 0:U.includes("bank-comp-off"))||!1,onCheckedChange:Z=>{const ue=C.value||[];Z?C.onChange([...ue,"bank-comp-off"]):C.onChange(ue.filter(he=>he!=="bank-comp-off"))}}),s.jsx(dt,{htmlFor:"bank-comp-off",className:"text-sm",children:"Bank Comp-off"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"avail-comp-off",checked:((q=C.value)==null?void 0:q.includes("avail-comp-off"))||!1,onCheckedChange:Z=>{const ue=C.value||[];Z?C.onChange([...ue,"avail-comp-off"]):C.onChange(ue.filter(he=>he!=="avail-comp-off"))}}),s.jsx(dt,{htmlFor:"avail-comp-off",className:"text-sm",children:"Avail Comp-off"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"transfer-comp-off",checked:((Y=C.value)==null?void 0:Y.includes("transfer-comp-off"))||!1,onCheckedChange:Z=>{const ue=C.value||[];Z?C.onChange([...ue,"transfer-comp-off"]):C.onChange(ue.filter(he=>he!=="transfer-comp-off"))}}),s.jsx(dt,{htmlFor:"transfer-comp-off",className:"text-sm",children:"Transfer to Leaves"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"encash-comp-off",checked:((Q=C.value)==null?void 0:Q.includes("encash-comp-off"))||!1,onCheckedChange:Z=>{const ue=C.value||[];Z?C.onChange([...ue,"encash-comp-off"]):C.onChange(ue.filter(he=>he!=="encash-comp-off"))}}),s.jsx(dt,{htmlFor:"encash-comp-off",className:"text-sm",children:"En-Cash Comp"})]})]})]})}),s.jsx(ft,{})]})}})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Review Steps"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure the approval process for this workflow"})]}),s.jsxs(ee,{type:"button",variant:"outline",onClick:E,className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Add Step"]})]}),s.jsx("div",{className:"space-y-4",children:c.map((C,R)=>s.jsxs(Ne,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:["Review ",R+1]}),s.jsx(ut,{placeholder:"Step title",value:C.title,onChange:z=>_(C.id,{title:z.target.value}),className:"mt-2"})]}),c.length>1&&s.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(C.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Ea,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700",children:"Assigned Roles"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[C.roleIds.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:C.roleIds.map(z=>{var J;return s.jsx($t,{variant:"secondary",children:((J=g.find(U=>U.id===z))==null?void 0:J.name)||z},z)})}):s.jsx("span",{className:"text-sm text-gray-500",children:"No roles assigned"}),s.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>F(R),children:"Assign Roles"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:`auto-approval-${C.id}`,checked:C.autoApproval,onCheckedChange:z=>_(C.id,{autoApproval:z})}),s.jsx(dt,{htmlFor:`auto-approval-${C.id}`,className:"text-sm",children:R===c.length-1?"Enable auto-approval if all conditions are met":"Forward to the next review"})]}),C.autoApproval&&s.jsxs("div",{className:"ml-6 space-y-2",children:[s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Auto-approve after:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ut,{type:"number",min:"0",placeholder:"0",value:C.days||"",onChange:z=>_(C.id,{days:parseInt(z.target.value)||0}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs text-gray-500",children:"days"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ut,{type:"number",min:"0",max:"23",placeholder:"0",value:C.hours||"",onChange:z=>_(C.id,{hours:parseInt(z.target.value)||0}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs text-gray-500",children:"hours"})]})]})]})]})]})]},C.id))}),c.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No review steps configured. Add steps to create an approval workflow."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:y.isPending||j.isPending,children:x?"Update Workflow":"Create Workflow"})]})]})})]})]})]}),b.length===0?s.jsxs(Ne,{className:"p-8 text-center",children:[s.jsx(uo,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflows configured"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first workflow to start managing approval processes"})]}):s.jsx("div",{className:"grid gap-4",children:b.map(C=>s.jsx(Ne,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),s.jsxs($t,{variant:"outline",children:[C.process," - ",C.subProcess]})]}),s.jsx("div",{className:"text-sm text-gray-600 mb-3",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wr,{className:"h-4 w-4"}),"Effective from: ",new Date(C.effectiveDate).toLocaleDateString()]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Review Steps:"}),C.steps&&C.steps.length>0?s.jsx("div",{className:"grid gap-2",children:C.steps.map((R,z)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"font-medium",children:["Step ",z+1,": ",R.title||"Untitled Step"]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Roles: ",P(R.roleIds)||"No roles assigned"]})]}),R.autoApproval&&s.jsx($t,{variant:"secondary",children:"Auto-approval"})]},z))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"No review steps configured"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>L(C),children:"Edit"}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>k(C.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]})},C.id))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[s.jsx(ee,{variant:"outline",onClick:t,disabled:a,children:"Previous"}),s.jsx("div",{className:"flex items-center gap-3",children:b.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(gn,{className:"h-5 w-5"}),s.jsxs("span",{className:"text-sm font-medium",children:[b.length," workflow(s) configured"]})]})}),s.jsx(ee,{onClick:I,disabled:a,className:"bg-blue-600 hover:bg-blue-700",children:n?"Complete Setup":"Next"})]}),s.jsx(ree,{open:d,onOpenChange:f,onAssign:D,selectedRoleIds:h!==null?((M=c[h])==null?void 0:M.roleIds)||[]:[]})]})}const aee=we.object({leaveVariantName:we.string().min(1,"Comp-off variant name is required"),description:we.string().min(1,"Description is required"),allowFullDay:we.boolean(),allowHalfDay:we.boolean(),allowQuarterDay:we.boolean(),fullDayHours:we.number().min(0).optional(),halfDayHours:we.number().min(0).optional(),quarterDayHours:we.number().min(0).optional(),maxApplications:we.number().min(1,"Max applications is required"),maxApplicationsPeriod:we.enum(["Month","Quarter","Year"]),workflowRequired:we.boolean(),approvalAdvanceDays:we.number().min(0),availWithinDays:we.number().min(0),allowNonWorkingDays:we.boolean(),withdrawalBeforeApproval:we.boolean(),withdrawalAfterApproval:we.boolean(),withdrawalNotAllowed:we.boolean(),allowedDuringNotice:we.boolean(),enableCarryForward:we.boolean(),carryForwardDays:we.number().min(0).optional(),enableLapse:we.boolean(),lapsePeriod:we.number().min(0).optional(),lapsePeriodUnit:we.enum(["Days","Month","Quarter","Year"]).optional(),enableCompensation:we.boolean(),maxEncashmentDays:we.number().min(0).optional(),maxEncashmentHours:we.number().min(0).optional(),encashmentOption:we.boolean(),convertToLeavesOption:we.boolean(),encashmentBasedOn:we.enum(["basic_pay","basic_plus_dearness_allowance","gross_pay"]).optional(),convertibleLeaveTypes:we.array(we.number()).optional()});function see({variant:e,onClose:t}){const{toast:r}=Lr(),[n,a]=T.useState(!1),[i,o]=T.useState([]),{data:l=[]}=Le({queryKey:[`/api/employee-assignments/comp-off-variant/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,refetchOnWindowFocus:!1}),[c,u]=T.useState([]),d=T.useRef([]);T.useEffect(()=>{(async()=>{try{const y=(await Ds()).map(Su);console.log("CompOff: Loaded",y.length,"employees from external API"),u(y)}catch(w){console.error("CompOff: Error loading employees:",w),u([])}})()},[]);const{data:f}=Le({queryKey:["/api/leave-types"]}),{data:h}=Le({queryKey:["/api/leave-variants"]}),m=(f||[]).filter(g=>(h||[]).some(w=>w.leaveTypeId===g.id)),x=Za({resolver:bs(aee),defaultValues:{leaveVariantName:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",allowFullDay:(e==null?void 0:e.allowFullDay)||!1,allowHalfDay:(e==null?void 0:e.allowHalfDay)||!1,allowQuarterDay:(e==null?void 0:e.allowQuarterDay)||!1,fullDayHours:(e==null?void 0:e.fullDayHours)||8,halfDayHours:(e==null?void 0:e.halfDayHours)||4,quarterDayHours:(e==null?void 0:e.quarterDayHours)||2,maxApplications:(e==null?void 0:e.maxApplications)||0,maxApplicationsPeriod:(e==null?void 0:e.maxApplicationsPeriod)||"Month",workflowRequired:(e==null?void 0:e.workflowRequired)||!1,approvalAdvanceDays:(e==null?void 0:e.approvalAdvanceDays)||0,availWithinDays:(e==null?void 0:e.availWithinDays)||0,allowNonWorkingDays:(e==null?void 0:e.allowNonWorkingDays)||!1,withdrawalBeforeApproval:(e==null?void 0:e.withdrawalBeforeApproval)||!0,withdrawalAfterApproval:(e==null?void 0:e.withdrawalAfterApproval)||!1,withdrawalNotAllowed:(e==null?void 0:e.withdrawalNotAllowed)||!1,allowedDuringNotice:(e==null?void 0:e.allowedDuringNotice)||!1,enableCarryForward:(e==null?void 0:e.enableCarryForward)||!1,carryForwardDays:(e==null?void 0:e.carryForwardDays)||0,enableLapse:(e==null?void 0:e.enableLapse)||!1,lapsePeriod:(e==null?void 0:e.lapsePeriod)||0,lapsePeriodUnit:(e==null?void 0:e.lapsePeriodUnit)||"Month",enableCompensation:(e==null?void 0:e.enableCompensation)||!1,maxEncashmentDays:(e==null?void 0:e.maxEncashmentDays)||0,maxEncashmentHours:(e==null?void 0:e.maxEncashmentHours)||0,encashmentOption:(e==null?void 0:e.encashmentOption)||!0,convertToLeavesOption:(e==null?void 0:e.convertToLeavesOption)||!1,encashmentBasedOn:(e==null?void 0:e.encashmentBasedOn)||"basic_pay",convertibleLeaveTypes:(e==null?void 0:e.convertibleLeaveTypes)||[]}});T.useEffect(()=>{if(e){console.log("=== FORM POPULATION DEBUG ==="),console.log("Variant data:",e);const g={leaveVariantName:e.name||"",description:e.description||"",workflowRequired:e.workflowRequired||!1,approvalAdvanceDays:e.approvalDays||0,availWithinDays:e.expiryDays===365?0:e.expiryDays||0,allowFullDay:e.allowFullDay!==void 0?e.allowFullDay:!0,allowHalfDay:e.allowHalfDay!==void 0?e.allowHalfDay:!0,allowQuarterDay:e.allowQuarterDay!==void 0?e.allowQuarterDay:!1,fullDayHours:e.fullDayHours||8,halfDayHours:e.halfDayHours||4,quarterDayHours:e.quarterDayHours||2,maxApplications:e.maxApplications||e.maxBalance||1,maxApplicationsPeriod:e.maxApplicationsPeriod||"Month",allowNonWorkingDays:e.allowNonWorkingDays||!1,withdrawalBeforeApproval:e.withdrawalBeforeApproval||!1,withdrawalAfterApproval:e.withdrawalAfterApproval||!1,withdrawalNotAllowed:e.withdrawalNotAllowed===!0&&!e.withdrawalBeforeApproval&&!e.withdrawalAfterApproval,allowedDuringNotice:e.allowedDuringNotice!==void 0?e.allowedDuringNotice:!1,enableCarryForward:e.enableCarryForward||!1,carryForwardDays:e.carryForwardDays||0,enableLapse:e.enableLapse||!1,lapsePeriod:e.lapsePeriod||0,lapsePeriodUnit:e.lapsePeriodUnit||"Month",enableCompensation:e.enableCompensation||!1,maxEncashmentDays:e.maxEncashmentDays||0,maxEncashmentHours:e.maxEncashmentHours||0,encashmentOption:e.encashmentOption!==void 0?e.encashmentOption:!0,convertToLeavesOption:e.convertToLeavesOption||!1,encashmentBasedOn:e.encashmentBasedOn||"basic_pay",convertibleLeaveTypes:e.convertibleLeaveTypes||[]};console.log("Form values being set:",g),x.reset(g),setTimeout(()=>{console.log("Actual form values after reset:",x.getValues())},100)}},[e,x]),T.useEffect(()=>{if(console.log("=== COMP-OFF EMPLOYEE MATCHING DEBUG ==="),console.log("CompOff: Loading assigned employees - variant ID:",e==null?void 0:e.id),console.log("CompOff: Existing assignments:",l),console.log("CompOff: All employees from external API:",c.length,"employees"),e!=null&&e.id&&Array.isArray(l)&&l.length>0){const g=l.map(w=>w.userId);if(console.log("CompOff: Assigned user IDs from database:",g),c.length===0){console.log("CompOff: External API failed, creating fallback employee objects");const w=g.map(y=>({user_id:y,user_name:`Employee ${y}`,employee_number:`E${y}`}));console.log("CompOff: Created fallback employees:",w),o(w),d.current=w}else{const w=c.filter(y=>{const j=y.user_id||y.id,N=g.includes(j);return N&&console.log("CompOff: Found assigned employee:",y.user_name,"with ID:",j),N});console.log("CompOff: Matched assigned employees from external API:",w.length),o(w),d.current=w}}else e!=null&&e.id?(console.log("CompOff: No assignments found - clearing assigned employees"),o([]),d.current=[]):(console.log("CompOff: New variant - clearing assignments"),o([]),d.current=[]);console.log("=== END COMP-OFF EMPLOYEE MATCHING DEBUG ===")},[l,e==null?void 0:e.id,c]);const p=It({mutationFn:async g=>{console.log("=== FORM SUBMISSION DEBUG ==="),console.log("Raw form data:",g);const w={name:g.leaveVariantName,description:g.description,enabled:!0,allowFullDay:g.allowFullDay||!1,fullDayHours:g.fullDayHours||0,allowHalfDay:g.allowHalfDay||!1,halfDayHours:g.halfDayHours||0,allowQuarterDay:g.allowQuarterDay||!1,quarterDayHours:g.quarterDayHours||0,maxApplications:g.maxApplications||1,maxApplicationsPeriod:g.maxApplicationsPeriod||"Month",workflowRequired:g.workflowRequired||!1,documentsRequired:!1,applicableAfter:0,approvalDays:g.approvalAdvanceDays||0,expiryDays:g.availWithinDays||365,allowNonWorkingDays:g.allowNonWorkingDays||!1,withdrawalBeforeApproval:g.withdrawalBeforeApproval||!1,withdrawalAfterApproval:g.withdrawalAfterApproval||!1,withdrawalNotAllowed:g.withdrawalNotAllowed||!0,allowedDuringNotice:g.allowedDuringNotice||!0,enableCarryForward:g.enableCarryForward||!1,carryForwardDays:g.carryForwardDays||0,enableLapse:g.enableLapse||!1,lapsePeriod:g.lapsePeriod||0,lapsePeriodUnit:g.lapsePeriodUnit||"Month",enableCompensation:g.enableCompensation||!1,encashmentOption:g.encashmentOption||!1,convertToLeavesOption:g.convertToLeavesOption||!1,encashmentBasedOn:g.encashmentBasedOn||null,maxEncashmentDays:g.maxEncashmentDays||0,maxEncashmentHours:g.maxEncashmentHours||0,convertibleLeaveTypes:g.convertibleLeaveTypes||[],maxBalance:g.maxApplications||1};return console.log("Payload being sent to API:",w),e!=null&&e.id?await yt("PATCH",`/api/comp-off-variants/${e.id}`,w):await yt("POST","/api/comp-off-variants",w)},onSuccess:()=>{r({title:"Success",description:e!=null&&e.id?"Comp-off variant updated successfully":"Comp-off variant created successfully"}),Ye.invalidateQueries({queryKey:["/api/comp-off-variants"]}),t()},onError:g=>{r({title:"Error",description:g.message||"Failed to save comp-off variant",variant:"destructive"})}}),v=g=>{if(console.log("=== FORM SUBMISSION TRIGGERED ==="),console.log("Form submission triggered with data:",g),console.log("Form errors:",x.formState.errors),console.log("Form is valid:",x.formState.isValid),!g.leaveVariantName||g.leaveVariantName.trim()===""){r({title:"Validation Error",description:"Comp-off variant name is required and cannot be left blank.",variant:"destructive"});return}if(!g.description||g.description.trim()===""){r({title:"Validation Error",description:"Description is required and cannot be left blank.",variant:"destructive"});return}if(!g.allowFullDay&&!g.allowHalfDay&&!g.allowQuarterDay){r({title:"Validation Error",description:"Please select at least one comp-off unit (Full Day, Half Day, or Quarter Day).",variant:"destructive"});return}const w=g.fullDayHours||0,y=g.halfDayHours||0,j=g.quarterDayHours||0;if(g.allowFullDay&&(!g.fullDayHours||g.fullDayHours<=0)){r({title:"Validation Error",description:"Full Day hours is required and must be greater than 0.",variant:"destructive"});return}if(g.allowHalfDay&&(!g.halfDayHours||g.halfDayHours<=0)){r({title:"Validation Error",description:"Half Day hours is required and must be greater than 0.",variant:"destructive"});return}if(g.allowQuarterDay&&(!g.quarterDayHours||g.quarterDayHours<=0)){r({title:"Validation Error",description:"Quarter Day hours is required and must be greater than 0.",variant:"destructive"});return}if(g.allowFullDay&&g.allowHalfDay&&w>0&&y>0&&w===y){r({title:"Validation Error",description:"Full Day and Half Day hours cannot be the same.",variant:"destructive"});return}if(g.allowFullDay&&g.allowQuarterDay&&w>0&&j>0&&w===j){r({title:"Validation Error",description:"Full Day and Quarter Day hours cannot be the same.",variant:"destructive"});return}if(g.allowHalfDay&&g.allowQuarterDay&&y>0&&j>0&&y===j){r({title:"Validation Error",description:"Half Day and Quarter Day hours cannot be the same.",variant:"destructive"});return}if(g.allowFullDay&&g.allowHalfDay&&w>0&&y>0&&w<=y){r({title:"Validation Error",description:"Full Day hours must be greater than Half Day hours.",variant:"destructive"});return}if(g.allowHalfDay&&g.allowQuarterDay&&y>0&&j>0&&y<=j){r({title:"Validation Error",description:"Half Day hours must be greater than Quarter Day hours.",variant:"destructive"});return}if(g.allowFullDay&&g.allowQuarterDay&&w>0&&j>0&&w<=j){r({title:"Validation Error",description:"Full Day hours must be greater than Quarter Day hours.",variant:"destructive"});return}p.mutate(g)},b=async g=>{if(o(g),a(!1),!(e!=null&&e.id)){r({title:"Info",description:"Employee assignments will be saved after creating the comp-off variant."});return}try{if(!(await fetch("/api/employee-assignments/bulk",{method:"POST",headers:{"Content-Type":"application/json","X-Org-Id":localStorage.getItem("org_id")||"13"},body:JSON.stringify({leaveVariantId:e.id,assignmentType:"comp_off_variant",userIds:g.map(y=>y.user_id||y.id)})})).ok)throw new Error("Failed to save employee assignments");d.current=g,r({title:"Success",description:"Employee assignments updated successfully"})}catch{r({title:"Error",description:"Failed to save employee assignments",variant:"destructive"})}};return n?s.jsx(Hy,{onClose:()=>a(!1),onAssign:b,preSelectedEmployees:i}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[95vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center p-6 border-b",children:[s.jsx(ee,{variant:"ghost",size:"sm",onClick:t,className:"mr-4",children:s.jsx(wy,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-green-100",children:s.jsx(un,{className:"w-4 h-4 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold",children:e?"Edit Comp-off Variant":"Create Comp-off Variant"})]})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-180px)]",children:s.jsx(ti,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(v),className:"p-8 space-y-8 pb-12",children:[s.jsxs(Ne,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Comp-off units allowed"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure the time units and their corresponding hours for comp-off applications"})]}),s.jsx(_e,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ke,{control:x.control,name:"allowFullDay",render:({field:g})=>s.jsxs(He,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(et,{children:s.jsx(Tt,{checked:g.value,onCheckedChange:g.onChange})}),s.jsx(it,{children:"Full Day (hours)"})]})}),x.watch("allowFullDay")&&s.jsx(Ke,{control:x.control,name:"fullDayHours",render:({field:g})=>s.jsxs(He,{children:[s.jsx(et,{children:s.jsx(ut,{type:"number",placeholder:"8",className:`w-24 ${x.watch("allowFullDay")&&(!g.value||g.value<=0)?"border-red-300":""}`,min:"1",step:"1",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})}),x.watch("allowFullDay")&&(!g.value||g.value<=0)&&s.jsxs("span",{className:"text-xs text-red-500",children:["Required and must be ",">"," 0"]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ke,{control:x.control,name:"allowHalfDay",render:({field:g})=>s.jsxs(He,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(et,{children:s.jsx(Tt,{checked:g.value,onCheckedChange:g.onChange})}),s.jsx(it,{children:"Half Day (hours)"})]})}),x.watch("allowHalfDay")&&s.jsx(Ke,{control:x.control,name:"halfDayHours",render:({field:g})=>s.jsxs(He,{children:[s.jsx(et,{children:s.jsx(ut,{type:"number",placeholder:"4",className:`w-24 ${x.watch("allowHalfDay")&&(!g.value||g.value<=0)?"border-red-300":""}`,min:"1",step:"1",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})}),x.watch("allowHalfDay")&&(!g.value||g.value<=0)&&s.jsxs("span",{className:"text-xs text-red-500",children:["Required and must be ",">"," 0"]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ke,{control:x.control,name:"allowQuarterDay",render:({field:g})=>s.jsxs(He,{className:"flex flex-row items-center space-x-3 space-y-0",children:[s.jsx(et,{children:s.jsx(Tt,{checked:g.value,onCheckedChange:g.onChange})}),s.jsx(it,{children:"Quarter Day (hours)"})]})}),x.watch("allowQuarterDay")&&s.jsx(Ke,{control:x.control,name:"quarterDayHours",render:({field:g})=>s.jsxs(He,{children:[s.jsx(et,{children:s.jsx(ut,{type:"number",placeholder:"2",className:`w-24 ${x.watch("allowQuarterDay")&&(!g.value||g.value<=0)?"border-red-300":""}`,min:"1",step:"1",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})}),x.watch("allowQuarterDay")&&(!g.value||g.value<=0)&&s.jsxs("span",{className:"text-xs text-red-500",children:["Required and must be ",">"," 0"]})]})})]}),(()=>{const g=x.watch("fullDayHours")||0,w=x.watch("halfDayHours")||0,y=x.watch("quarterDayHours")||0,j=x.watch("allowFullDay"),N=x.watch("allowHalfDay"),E=x.watch("allowQuarterDay"),S=[];return j&&N&&g>0&&w>0&&g===w&&S.push("Full Day and Half Day hours cannot be the same"),j&&E&&g>0&&y>0&&g===y&&S.push("Full Day and Quarter Day hours cannot be the same"),N&&E&&w>0&&y>0&&w===y&&S.push("Half Day and Quarter Day hours cannot be the same"),j&&N&&g>0&&w>0&&g<=w&&S.push("Full Day hours must be greater than Half Day hours"),N&&E&&w>0&&y>0&&w<=y&&S.push("Half Day hours must be greater than Quarter Day hours"),j&&E&&g>0&&y>0&&g<=y&&S.push("Full Day hours must be greater than Quarter Day hours"),S.length>0?s.jsx("div",{className:"space-y-1",children:S.map((_,D)=>s.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded border border-red-200",children:_},D))}):null})()]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ke,{control:x.control,name:"leaveVariantName",render:({field:g})=>s.jsxs(He,{children:[s.jsxs(it,{children:["Comp-off Variant Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(et,{children:s.jsx(ut,{placeholder:"eg. For Factory Employees in Karnataka",className:!g.value||g.value.trim()===""?"border-red-300":"",...g})}),(!g.value||g.value.trim()==="")&&s.jsx("span",{className:"text-xs text-red-500",children:"Comp-off variant name is required and cannot be left blank"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Create tailored comp-off policies for specific groups of employees using variants"}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:x.control,name:"description",render:({field:g})=>s.jsxs(He,{children:[s.jsxs(it,{children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(et,{children:s.jsx(wn,{placeholder:"eg. Earn comp-offs for working extra hours and use them for time off",rows:3,className:!g.value||g.value.trim()===""?"border-red-300":"",...g})}),(!g.value||g.value.trim()==="")&&s.jsx("span",{className:"text-xs text-red-500",children:"Description is required and cannot be left blank"}),s.jsx(ft,{})]})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Eligibility Criteria"})}),s.jsxs(_e,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Maximum Comp-Off applications"}),s.jsx(Ke,{control:x.control,name:"maxApplications",render:({field:g})=>s.jsx(He,{children:s.jsx(et,{children:s.jsx(ut,{type:"number",className:"w-20",min:"0",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(applications)"}),s.jsx("span",{className:"text-sm",children:"in a"}),s.jsx(Ke,{control:x.control,name:"maxApplicationsPeriod",render:({field:g})=>s.jsx(He,{children:s.jsxs(Nt,{onValueChange:g.onChange,defaultValue:g.value,children:[s.jsx(et,{children:s.jsx(wt,{className:"w-32",children:s.jsx(St,{})})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"Month",children:"Month"}),s.jsx(Ae,{value:"Quarter",children:"Quarter"}),s.jsx(Ae,{value:"Year",children:"Year"})]})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Does this require a review workflow for approval?"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",variant:x.watch("workflowRequired")?"default":"outline",className:`px-4 py-1 text-sm ${x.watch("workflowRequired")?"bg-green-600 text-white":""}`,onClick:()=>x.setValue("workflowRequired",!0),children:"Workflow"}),s.jsx(ee,{type:"button",variant:x.watch("workflowRequired")?"outline":"default",className:`px-4 py-1 text-sm ${x.watch("workflowRequired")?"":"bg-green-600 text-white"}`,onClick:()=>x.setValue("workflowRequired",!1),children:"No Workflow"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Approval request should be made"}),s.jsx(Ke,{control:x.control,name:"approvalAdvanceDays",render:({field:g})=>s.jsx(He,{children:s.jsx(et,{children:s.jsx(ut,{type:"number",className:"w-20",min:"0",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"}),s.jsx("span",{className:"text-sm",children:"in advance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Allow on non-working days?"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",variant:x.watch("allowNonWorkingDays")?"default":"outline",className:`px-4 py-1 text-sm ${x.watch("allowNonWorkingDays")?"bg-green-600 text-white":""}`,onClick:()=>x.setValue("allowNonWorkingDays",!0),children:"Allowed"}),s.jsx(ee,{type:"button",variant:x.watch("allowNonWorkingDays")?"outline":"default",className:`px-4 py-1 text-sm ${x.watch("allowNonWorkingDays")?"":"bg-green-600 text-white"}`,onClick:()=>x.setValue("allowNonWorkingDays",!1),children:"Not Allowed"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm",children:"Withdrawal of application allowed"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:x.watch("withdrawalBeforeApproval"),onCheckedChange:g=>{x.setValue("withdrawalBeforeApproval",!!g),g&&x.setValue("withdrawalNotAllowed",!1)}}),s.jsx("span",{className:"text-sm",children:"Before approval"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:x.watch("withdrawalAfterApproval"),onCheckedChange:g=>{x.setValue("withdrawalAfterApproval",!!g),g&&x.setValue("withdrawalNotAllowed",!1)}}),s.jsx("span",{className:"text-sm",children:"After approval"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{checked:x.watch("withdrawalNotAllowed"),onCheckedChange:g=>{x.setValue("withdrawalNotAllowed",!!g),g&&(x.setValue("withdrawalBeforeApproval",!1),x.setValue("withdrawalAfterApproval",!1))}}),s.jsx("span",{className:"text-sm",children:"Not allowed"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"During notice period, Comp-offs are"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{type:"button",variant:x.watch("allowedDuringNotice")?"default":"outline",className:`px-4 py-1 text-sm ${x.watch("allowedDuringNotice")?"bg-green-600 text-white":""}`,onClick:()=>x.setValue("allowedDuringNotice",!0),children:"Allowed"}),s.jsx(ee,{type:"button",variant:x.watch("allowedDuringNotice")?"outline":"default",className:`px-4 py-1 text-sm ${x.watch("allowedDuringNotice")?"":"bg-green-600 text-white"}`,onClick:()=>x.setValue("allowedDuringNotice",!1),children:"Not Allowed"})]})]})]})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Carry Forward and lapse"}),s.jsx(Qs,{checked:x.watch("enableCarryForward")||x.watch("enableLapse"),onCheckedChange:g=>{x.setValue("enableCarryForward",g),x.setValue("enableLapse",g)}})]})}),s.jsx(_e,{className:"space-y-4",children:(x.watch("enableCarryForward")||x.watch("enableLapse"))&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Earned Comp-Off days will lapse in"}),s.jsx(Ke,{control:x.control,name:"lapsePeriod",render:({field:g})=>s.jsx(He,{children:s.jsx(et,{children:s.jsx(ut,{type:"number",className:"w-20",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})})})}),s.jsx(Ke,{control:x.control,name:"lapsePeriodUnit",render:({field:g})=>s.jsx(He,{children:s.jsxs(Nt,{onValueChange:g.onChange,defaultValue:g.value,children:[s.jsx(et,{children:s.jsx(wt,{className:"w-32",children:s.jsx(St,{})})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"Days",children:"Days"}),s.jsx(Ae,{value:"Month",children:"Month"}),s.jsx(Ae,{value:"Quarter",children:"Quarter"}),s.jsx(Ae,{value:"Year",children:"Year"})]})]})})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Carry forward to next cycle"}),s.jsx(Ke,{control:x.control,name:"carryForwardDays",render:({field:g})=>s.jsx(He,{children:s.jsx(et,{children:s.jsx(ut,{type:"number",className:"w-20",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"})]})]})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"Compensation"}),s.jsx(Qs,{checked:x.watch("enableCompensation"),onCheckedChange:g=>x.setValue("enableCompensation",g)})]})}),s.jsx(_e,{className:"space-y-4",children:x.watch("enableCompensation")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Maximum days that can be encashed"}),s.jsx(Ke,{control:x.control,name:"maxEncashmentDays",render:({field:g})=>s.jsx(He,{children:s.jsx(et,{children:s.jsx(ut,{type:"number",className:"w-20",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"}),s.jsx(Ke,{control:x.control,name:"maxEncashmentHours",render:({field:g})=>s.jsx(He,{children:s.jsx(et,{children:s.jsx(ut,{type:"number",className:"w-20",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(hours)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm",children:"Compensation options"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(Ke,{control:x.control,name:"encashmentOption",render:({field:g})=>s.jsxs(He,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(et,{children:s.jsx(Tt,{checked:g.value,onCheckedChange:g.onChange})}),s.jsx(it,{className:"text-sm",children:"En-cashment"})]})}),s.jsx(Ke,{control:x.control,name:"convertToLeavesOption",render:({field:g})=>s.jsxs(He,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(et,{children:s.jsx(Tt,{checked:g.value,onCheckedChange:g.onChange})}),s.jsx(it,{className:"text-sm",children:"Convert to leaves"})]})})]})]}),x.watch("encashmentOption")&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-blue-200",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Encashment based on"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ke,{control:x.control,name:"encashmentBasedOn",render:({field:g})=>s.jsxs(He,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(et,{children:s.jsx("input",{type:"radio",value:"basic_pay",checked:g.value==="basic_pay",onChange:()=>g.onChange("basic_pay")})}),s.jsx(it,{className:"text-sm",children:"Basic Pay"})]})}),s.jsx(Ke,{control:x.control,name:"encashmentBasedOn",render:({field:g})=>s.jsxs(He,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(et,{children:s.jsx("input",{type:"radio",value:"basic_plus_dearness_allowance",checked:g.value==="basic_plus_dearness_allowance",onChange:()=>g.onChange("basic_plus_dearness_allowance")})}),s.jsx(it,{className:"text-sm",children:"Basic + Dearness Allowance"})]})}),s.jsx(Ke,{control:x.control,name:"encashmentBasedOn",render:({field:g})=>s.jsxs(He,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(et,{children:s.jsx("input",{type:"radio",value:"gross_pay",checked:g.value==="gross_pay",onChange:()=>g.onChange("gross_pay")})}),s.jsx(it,{className:"text-sm",children:"Gross Pay"})]})})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm",children:"Max encashment"}),s.jsx(Ke,{control:x.control,name:"maxEncashmentDays",render:({field:g})=>s.jsx(He,{children:s.jsx(et,{children:s.jsx(ut,{type:"number",min:"0",className:"w-20",...g,onChange:w=>g.onChange(parseInt(w.target.value)||0)})})})}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"})]})]}),x.watch("convertToLeavesOption")&&s.jsx("div",{className:"space-y-4 pl-4 border-l-2 border-green-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Convert to which leave types"}),s.jsxs("div",{className:"space-y-2",children:[m.map(g=>s.jsx(Ke,{control:x.control,name:"convertibleLeaveTypes",render:({field:w})=>{var y;return s.jsxs(He,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(et,{children:s.jsx(Tt,{checked:((y=w.value)==null?void 0:y.includes(g.id))||!1,onCheckedChange:j=>{const N=w.value||[];j?w.onChange([...N,g.id]):w.onChange(N.filter(E=>E!==g.id))}})}),s.jsx(it,{className:"text-sm",children:g.name})]})}},g.id)),m.length===0&&s.jsx("div",{className:"text-sm text-gray-500 italic",children:"No leave types with variants available"})]})]})})]})]})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(mt,{children:"Assign to Employees"}),s.jsxs(ee,{variant:"outline",type:"button",onClick:()=>a(!0),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),"Assign Employees"]})]})}),i.length>0&&s.jsx(_e,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.length," employee",i.length>1?"s":""," assigned"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.slice(0,3).map((g,w)=>s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-1",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-blue-600",children:(g.name||g.user_name||`Employee ${g.user_id}`).charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-xs text-gray-700",children:g.name||g.user_name||`Employee ${g.user_id}`})]},g.user_id)),i.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",i.length-3," more"]})]})]})})]}),s.jsxs("div",{className:"flex justify-between p-8 mt-4 border-t bg-gray-50 sticky bottom-0",children:[s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(ee,{variant:"outline",onClick:t,type:"button",className:"px-6 py-3 min-h-[44px]",children:"Discard"}),(e==null?void 0:e.id)&&s.jsx(ee,{variant:"destructive",onClick:()=>{console.log("Delete variant:",e.id)},type:"button",className:"px-6 py-3 min-h-[44px]",children:"Delete Variant"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsx(ee,{type:"button",onClick:()=>{console.log("Update button clicked - triggering manual form submission");const g=x.getValues();console.log("Current form values:",g),v(g)},disabled:p.isPending,className:"px-6 py-3 min-h-[44px]",children:p.isPending?"Saving...":e?"Update Comp-off Variant":"Create Comp-off Variant"})})]})]})})})]})})}function F6({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const{toast:a}=Lr(),[i,o]=T.useState(!0),[l,c]=T.useState(!1),[u,d]=T.useState(null),[f,h]=T.useState(!1),[m,x]=T.useState({}),[p,v]=T.useState(null),{data:b=[]}=Le({queryKey:["/api/comp-off-variants"]}),g=b,[w,y]=T.useState([]);T.useEffect(()=>{(async()=>{try{const M=(await Ds()).map(Su);console.log("CompOffSetup: External API loaded employees:",M.length),y(M)}catch(I){console.error("CompOffSetup: Error loading employees from external API:",I),y([])}})()},[]),T.useEffect(()=>{g&&g.length>0&&(async()=>{const I={};for(const M of g)try{const C=await fetch(`/api/employee-assignments/comp-off-variant/${M.id}`,{credentials:"include"});if(C.ok){const R=await C.json();if(console.log(`CompOff assignments for variant ${M.id}:`,R),Array.isArray(R)&&R.length>0){const z=R.map(U=>U.userId);console.log(`CompOff assigned user IDs for variant ${M.id}:`,z);const J=w.filter(U=>{const q=U.user_id||U.id,Y=z.includes(q)||z.includes(q==null?void 0:q.toString());return Y&&console.log(`CompOff employee matched: ${U.user_name||U.name} (ID: ${q})`),Y});I[M.id]=J,console.log(`CompOff final assignments for variant ${M.id}:`,J)}}}catch(C){console.error(`Error loading assignments for variant ${M.id}:`,C)}x(I)})()},[g.length,w.length]);const{data:j}=Le({queryKey:["/api/comp-off-config"]});T.useEffect(()=>{j&&typeof j=="object"&&"enabled"in j&&o(j.enabled!==!1)},[j]);const N=It({mutationFn:async P=>await yt("POST","/api/comp-off-config",{enabled:P}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/comp-off-config"]}),a({title:"Success",description:i?"Comp off enabled successfully.":"Comp off disabled successfully."})},onError:P=>{a({title:"Error",description:"Failed to update comp off configuration.",variant:"destructive"})}}),E=P=>{o(P),N.mutate(P)},S=()=>{d(null),c(!0)},_=P=>{d(P),c(!0)},D=P=>{v(P),h(!0)},F=async P=>{if(p)try{const I=P.map(M=>({userId:M.user_id||M.id,leaveVariantId:p.id,assignmentType:"comp_off_variant"}));console.log("CompOff Assignment payload:",I),await yt("POST","/api/employee-assignments/bulk",{assignments:I}),x(M=>({...M,[p.id]:P})),a({title:"Success",description:`${P.length} employee${P.length>1?"s":""} assigned to ${p.leaveVariantName}.`})}catch{a({title:"Error",description:"Failed to save employee assignments.",variant:"destructive"})}h(!1),v(null)},O=It({mutationFn:async P=>await yt("DELETE",`/api/comp-off-variants/${P}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/comp-off-variants"]}),a({title:"Success",description:"Comp-off variant deleted successfully."})},onError:P=>{a({title:"Error",description:"Failed to delete variant. Please try again.",variant:"destructive"})}}),L=P=>{P&&P.id&&confirm("Are you sure you want to delete this variant?")&&O.mutate(P.id)},k=()=>{e()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Comp off"}),s.jsx(Qs,{checked:i,onCheckedChange:E,className:"data-[state=checked]:bg-green-600"})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Variants"}),g.map(P=>{var I,M;return s.jsx(Ne,{className:"mb-4",children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:P.name||P.leaveVariantName}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Applied to ",((I=m[P.id])==null?void 0:I.length)||0," Employee",(((M=m[P.id])==null?void 0:M.length)||0)!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>D(P),children:[s.jsx(un,{className:"w-4 h-4 mr-1"}),"Assign Employees"]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:()=>L(P),children:["Delete",s.jsx(Ea,{className:"w-4 h-4 ml-1"})]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"text-gray-600 border-gray-300 hover:bg-gray-50",onClick:()=>_(P),children:["Edit",s.jsx(Nu,{className:"w-4 h-4 ml-1"})]})]})]})})},P.id)}),g.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"No comp off variants created yet."}),s.jsx("p",{className:"text-sm",children:'Click "Create Comp-off variant" to get started.'})]}),s.jsxs(ee,{variant:"outline",onClick:S,className:"text-green-600 border-green-600 hover:bg-green-50",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create Comp-off variant"]})]}),s.jsxs("div",{className:"flex justify-between pt-8",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:t,className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"Previous"}),s.jsx(ee,{onClick:k,disabled:n,className:"bg-primary hover:bg-primary/90",children:r?"Complete Setup":"Next"})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx(see,{variant:u,onClose:()=>c(!1)})}),f&&s.jsx(Hy,{onClose:()=>h(!1),onAssign:F,applicableGenders:[]})]})}function Oc({size:e="md",text:t="Loading...",className:r}){const n={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},a={sm:"text-sm",md:"text-base",lg:"text-lg"};return s.jsxs("div",{className:tt("flex flex-col items-center justify-center space-y-4",r),children:[s.jsx("div",{className:tt("relative",n[e]),children:s.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full animate-dance",children:[s.jsx("circle",{cx:"50",cy:"20",r:"8",fill:"currentColor",className:"text-blue-500"}),s.jsx("rect",{x:"46",y:"28",width:"8",height:"25",rx:"4",fill:"currentColor",className:"text-blue-500"}),s.jsx("rect",{x:"38",y:"32",width:"8",height:"3",rx:"1.5",fill:"currentColor",className:"text-blue-500 animate-wave-left"}),s.jsx("rect",{x:"54",y:"32",width:"8",height:"3",rx:"1.5",fill:"currentColor",className:"text-blue-500 animate-wave-right"}),s.jsx("rect",{x:"44",y:"53",width:"4",height:"20",rx:"2",fill:"currentColor",className:"text-blue-500 animate-kick-left"}),s.jsx("rect",{x:"52",y:"53",width:"4",height:"20",rx:"2",fill:"currentColor",className:"text-blue-500 animate-kick-right"}),s.jsx("ellipse",{cx:"44",cy:"78",rx:"6",ry:"3",fill:"currentColor",className:"text-blue-600 animate-step-left"}),s.jsx("ellipse",{cx:"54",cy:"78",rx:"6",ry:"3",fill:"currentColor",className:"text-blue-600 animate-step-right"})]})}),t&&s.jsx("p",{className:tt("text-gray-600 font-medium animate-pulse",a[e]),children:t})]})}function iee({text:e="Loading..."}){return s.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsx(Oc,{size:"lg",text:e})})}function oee({text:e,className:t}){return s.jsx("div",{className:tt("flex items-center justify-center py-8",t),children:s.jsx(Oc,{size:"md",text:e})})}function lee({variant:e,onClose:t}){const{toast:r}=Lr(),n=!!e,[a,i]=T.useState(!1),[o,l]=T.useState([]),[c,u]=T.useState((e==null?void 0:e.halfDay)||!1),[d,f]=T.useState((e==null?void 0:e.quarterDay)||!1),[h,m]=T.useState((e==null?void 0:e.hours)||!1),[x,p]=T.useState((e==null?void 0:e.workflowRequired)||!1),[v,b]=T.useState((e==null?void 0:e.noticePeriodAllowed)||!0),[g,w]=T.useState((e==null?void 0:e.documentsRequired)||!1),[y,j]=T.useState((e==null?void 0:e.lossOfPay)||!0),[N,E]=T.useState((e==null?void 0:e.deductHalfDay)||!1),[S,_]=T.useState((e==null?void 0:e.deductQuarterDay)||!1),[D,F]=T.useState((e==null?void 0:e.deductHours)||!1),[O,L]=T.useState((e==null?void 0:e.applicableAfterType)||"date_of_joining"),[k,P]=T.useState((e==null?void 0:e.withdrawalBeforeApproval)!==!1),[I,M]=T.useState((e==null?void 0:e.withdrawalAfterApproval)||!1),[C,R]=T.useState((e==null?void 0:e.withdrawalNotAllowed)||!1),[z,J]=T.useState([]),[U,q]=T.useState((e==null?void 0:e.documentDescription)||""),Y=ce=>{P(ce),ce&&C&&R(!1)},Q=ce=>{M(ce),ce&&C&&R(!1)},Z=ce=>{R(ce),ce&&(P(!1),M(!1))},{data:ue=[]}=Le({queryKey:[`/api/employee-assignments/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id),staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchInterval:!1}),[he,G]=T.useState([]),{data:re=[]}=Le({queryKey:["/api/leave-types"],staleTime:5*60*1e3});T.useEffect(()=>{(async()=>{try{const ct=(await Ds()).map(Su);G(ct)}catch($e){console.error("Error loading employees:",$e)}})()},[]),T.useEffect(()=>{if(Array.isArray(ue)&&ue.length>0)if(console.log("PTO Edit - Existing assignments:",ue),console.log("PTO Edit - All employees count:",he.length),he.length>0){const ce=ue.map(ct=>ct.userId),$e=he.filter(ct=>{const zt=ce.includes(ct.user_id),be=ce.includes(ct.id);return zt||be});console.log("PTO Edit - Matched employees from external API:",$e),l($e)}else{const ce=ue.map($e=>({user_id:$e.userId,id:$e.userId,user_name:`Employee ${$e.userId}`,name:`Employee ${$e.userId}`,first_name:"Employee",last_name:$e.userId,email:`employee${$e.userId}@company.com`,employeeNumber:$e.userId,designation:"Employee",dateOfJoining:new Date().toISOString(),userRole:"employee",workerType:"regular",profilePhoto:null,phoneNumber:null,dateOfBirth:new Date().toISOString(),gender:"Other",reportingManager:null,leaveId:$e.userId,isDifferentlyAbled:!1,lastWorkingDay:null,employee_number:$e.userId}));console.log("PTO Edit - Using fallback employees:",ce),l(ce)}else Array.isArray(ue)&&ue.length===0&&l([])},[ue,he,e==null?void 0:e.id]);const{register:de,handleSubmit:ne,formState:{errors:Ee},reset:Ce}=Za({defaultValues:{leaveVariantName:(e==null?void 0:e.leaveVariantName)||(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",applicableAfter:(e==null?void 0:e.applicableAfter)||0,approvalDays:(e==null?void 0:e.approvalDays)||0,minimumHours:(e==null?void 0:e.minimumHours)||0,maxHours:(e==null?void 0:e.maxHours)||0,maxInstances:(e==null?void 0:e.maxInstances)||0,maxInstancesPeriod:(e==null?void 0:e.maxInstancesPeriod)||"Month",documentDescription:(e==null?void 0:e.documentDescription)||"",grantingPeriod:(e==null?void 0:e.grantingPeriod)||"Yearly"}});T.useEffect(()=>{e&&(console.log("PTO Form - Loading variant data:",e),u(e.halfDay||!1),f(e.quarterDay||!1),m(e.hours||!1),p(e.workflowRequired||!1),b(e.noticePeriodAllowed!==!1),w(e.documentsRequired||!1),j(e.lossOfPay!==!1),E(e.deductHalfDay||!1),_(e.deductQuarterDay||!1),F(e.deductHours||!1),L(e.applicableAfterType||"date_of_joining"),P(e.withdrawalBeforeApproval!==!1),M(e.withdrawalAfterApproval||!1),R(e.withdrawalNotAllowed||!1),J(e.deductibleLeaveTypes||[]),q(e.documentDescription||""),Ce({leaveVariantName:e.name||"",description:e.description||"",applicableAfter:e.applicableAfter||0,approvalDays:e.approvalDays||0,minimumHours:e.minimumHours||0,maxHours:e.maxHours||0,maxInstances:e.maxInstances||0,maxInstancesPeriod:e.maxInstancesPeriod||"Month",documentDescription:e.documentDescription||"",grantingPeriod:e.grantingPeriod||"Yearly"}),console.log("PTO Form - Loaded applicableAfterType:",e.applicableAfterType||"date_of_joining"))},[e,Ce]);const De=It({mutationFn:async ce=>{const $e={name:ce.leaveVariantName,description:ce.description,enabled:!0,halfDay:c,quarterDay:d,hours:h,workflowRequired:x,documentsRequired:g,noticePeriodAllowed:v,applicableAfterType:O,applicableAfter:ce.applicableAfter||0,approvalDays:ce.approvalDays||0,minimumHours:ce.minimumHours||0,maxHours:ce.maxHours||0,maxInstances:ce.maxInstances||0,maxInstancesPeriod:ce.maxInstancesPeriod||"Month",grantingPeriod:ce.grantingPeriod||"Yearly",lossOfPay:y,deductHalfDay:N,deductQuarterDay:S,deductHours:D,withdrawalBeforeApproval:k,withdrawalAfterApproval:I,withdrawalNotAllowed:C,deductibleLeaveTypes:z,documentDescription:U};console.log("PTO Variant Form - Submission payload:",$e);const ct=n?await yt("PATCH",`/api/pto-variants/${e.id}`,$e):await yt("POST","/api/pto-variants",$e);if(!n&&o.length>0&&(ct!=null&&ct.id)){const zt=o.map(be=>({userId:be.user_id||be.id,leaveVariantId:ct.id,assignmentType:"pto_variant"}));console.log("PTO new variant assignment payload:",zt),await yt("POST","/api/employee-assignments/bulk",{assignments:zt})}return ct},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/pto-variants"]}),Ye.invalidateQueries({queryKey:["/api/employee-assignments"]}),r({title:"Success",description:`PTO variant ${n?"updated":"created"} successfully.`}),t()},onError:()=>{r({title:"Error",description:`Failed to ${n?"update":"create"} PTO variant.`,variant:"destructive"})}}),Pe=ce=>{var ct,zt;if(!((ct=ce.leaveVariantName)!=null&&ct.trim())){r({title:"Validation Error",description:"PTO Variant Name is required.",variant:"destructive"});return}if(!((zt=ce.description)!=null&&zt.trim())){r({title:"Validation Error",description:"Description is required.",variant:"destructive"});return}if(g&&!U.trim()){r({title:"Validation Error",description:"Document description is required when supporting documents are required.",variant:"destructive"});return}const $e={...ce,name:ce.leaveVariantName,halfDay:c,quarterDay:d,hours:h,workflowRequired:x,noticePeriodAllowed:v,documentsRequired:g,lossOfPay:y,deductHalfDay:N,deductQuarterDay:S,deductHours:D};De.mutate($e)};return s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto relative",children:[De.isPending&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg",children:s.jsx(Oc,{size:"lg",text:n?"Updating PTO variant...":"Creating PTO variant..."})}),s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Edit PTO Variant":"New PTO Variant"}),s.jsx(ee,{variant:"outline",onClick:t,className:"text-green-600 border-green-600 hover:bg-green-50",children:"Go Back"})]})}),s.jsx("form",{onSubmit:ne(Pe),className:"p-6",children:s.jsxs("div",{className:"space-y-8",children:[s.jsx(Ne,{children:s.jsxs(_e,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"PTO units allowed"}),s.jsxs("div",{className:"flex items-center space-x-8",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"halfDay",className:"rounded",checked:c,onChange:ce=>u(ce.target.checked)}),s.jsx("label",{htmlFor:"halfDay",className:"text-sm font-medium",children:"Half Day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"quarterDay",className:"rounded",checked:d,onChange:ce=>f(ce.target.checked)}),s.jsx("label",{htmlFor:"quarterDay",className:"text-sm font-medium",children:"Quarter Day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"hours",className:"rounded",checked:h,onChange:ce=>m(ce.target.checked)}),s.jsx("label",{htmlFor:"hours",className:"text-sm font-medium",children:"Hours"})]})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:["PTO Variant Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Create tailored PTO policies for specific groups of employees using variants"}),s.jsx("input",{...de("leaveVariantName",{required:"PTO variant name is required"}),type:"text",placeholder:"eg. For Factory Employees",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${Ee.leaveVariantName?"border-red-500":"border-gray-300"}`}),Ee.leaveVariantName&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ee.leaveVariantName.message})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{...de("description",{required:"Description is required"}),placeholder:"eg. Need time off for personal errands? Use PTO.",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px] ${Ee.description?"border-red-500":"border-gray-300"}`}),Ee.description&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ee.description.message})]})]}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Eligibility Criteria"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Applicable after"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"probation_end",name:"applicableAfterType",value:"probation_end",checked:O==="probation_end",onChange:()=>L("probation_end"),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"probation_end",className:"text-sm",children:"Probation period ends"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"date_of_joining",name:"applicableAfterType",value:"date_of_joining",checked:O==="date_of_joining",onChange:()=>L("date_of_joining"),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"date_of_joining",className:"text-sm",children:"On date of joining"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",id:"days",name:"applicableAfterType",value:"days",checked:O==="days",onChange:()=>L("days"),className:"w-4 h-4"}),s.jsx("label",{htmlFor:"days",className:"text-sm",children:"Specified number of days:"}),s.jsx("input",{...de("applicableAfter",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0",disabled:O!=="days",placeholder:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days) from date of joining"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Does this require a review workflow for approval?"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",onClick:()=>p(!0),className:x?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Workflow"}),s.jsx(ee,{type:"button",size:"sm",onClick:()=>p(!1),className:x?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white",children:"No Workflow"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"If leave you select 'No workflow' then PTO will be auto-approved and leave balance will be deducted immediately."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Withdrawal of application allowed"}),x?s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:k,onChange:ce=>Y(ce.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Before approval"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:I,onChange:ce=>Q(ce.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"After approval"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:ce=>Z(ce.target.checked),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Not allowed"})]})]}):s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:!C,onChange:ce=>{ce.target.checked?(R(!1),P(!0)):(R(!0),P(!1),M(!1))},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Allowed"})]}),s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:ce=>{ce.target.checked?(R(!0),P(!1),M(!1)):(R(!1),P(!0))},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Not allowed"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Approval request should be made"}),s.jsx("input",{...de("approvalDays",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"}),s.jsx("span",{className:"text-sm text-gray-700",children:"in advance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Minimum hours required"}),s.jsx("input",{...de("minimumHours",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(hours)"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Max hours allowed"}),s.jsx("input",{...de("maxHours",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(hours)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Max instances"}),s.jsx("input",{...de("maxInstances",{valueAsNumber:!0}),type:"number",className:"w-20 text-center px-2 py-1 border border-gray-300 rounded",min:"0"}),s.jsx("span",{className:"text-sm text-gray-500",children:"(days)"}),s.jsx("span",{className:"text-sm text-gray-700",children:"in a"}),s.jsxs("select",{...de("maxInstancesPeriod"),className:"px-3 py-1 border border-gray-300 rounded",children:[s.jsx("option",{value:"Month",children:"Month"}),s.jsx("option",{value:"Quarter",children:"Quarter"}),s.jsx("option",{value:"Year",children:"Year"})]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"If the value is 0, it is understood that there is no limit."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"During notice period, PTO is"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",onClick:()=>b(!0),className:v?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Allowed"}),s.jsx(ee,{type:"button",size:"sm",onClick:()=>b(!1),className:v?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white",children:"Not Allowed"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Supporting documents are"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",onClick:()=>w(!0),className:g?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Required"}),s.jsx(ee,{type:"button",size:"sm",onClick:()=>w(!1),className:g?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white",children:"Not Required"})]}),g&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-sm text-gray-700",children:["Document Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:U,onChange:ce=>q(ce.target.value),placeholder:"Enter the details of the documents to be added. This message will be displayed to your employees while uploading documents.",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px] ${g&&!U.trim()?"border-red-500 focus:ring-red-500":"border-gray-300"}`}),g&&!U.trim()&&s.jsx("p",{className:"text-xs text-red-500",children:"Description is required when supporting documents are required."})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"If Max. PTO instances/ hours are crossed"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{type:"button",size:"sm",onClick:()=>j(!0),className:y?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Loss of Pay"}),s.jsx(ee,{type:"button",size:"sm",onClick:()=>j(!1),className:y?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-green-600 hover:bg-green-700 text-white",children:"Deduct from Leave Balance"})]})]}),y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Deduct Pay for"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"deductHalfDay",className:"rounded",checked:N,onChange:ce=>E(ce.target.checked)}),s.jsx("label",{htmlFor:"deductHalfDay",className:"text-sm",children:"Half Day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"deductQuarterDay",className:"rounded",checked:S,onChange:ce=>_(ce.target.checked)}),s.jsx("label",{htmlFor:"deductQuarterDay",className:"text-sm",children:"Quarter Day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"deductHours",className:"rounded",checked:D,onChange:ce=>F(ce.target.checked)}),s.jsx("label",{htmlFor:"deductHours",className:"text-sm",children:"Hours"})]})]})]}),!y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Select leave types to deduct from:"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-200 rounded p-3",children:re.filter(ce=>ce.enabled!==!1).map(ce=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:z.includes(ce.id.toString()),onChange:$e=>{$e.target.checked?J([...z,ce.id.toString()]):J(z.filter(ct=>ct!==ce.id.toString()))},className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:ce.name})]},ce.id))}),z.length===0&&s.jsx("p",{className:"text-xs text-red-500",children:"Please select at least one leave type for deduction."})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"PTO will be granted"}),s.jsxs("select",{...de("grantingPeriod"),className:"px-3 py-1 border border-gray-300 rounded",children:[s.jsx("option",{value:"Yearly",children:"Yearly"}),s.jsx("option",{value:"Half yearly",children:"Half yearly"}),s.jsx("option",{value:"Quarterly",children:"Quarterly"}),s.jsx("option",{value:"Monthly",children:"Monthly"})]})]})]})]})]})}),s.jsxs(Ne,{children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(mt,{className:"text-lg",children:"Assign to Employees"}),s.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>i(!0),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(un,{className:"w-4 h-4 mr-2"}),o.length>0?"Edit Assignment":"Assign Employees"]})]}),o.length>0&&s.jsx(_e,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[o.length," employee",o.length>1?"s":""," assigned"]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.slice(0,3).map((ce,$e)=>s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-1",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-medium text-blue-600",children:(ce.user_name||ce.name||`${ce.firstName||""} ${ce.lastName||""}`.trim()||ce.employeeNumber||ce.user_id).charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-xs text-gray-700",children:ce.user_name||ce.name||`${ce.firstName||""} ${ce.lastName||""}`.trim()||ce.employeeNumber||ce.user_id})]},ce.user_id)),o.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",o.length-3," more"]})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:t,className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"Discard"}),s.jsx(ee,{type:"submit",disabled:De.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:De.isPending?"Processing...":n?"Update Variant":"Create Variant"})]})]})}),a&&s.jsx(Hy,{onClose:()=>i(!1),preSelectedEmployees:o,applicableGenders:[],onAssign:async ce=>{try{if(!(e!=null&&e.id)){l(ce),r({title:"Success",description:`${ce.length} employee${ce.length>1?"s":""} will be assigned when variant is created.`});return}const $e=ce.map(ct=>({userId:ct.user_id||ct.id,leaveVariantId:e.id,assignmentType:"pto_variant"}));console.log("PTO Assignment payload:",$e),await yt("POST","/api/employee-assignments/bulk",{assignments:$e}),l(ce),Ye.invalidateQueries({queryKey:[`/api/employee-assignments/${e.id}`]}),r({title:"Success",description:`${ce.length} employee${ce.length>1?"s":""} assigned successfully.`})}catch{r({title:"Error",description:"Failed to save employee assignments.",variant:"destructive"})}}})]})}function L6({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const{toast:a}=Lr(),[i,o]=T.useState(!0),[l,c]=T.useState(!1),[u,d]=T.useState(null),{data:f}=Le({queryKey:["/api/pto-config"]}),{data:h=[]}=Le({queryKey:["/api/pto-variants"]});T.useEffect(()=>{f&&typeof f=="object"&&"enabled"in f&&o(f.enabled!==!1)},[f]);const m=It({mutationFn:async y=>await yt("POST","/api/pto-config",{enabled:y}),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/pto-config"]}),a({title:"Success",description:i?"PTO enabled successfully.":"PTO disabled successfully."})},onError:y=>{a({title:"Error",description:"Failed to update PTO configuration.",variant:"destructive"})}}),x=It({mutationFn:async y=>await yt("DELETE",`/api/pto-variants/${y}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/pto-variants"]}),a({title:"Success",description:"PTO variant deleted successfully."})}}),p=y=>{o(y),m.mutate(y)},v=()=>{d(null),c(!0)},b=y=>{d(y),c(!0)},g=y=>{y&&y.id&&confirm("Are you sure you want to delete this variant?")&&x.mutate(y.id)},w=()=>{e()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"PTO (Paid Time Off)"}),s.jsx(Qs,{checked:i,onCheckedChange:p,className:"data-[state=checked]:bg-green-600"})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Variants"}),Array.isArray(h)&&h.map(y=>s.jsx(Ne,{className:"mb-4",children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:y.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"PTO Variant"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:()=>g(y),children:["Delete",s.jsx(Ea,{className:"w-4 h-4 ml-1"})]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"text-gray-600 border-gray-300 hover:bg-gray-50",onClick:()=>b(y),children:["Edit",s.jsx(Nu,{className:"w-4 h-4 ml-1"})]})]})]})})},y.id)),(!Array.isArray(h)||h.length===0)&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"No PTO variants created yet."}),s.jsx("p",{className:"text-sm",children:'Click "Create PTO variant" to get started.'})]}),s.jsxs(ee,{variant:"outline",onClick:v,className:"text-green-600 border-green-600 hover:bg-green-50",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create PTO variant"]})]}),s.jsxs("div",{className:"flex justify-between pt-8",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:t,className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"Previous"}),s.jsx(ee,{onClick:w,disabled:n,className:"bg-primary hover:bg-primary/90",children:r?"Complete Setup":"Next"})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx(lee,{variant:u,onClose:()=>c(!1)})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Vx={};Vx.version="0.18.5";var $6=1252,cee=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],B6=function(e){cee.indexOf(e)!=-1&&($6=e)};function uee(){B6(1252)}var Jm=function(e){B6(e)};function dee(){Jm(1200),uee()}var sg=function(t){return String.fromCharCode(t)},GC=function(t){return String.fromCharCode(t)},Tc,jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ep(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=jl.charAt(i)+jl.charAt(o)+jl.charAt(l)+jl.charAt(c);return t}function Ro(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=jl.indexOf(e.charAt(u++)),o=jl.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=jl.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=jl.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var er=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Wo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function fu(e){return er?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function YC(e){return er?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Zs=function(t){return er?Wo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function zy(e){if(typeof ArrayBuffer>"u")return Zs(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function m0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function fee(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Pn=er?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Wo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function hee(e){for(var t=[],r=0,n=e.length+250,a=fu(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=fu(65535),n=65530)}return t.push(a.slice(0,r)),Pn(t)}var lm=/\u0000/g,ig=/[\u0001-\u0006]/g;function kd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ni(e,t){var r=""+e;return r.length>=t?r:Ur("0",t-r.length)+r}function B_(e,t){var r=""+e;return r.length>=t?r:Ur(" ",t-r.length)+r}function Hx(e,t){var r=""+e;return r.length>=t?r:r+Ur(" ",t-r.length)}function mee(e,t){var r=""+Math.round(e);return r.length>=t?r:Ur("0",t-r.length)+r}function pee(e,t){var r=""+e;return r.length>=t?r:Ur("0",t-r.length)+r}var XC=Math.pow(2,32);function Ku(e,t){if(e>XC||e<-XC)return mee(e,t);var r=Math.round(e);return pee(r,t)}function zx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var QC=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],zw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function gee(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Vr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},ZC={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},xee={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function qx(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function og(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=See(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var U6=new Date(1899,11,31,0,0,0),vee=U6.getTime(),yee=new Date(1900,2,1,0,0,0);function W6(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=yee&&(r+=24*60*60*1e3),(r-(vee+(e.getTimezoneOffset()-U6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function U_(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wee(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function bee(e){var t=e<0?12:11,r=U_(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function jee(e){var t=U_(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Nee(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=bee(e):t===10?r=e.toFixed(10).substr(0,12):r=jee(e),U_(wee(r.toUpperCase()))}function oN(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Nee(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ql(14,W6(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function See(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function _ee(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return zw[r.m-1][1];case 5:return zw[r.m-1][0];default:return zw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return QC[r.q][0];default:return QC[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ni(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=ni(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?ni(c,u):"";return d}function Nl(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var V6=/%/g;function Tee(e,t,r){var n=t.replace(V6,""),a=t.length-n.length;return bo(e,n,r*Math.pow(10,2*a))+Ur("%",a)}function Eee(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function H6(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+H6(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var z6=/# (\?+)( ?)\/( ?)(\d+)/;function Aee(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Ur(" ",e[1].length+1+e[4].length):B_(o,e[1].length)+e[2]+"/"+e[3]+ni(l,e[4].length))}function Cee(e,t,r){return r+(t===0?"":""+t)+Ur(" ",e[1].length+2+e[4].length)}var q6=/^#*0*\.([0#]+)/,K6=/\).*[0#]/,G6=/\(###\) ###\\?-####/;function ma(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function JC(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function eD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Dee(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function kee(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function hs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(K6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?hs("n",n,r):"("+hs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Eee(e,t,r);if(t.indexOf("%")!==-1)return Tee(e,t,r);if(t.indexOf("E")!==-1)return H6(t,r);if(t.charCodeAt(0)===36)return"$"+hs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Ku(c,t.length);if(t.match(/^[#?]+$/))return a=Ku(r,0),a==="0"&&(a=""),a.length>t.length?a:ma(t.substr(0,t.length-a.length))+a;if(i=t.match(z6))return Aee(i,c,u);if(t.match(/^#+0+$/))return u+Ku(c,t.length-t.indexOf("0"));if(i=t.match(q6))return a=JC(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ma(i[1])).replace(/\.$/,"."+ma(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+Ur("0",ma(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+JC(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Nl(Ku(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+hs(e,t,-r):Nl(""+(Math.floor(r)+Dee(r,i[1].length)))+"."+ni(eD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return hs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=kd(hs(e,t.replace(/[\\-]/g,""),r)),o=0,kd(kd(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(G6))return a=hs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=qx(c,Math.pow(10,o)-1,!1),a=""+u,d=bo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Hx(l[2],o),d.length<i[4].length&&(d=ma(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=qx(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?B_(l[1],o)+i[2]+"/"+i[3]+Hx(l[2],o):Ur(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Ku(r,0),t.length<=a.length?a:ma(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return ma(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=eD(r,i[1].length),r<0?"-"+hs(e,t,-r):Nl(kee(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?ni(0,3-x.length):"")+x})+"."+ni(o,i[1].length);switch(t){case"###,##0.00":return hs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Nl(Ku(c,0));return m!=="0"?u+m:"";case"###,###.00":return hs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return hs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Oee(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Pee(e,t,r){var n=t.replace(V6,""),a=t.length-n.length;return bo(e,n,r*Math.pow(10,2*a))+Ur("%",a)}function Y6(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Y6(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ji(e,t,r){if(e.charCodeAt(0)===40&&!t.match(K6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ji("n",n,r):"("+ji("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Oee(e,t,r);if(t.indexOf("%")!==-1)return Pee(e,t,r);if(t.indexOf("E")!==-1)return Y6(t,r);if(t.charCodeAt(0)===36)return"$"+ji(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ni(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ma(t.substr(0,t.length-a.length))+a;if(i=t.match(z6))return Cee(i,c,u);if(t.match(/^#+0+$/))return u+ni(c,t.length-t.indexOf("0"));if(i=t.match(q6))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ma(i[1])).replace(/\.$/,"."+ma(i[1])),a=a.replace(/\.(\d*)$/,function(x,p){return"."+p+Ur("0",ma(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Nl(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ji(e,t,-r):Nl(""+r)+"."+Ur("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ji(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=kd(ji(e,t.replace(/[\\-]/g,""),r)),o=0,kd(kd(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(G6))return a=ji(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=qx(c,Math.pow(10,o)-1,!1),a=""+u,d=bo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Hx(l[2],o),d.length<i[4].length&&(d=ma(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=qx(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?B_(l[1],o)+i[2]+"/"+i[3]+Hx(l[2],o):Ur(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ma(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return ma(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ji(e,t,-r):Nl(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?ni(0,3-x.length):"")+x})+"."+ni(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Nl(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return ji(e,t.slice(0,t.lastIndexOf(".")),r)+ma(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function bo(e,t,r){return(r|0)===r?ji(e,t,r):hs(e,t,r)}function Iee(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var X6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Q6(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":zx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(X6))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Mee(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!zx(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),x=m==="("||m===")"?m:"t";a[a.length]={t:x,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=og(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=og(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var p={t:l,v:l};if(u==null&&(u=og(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(p.v=u.H>=12?"下午":"上午"),p.t="T",o+=5,h="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(X6)){if(u==null&&(u=og(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Q6(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,b=0,g;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",v<1&&(v=1);break;case"s":(g=a[o].v.match(/\.0+$/))&&(b=Math.max(b,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",y;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=_ee(a[o].t.charCodeAt(0),a[o].v,u,b),a[o].t="t";break;case"n":case"?":for(y=o+1;a[y]!=null&&((l=a[y].t)==="?"||l==="D"||(l===" "||l==="t")&&a[y+1]!=null&&(a[y+1].t==="?"||a[y+1].t==="t"&&a[y+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[y].v==="/"||a[y].v===" "&&a[y+1]!=null&&a[y+1].t=="?"));)a[o].v+=a[y].v,a[y]={v:"",t:";"},++y;w+=a[o].v,o=y-1;break;case"G":a[o].t="t",a[o].v=oN(t,r);break}var j="",N,E;if(w.length>0){w.charCodeAt(0)==40?(N=t<0&&w.charCodeAt(0)===45?-t:t,E=bo("n",w,N)):(N=t<0&&n>1?-t:t,E=bo("n",w,N),N<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),y=E.length-1;var S=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){S=o;break}var _=a.length;if(S===a.length&&E.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(y>=a[o].v.length-1?(y-=a[o].v.length,a[o].v=E.substr(y+1,a[o].v.length)):y<0?a[o].v="":(a[o].v=E.substr(0,y+1),y=-1),a[o].t="t",_=o);y>=0&&_<a.length&&(a[_].v=E.substr(0,y+1)+a[_].v)}else if(S!==a.length&&E.indexOf("E")===-1){for(y=E.indexOf(".")-1,o=S;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===S?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(d+1);d>=0;--d)y>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(j=E.charAt(y--)+j);a[o].v=j,a[o].t="t",_=o}for(y>=0&&_<a.length&&(a[_].v=E.substr(0,y+1)+a[_].v),y=E.indexOf(".")+1,o=S;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==S)){for(d=a[o].v.indexOf(".")>-1&&o===S?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,d);d<a[o].v.length;++d)y<E.length&&(j+=E.charAt(y++));a[o].v=j,a[o].t="t",_=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=bo(a[o].t,a[o].v,N),a[o].t="t");var D="";for(o=0;o!==a.length;++o)a[o]!=null&&(D+=a[o].v);return D}var tD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function rD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Ree(e,t){var r=Iee(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(tD),l=r[1].match(tD);return rD(t,o)?[n,r[0]]:rD(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Ql(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Vr)[e],n==null&&(n=r.table&&r.table[ZC[e]]||Vr[ZC[e]]),n==null&&(n=xee[e]||"General");break}if(zx(n,0))return oN(t,r);t instanceof Date&&(t=W6(t,r.date1904));var a=Ree(n,t);if(zx(a[1]))return oN(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Mee(a[1],t,r,a[0])}function Z6(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Vr[r]==null){t<0&&(t=r);continue}if(Vr[r]==e){t=r;break}}t<0&&(t=391)}return Vr[t]=e,t}function qy(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Z6(e[t],t)}function Ky(){Vr=gee()}var J6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Fee(e){var t=typeof e=="number"?Vr[e]:e;return t=t.replace(J6,"(\\d+)"),new RegExp("^"+t+"$")}function Lee(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(J6)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var $ee=function(){var e={};e.version="1.2.0";function t(){for(var E=0,S=new Array(256),_=0;_!=256;++_)E=_,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,S[_]=E;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(E){var S=0,_=0,D=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)F[D]=E[D];for(D=0;D!=256;++D)for(_=E[D],S=256+D;S<4096;S+=256)_=F[S]=_>>>8^E[_&255];var O=[];for(D=1;D!=16;++D)O[D-1]=typeof Int32Array<"u"?F.subarray(D*256,D*256+256):F.slice(D*256,D*256+256);return O}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],x=a[9],p=a[10],v=a[11],b=a[12],g=a[13],w=a[14];function y(E,S){for(var _=S^-1,D=0,F=E.length;D<F;)_=_>>>8^r[(_^E.charCodeAt(D++))&255];return~_}function j(E,S){for(var _=S^-1,D=E.length-15,F=0;F<D;)_=w[E[F++]^_&255]^g[E[F++]^_>>8&255]^b[E[F++]^_>>16&255]^v[E[F++]^_>>>24]^p[E[F++]]^x[E[F++]]^m[E[F++]]^h[E[F++]]^f[E[F++]]^d[E[F++]]^u[E[F++]]^c[E[F++]]^l[E[F++]]^o[E[F++]]^i[E[F++]]^r[E[F++]];for(D+=15;F<D;)_=_>>>8^r[(_^E[F++])&255];return~_}function N(E,S){for(var _=S^-1,D=0,F=E.length,O=0,L=0;D<F;)O=E.charCodeAt(D++),O<128?_=_>>>8^r[(_^O)&255]:O<2048?(_=_>>>8^r[(_^(192|O>>6&31))&255],_=_>>>8^r[(_^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,L=E.charCodeAt(D++)&1023,_=_>>>8^r[(_^(240|O>>8&7))&255],_=_>>>8^r[(_^(128|O>>2&63))&255],_=_>>>8^r[(_^(128|L>>6&15|(O&3)<<4))&255],_=_>>>8^r[(_^(128|L&63))&255]):(_=_>>>8^r[(_^(224|O>>12&15))&255],_=_>>>8^r[(_^(128|O>>6&63))&255],_=_>>>8^r[(_^(128|O&63))&255]);return~_}return e.table=r,e.bstr=y,e.buf=j,e.str=N,e}(),xr=function(){var t={};t.version="1.2.1";function r(A,W){for(var B=A.split("/"),V=W.split("/"),K=0,X=0,le=Math.min(B.length,V.length);K<le;++K){if(X=B[K].length-V[K].length)return X;if(B[K]!=V[K])return B[K]<V[K]?-1:1}return B.length-V.length}function n(A){if(A.charAt(A.length-1)=="/")return A.slice(0,-1).indexOf("/")===-1?A:n(A.slice(0,-1));var W=A.lastIndexOf("/");return W===-1?A:A.slice(0,W+1)}function a(A){if(A.charAt(A.length-1)=="/")return a(A.slice(0,-1));var W=A.lastIndexOf("/");return W===-1?A:A.slice(W+1)}function i(A,W){typeof W=="string"&&(W=new Date(W));var B=W.getHours();B=B<<6|W.getMinutes(),B=B<<5|W.getSeconds()>>>1,A.write_shift(2,B);var V=W.getFullYear()-1980;V=V<<4|W.getMonth()+1,V=V<<5|W.getDate(),A.write_shift(2,V)}function o(A){var W=A.read_shift(2)&65535,B=A.read_shift(2)&65535,V=new Date,K=B&31;B>>>=5;var X=B&15;B>>>=4,V.setMilliseconds(0),V.setFullYear(B+1980),V.setMonth(X-1),V.setDate(K);var le=W&31;W>>>=5;var xe=W&63;return W>>>=6,V.setHours(W),V.setMinutes(xe),V.setSeconds(le<<1),V}function l(A){qa(A,0);for(var W={},B=0;A.l<=A.length-4;){var V=A.read_shift(2),K=A.read_shift(2),X=A.l+K,le={};switch(V){case 21589:B=A.read_shift(1),B&1&&(le.mtime=A.read_shift(4)),K>5&&(B&2&&(le.atime=A.read_shift(4)),B&4&&(le.ctime=A.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}A.l=X,W[V]=le}return W}var c;function u(){return c||(c={})}function d(A,W){if(A[0]==80&&A[1]==75)return mc(A,W);if((A[0]|32)==109&&(A[1]|32)==105)return hn(A,W);if(A.length<512)throw new Error("CFB file size "+A.length+" < 512");var B=3,V=512,K=0,X=0,le=0,xe=0,ae=0,fe=[],pe=A.slice(0,512);qa(pe,0);var Te=f(pe);switch(B=Te[0],B){case 3:V=512;break;case 4:V=4096;break;case 0:if(Te[1]==0)return mc(A,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+B)}V!==512&&(pe=A.slice(0,V),qa(pe,28));var Se=A.slice(0,V);h(pe,B);var ge=pe.read_shift(4,"i");if(B===3&&ge!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ge);pe.l+=4,le=pe.read_shift(4,"i"),pe.l+=4,pe.chk("00100000","Mini Stream Cutoff Size: "),xe=pe.read_shift(4,"i"),K=pe.read_shift(4,"i"),ae=pe.read_shift(4,"i"),X=pe.read_shift(4,"i");for(var ye=-1,Me=0;Me<109&&(ye=pe.read_shift(4,"i"),!(ye<0));++Me)fe[Me]=ye;var Ve=m(A,V);v(ae,X,Ve,V,fe);var _t=g(Ve,le,fe,V);_t[le].name="!Directory",K>0&&xe!==L&&(_t[xe].name="!MiniFAT"),_t[fe[0]].name="!FAT",_t.fat_addrs=fe,_t.ssz=V;var Mt={},Pt=[],Pr=[],$a=[];w(le,_t,Ve,Pt,K,Mt,Pr,xe),x(Pr,$a,Pt),Pt.shift();var Be={FileIndex:Pr,FullPaths:$a};return W&&W.raw&&(Be.raw={header:Se,sectors:Ve}),Be}function f(A){if(A[A.l]==80&&A[A.l+1]==75)return[0,0];A.chk(k,"Header Signature: "),A.l+=16;var W=A.read_shift(2,"u");return[A.read_shift(2,"u"),W]}function h(A,W){var B=9;switch(A.l+=2,B=A.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+B);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+B);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+B)}A.chk("0600","Mini Sector Shift: "),A.chk("000000000000","Reserved: ")}function m(A,W){for(var B=Math.ceil(A.length/W)-1,V=[],K=1;K<B;++K)V[K-1]=A.slice(K*W,(K+1)*W);return V[B-1]=A.slice(B*W),V}function x(A,W,B){for(var V=0,K=0,X=0,le=0,xe=0,ae=B.length,fe=[],pe=[];V<ae;++V)fe[V]=pe[V]=V,W[V]=B[V];for(;xe<pe.length;++xe)V=pe[xe],K=A[V].L,X=A[V].R,le=A[V].C,fe[V]===V&&(K!==-1&&fe[K]!==K&&(fe[V]=fe[K]),X!==-1&&fe[X]!==X&&(fe[V]=fe[X])),le!==-1&&(fe[le]=V),K!==-1&&V!=fe[V]&&(fe[K]=fe[V],pe.lastIndexOf(K)<xe&&pe.push(K)),X!==-1&&V!=fe[V]&&(fe[X]=fe[V],pe.lastIndexOf(X)<xe&&pe.push(X));for(V=1;V<ae;++V)fe[V]===V&&(X!==-1&&fe[X]!==X?fe[V]=fe[X]:K!==-1&&fe[K]!==K&&(fe[V]=fe[K]));for(V=1;V<ae;++V)if(A[V].type!==0){if(xe=V,xe!=fe[xe])do xe=fe[xe],W[V]=W[xe]+"/"+W[V];while(xe!==0&&fe[xe]!==-1&&xe!=fe[xe]);fe[V]=-1}for(W[0]+="/",V=1;V<ae;++V)A[V].type!==2&&(W[V]+="/")}function p(A,W,B){for(var V=A.start,K=A.size,X=[],le=V;B&&K>0&&le>=0;)X.push(W.slice(le*O,le*O+O)),K-=O,le=Ec(B,le*4);return X.length===0?ke(0):Pn(X).slice(0,A.size)}function v(A,W,B,V,K){var X=L;if(A===L){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(A!==-1){var le=B[A],xe=(V>>>2)-1;if(!le)return;for(var ae=0;ae<xe&&(X=Ec(le,ae*4))!==L;++ae)K.push(X);v(Ec(le,V-4),W-1,B,V,K)}}function b(A,W,B,V,K){var X=[],le=[];K||(K=[]);var xe=V-1,ae=0,fe=0;for(ae=W;ae>=0;){K[ae]=!0,X[X.length]=ae,le.push(A[ae]);var pe=B[Math.floor(ae*4/V)];if(fe=ae*4&xe,V<4+fe)throw new Error("FAT boundary crossed: "+ae+" 4 "+V);if(!A[pe])break;ae=Ec(A[pe],fe)}return{nodes:X,data:uD([le])}}function g(A,W,B,V){var K=A.length,X=[],le=[],xe=[],ae=[],fe=V-1,pe=0,Te=0,Se=0,ge=0;for(pe=0;pe<K;++pe)if(xe=[],Se=pe+W,Se>=K&&(Se-=K),!le[Se]){ae=[];var ye=[];for(Te=Se;Te>=0;){ye[Te]=!0,le[Te]=!0,xe[xe.length]=Te,ae.push(A[Te]);var Me=B[Math.floor(Te*4/V)];if(ge=Te*4&fe,V<4+ge)throw new Error("FAT boundary crossed: "+Te+" 4 "+V);if(!A[Me]||(Te=Ec(A[Me],ge),ye[Te]))break}X[Se]={nodes:xe,data:uD([ae])}}return X}function w(A,W,B,V,K,X,le,xe){for(var ae=0,fe=V.length?2:0,pe=W[A].data,Te=0,Se=0,ge;Te<pe.length;Te+=128){var ye=pe.slice(Te,Te+128);qa(ye,64),Se=ye.read_shift(2),ge=q_(ye,0,Se-fe),V.push(ge);var Me={name:ge,type:ye.read_shift(1),color:ye.read_shift(1),L:ye.read_shift(4,"i"),R:ye.read_shift(4,"i"),C:ye.read_shift(4,"i"),clsid:ye.read_shift(16),state:ye.read_shift(4,"i"),start:0,size:0},Ve=ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2);Ve!==0&&(Me.ct=y(ye,ye.l-8));var _t=ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2)+ye.read_shift(2);_t!==0&&(Me.mt=y(ye,ye.l-8)),Me.start=ye.read_shift(4,"i"),Me.size=ye.read_shift(4,"i"),Me.size<0&&Me.start<0&&(Me.size=Me.type=0,Me.start=L,Me.name=""),Me.type===5?(ae=Me.start,K>0&&ae!==L&&(W[ae].name="!StreamData")):Me.size>=4096?(Me.storage="fat",W[Me.start]===void 0&&(W[Me.start]=b(B,Me.start,W.fat_addrs,W.ssz)),W[Me.start].name=Me.name,Me.content=W[Me.start].data.slice(0,Me.size)):(Me.storage="minifat",Me.size<0?Me.size=0:ae!==L&&Me.start!==L&&W[ae]&&(Me.content=p(Me,W[ae].data,(W[xe]||{}).data))),Me.content&&qa(Me.content,0),X[ge]=Me,le.push(Me)}}function y(A,W){return new Date((Ya(A,W+4)/1e7*Math.pow(2,32)+Ya(A,W)/1e7-11644473600)*1e3)}function j(A,W){return u(),d(c.readFileSync(A),W)}function N(A,W){var B=W&&W.type;switch(B||er&&Buffer.isBuffer(A)&&(B="buffer"),B||"base64"){case"file":return j(A,W);case"base64":return d(Zs(Ro(A)),W);case"binary":return d(Zs(A),W)}return d(A,W)}function E(A,W){var B=W||{},V=B.root||"Root Entry";if(A.FullPaths||(A.FullPaths=[]),A.FileIndex||(A.FileIndex=[]),A.FullPaths.length!==A.FileIndex.length)throw new Error("inconsistent CFB structure");A.FullPaths.length===0&&(A.FullPaths[0]=V+"/",A.FileIndex[0]={name:V,type:5}),B.CLSID&&(A.FileIndex[0].clsid=B.CLSID),S(A)}function S(A){var W="Sh33tJ5";if(!xr.find(A,"/"+W)){var B=ke(4);B[0]=55,B[1]=B[3]=50,B[2]=54,A.FileIndex.push({name:W,type:2,content:B,size:4,L:69,R:69,C:69}),A.FullPaths.push(A.FullPaths[0]+W),_(A)}}function _(A,W){E(A);for(var B=!1,V=!1,K=A.FullPaths.length-1;K>=0;--K){var X=A.FileIndex[K];switch(X.type){case 0:V?B=!0:(A.FileIndex.pop(),A.FullPaths.pop());break;case 1:case 2:case 5:V=!0,isNaN(X.R*X.L*X.C)&&(B=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(B=!0);break;default:B=!0;break}}if(!(!B&&!W)){var le=new Date(1987,1,19),xe=0,ae=Object.create?Object.create(null):{},fe=[];for(K=0;K<A.FullPaths.length;++K)ae[A.FullPaths[K]]=!0,A.FileIndex[K].type!==0&&fe.push([A.FullPaths[K],A.FileIndex[K]]);for(K=0;K<fe.length;++K){var pe=n(fe[K][0]);V=ae[pe],V||(fe.push([pe,{name:a(pe).replace("/",""),type:1,clsid:I,ct:le,mt:le,content:null}]),ae[pe]=!0)}for(fe.sort(function(ge,ye){return r(ge[0],ye[0])}),A.FullPaths=[],A.FileIndex=[],K=0;K<fe.length;++K)A.FullPaths[K]=fe[K][0],A.FileIndex[K]=fe[K][1];for(K=0;K<fe.length;++K){var Te=A.FileIndex[K],Se=A.FullPaths[K];if(Te.name=a(Se).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||I,K===0)Te.C=fe.length>1?1:-1,Te.size=0,Te.type=5;else if(Se.slice(-1)=="/"){for(xe=K+1;xe<fe.length&&n(A.FullPaths[xe])!=Se;++xe);for(Te.C=xe>=fe.length?-1:xe,xe=K+1;xe<fe.length&&n(A.FullPaths[xe])!=n(Se);++xe);Te.R=xe>=fe.length?-1:xe,Te.type=1}else n(A.FullPaths[K+1]||"")==n(Se)&&(Te.R=K+1),Te.type=2}}}function D(A,W){var B=W||{};if(B.fileType=="mad")return Tn(A,B);switch(_(A),B.fileType){case"zip":return Fu(A,B)}var V=function(ge){for(var ye=0,Me=0,Ve=0;Ve<ge.FileIndex.length;++Ve){var _t=ge.FileIndex[Ve];if(_t.content){var Mt=_t.content.length;Mt>0&&(Mt<4096?ye+=Mt+63>>6:Me+=Mt+511>>9)}}for(var Pt=ge.FullPaths.length+3>>2,Pr=ye+7>>3,$a=ye+127>>7,Be=Pr+Me+Pt+$a,xt=Be+127>>7,Hr=xt<=109?0:Math.ceil((xt-109)/127);Be+xt+Hr+127>>7>xt;)Hr=++xt<=109?0:Math.ceil((xt-109)/127);var En=[1,Hr,xt,$a,Pt,Me,ye,0];return ge.FileIndex[0].size=ye<<6,En[7]=(ge.FileIndex[0].start=En[0]+En[1]+En[2]+En[3]+En[4]+En[5])+(En[6]+7>>3),En}(A),K=ke(V[7]<<9),X=0,le=0;{for(X=0;X<8;++X)K.write_shift(1,P[X]);for(X=0;X<8;++X)K.write_shift(2,0);for(K.write_shift(2,62),K.write_shift(2,3),K.write_shift(2,65534),K.write_shift(2,9),K.write_shift(2,6),X=0;X<3;++X)K.write_shift(2,0);for(K.write_shift(4,0),K.write_shift(4,V[2]),K.write_shift(4,V[0]+V[1]+V[2]+V[3]-1),K.write_shift(4,0),K.write_shift(4,4096),K.write_shift(4,V[3]?V[0]+V[1]+V[2]-1:L),K.write_shift(4,V[3]),K.write_shift(-4,V[1]?V[0]-1:L),K.write_shift(4,V[1]),X=0;X<109;++X)K.write_shift(-4,X<V[2]?V[1]+X:-1)}if(V[1])for(le=0;le<V[1];++le){for(;X<236+le*127;++X)K.write_shift(-4,X<V[2]?V[1]+X:-1);K.write_shift(-4,le===V[1]-1?L:le+1)}var xe=function(ge){for(le+=ge;X<le-1;++X)K.write_shift(-4,X+1);ge&&(++X,K.write_shift(-4,L))};for(le=X=0,le+=V[1];X<le;++X)K.write_shift(-4,M.DIFSECT);for(le+=V[2];X<le;++X)K.write_shift(-4,M.FATSECT);xe(V[3]),xe(V[4]);for(var ae=0,fe=0,pe=A.FileIndex[0];ae<A.FileIndex.length;++ae)pe=A.FileIndex[ae],pe.content&&(fe=pe.content.length,!(fe<4096)&&(pe.start=le,xe(fe+511>>9)));for(xe(V[6]+7>>3);K.l&511;)K.write_shift(-4,M.ENDOFCHAIN);for(le=X=0,ae=0;ae<A.FileIndex.length;++ae)pe=A.FileIndex[ae],pe.content&&(fe=pe.content.length,!(!fe||fe>=4096)&&(pe.start=le,xe(fe+63>>6)));for(;K.l&511;)K.write_shift(-4,M.ENDOFCHAIN);for(X=0;X<V[4]<<2;++X){var Te=A.FullPaths[X];if(!Te||Te.length===0){for(ae=0;ae<17;++ae)K.write_shift(4,0);for(ae=0;ae<3;++ae)K.write_shift(4,-1);for(ae=0;ae<12;++ae)K.write_shift(4,0);continue}pe=A.FileIndex[X],X===0&&(pe.start=pe.size?pe.start-1:L);var Se=X===0&&B.root||pe.name;if(fe=2*(Se.length+1),K.write_shift(64,Se,"utf16le"),K.write_shift(2,fe),K.write_shift(1,pe.type),K.write_shift(1,pe.color),K.write_shift(-4,pe.L),K.write_shift(-4,pe.R),K.write_shift(-4,pe.C),pe.clsid)K.write_shift(16,pe.clsid,"hex");else for(ae=0;ae<4;++ae)K.write_shift(4,0);K.write_shift(4,pe.state||0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,pe.start),K.write_shift(4,pe.size),K.write_shift(4,0)}for(X=1;X<A.FileIndex.length;++X)if(pe=A.FileIndex[X],pe.size>=4096)if(K.l=pe.start+1<<9,er&&Buffer.isBuffer(pe.content))pe.content.copy(K,K.l,0,pe.size),K.l+=pe.size+511&-512;else{for(ae=0;ae<pe.size;++ae)K.write_shift(1,pe.content[ae]);for(;ae&511;++ae)K.write_shift(1,0)}for(X=1;X<A.FileIndex.length;++X)if(pe=A.FileIndex[X],pe.size>0&&pe.size<4096)if(er&&Buffer.isBuffer(pe.content))pe.content.copy(K,K.l,0,pe.size),K.l+=pe.size+63&-64;else{for(ae=0;ae<pe.size;++ae)K.write_shift(1,pe.content[ae]);for(;ae&63;++ae)K.write_shift(1,0)}if(er)K.l=K.length;else for(;K.l<K.length;)K.write_shift(1,0);return K}function F(A,W){var B=A.FullPaths.map(function(ae){return ae.toUpperCase()}),V=B.map(function(ae){var fe=ae.split("/");return fe[fe.length-(ae.slice(-1)=="/"?2:1)]}),K=!1;W.charCodeAt(0)===47?(K=!0,W=B[0].slice(0,-1)+W):K=W.indexOf("/")!==-1;var X=W.toUpperCase(),le=K===!0?B.indexOf(X):V.indexOf(X);if(le!==-1)return A.FileIndex[le];var xe=!X.match(ig);for(X=X.replace(lm,""),xe&&(X=X.replace(ig,"!")),le=0;le<B.length;++le)if((xe?B[le].replace(ig,"!"):B[le]).replace(lm,"")==X||(xe?V[le].replace(ig,"!"):V[le]).replace(lm,"")==X)return A.FileIndex[le];return null}var O=64,L=-2,k="d0cf11e0a1b11ae1",P=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",M={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:k,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function C(A,W,B){u();var V=D(A,B);c.writeFileSync(W,V)}function R(A){for(var W=new Array(A.length),B=0;B<A.length;++B)W[B]=String.fromCharCode(A[B]);return W.join("")}function z(A,W){var B=D(A,W);switch(W&&W.type||"buffer"){case"file":return u(),c.writeFileSync(W.filename,B),B;case"binary":return typeof B=="string"?B:R(B);case"base64":return ep(typeof B=="string"?B:R(B));case"buffer":if(er)return Buffer.isBuffer(B)?B:Wo(B);case"array":return typeof B=="string"?Zs(B):B}return B}var J;function U(A){try{var W=A.InflateRaw,B=new W;if(B._processChunk(new Uint8Array([3,0]),B._finishFlushFlag),B.bytesRead)J=A;else throw new Error("zlib does not expose bytesRead")}catch(V){console.error("cannot use native zlib: "+(V.message||V))}}function q(A,W){if(!J)return La(A,W);var B=J.InflateRaw,V=new B,K=V._processChunk(A.slice(A.l),V._finishFlushFlag);return A.l+=V.bytesRead,K}function Y(A){return J?J.deflateRawSync(A):Wt(A)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(A){var W=(A<<1|A<<11)&139536|(A<<5|A<<15)&558144;return(W>>16|W>>8|W)&255}for(var G=typeof Uint8Array<"u",re=G?new Uint8Array(256):[],de=0;de<256;++de)re[de]=he(de);function ne(A,W){var B=re[A&255];return W<=8?B>>>8-W:(B=B<<8|re[A>>8&255],W<=16?B>>>16-W:(B=B<<8|re[A>>16&255],B>>>24-W))}function Ee(A,W){var B=W&7,V=W>>>3;return(A[V]|(B<=6?0:A[V+1]<<8))>>>B&3}function Ce(A,W){var B=W&7,V=W>>>3;return(A[V]|(B<=5?0:A[V+1]<<8))>>>B&7}function De(A,W){var B=W&7,V=W>>>3;return(A[V]|(B<=4?0:A[V+1]<<8))>>>B&15}function Pe(A,W){var B=W&7,V=W>>>3;return(A[V]|(B<=3?0:A[V+1]<<8))>>>B&31}function ce(A,W){var B=W&7,V=W>>>3;return(A[V]|(B<=1?0:A[V+1]<<8))>>>B&127}function $e(A,W,B){var V=W&7,K=W>>>3,X=(1<<B)-1,le=A[K]>>>V;return B<8-V||(le|=A[K+1]<<8-V,B<16-V)||(le|=A[K+2]<<16-V,B<24-V)||(le|=A[K+3]<<24-V),le&X}function ct(A,W,B){var V=W&7,K=W>>>3;return V<=5?A[K]|=(B&7)<<V:(A[K]|=B<<V&255,A[K+1]=(B&7)>>8-V),W+3}function zt(A,W,B){var V=W&7,K=W>>>3;return B=(B&1)<<V,A[K]|=B,W+1}function be(A,W,B){var V=W&7,K=W>>>3;return B<<=V,A[K]|=B&255,B>>>=8,A[K+1]=B,W+8}function H(A,W,B){var V=W&7,K=W>>>3;return B<<=V,A[K]|=B&255,B>>>=8,A[K+1]=B&255,A[K+2]=B>>>8,W+16}function te(A,W){var B=A.length,V=2*B>W?2*B:W+5,K=0;if(B>=W)return A;if(er){var X=YC(V);if(A.copy)A.copy(X);else for(;K<A.length;++K)X[K]=A[K];return X}else if(G){var le=new Uint8Array(V);if(le.set)le.set(A);else for(;K<B;++K)le[K]=A[K];return le}return A.length=V,A}function me(A){for(var W=new Array(A),B=0;B<A;++B)W[B]=0;return W}function Re(A,W,B){var V=1,K=0,X=0,le=0,xe=0,ae=A.length,fe=G?new Uint16Array(32):me(32);for(X=0;X<32;++X)fe[X]=0;for(X=ae;X<B;++X)A[X]=0;ae=A.length;var pe=G?new Uint16Array(ae):me(ae);for(X=0;X<ae;++X)fe[K=A[X]]++,V<K&&(V=K),pe[X]=0;for(fe[0]=0,X=1;X<=V;++X)fe[X+16]=xe=xe+fe[X-1]<<1;for(X=0;X<ae;++X)xe=A[X],xe!=0&&(pe[X]=fe[xe+16]++);var Te=0;for(X=0;X<ae;++X)if(Te=A[X],Te!=0)for(xe=ne(pe[X],V)>>V-Te,le=(1<<V+4-Te)-1;le>=0;--le)W[xe|le<<Te]=Te&15|X<<4;return V}var Ie=G?new Uint16Array(512):me(512),ve=G?new Uint16Array(32):me(32);if(!G){for(var je=0;je<512;++je)Ie[je]=0;for(je=0;je<32;++je)ve[je]=0}(function(){for(var A=[],W=0;W<32;W++)A.push(5);Re(A,ve,32);var B=[];for(W=0;W<=143;W++)B.push(8);for(;W<=255;W++)B.push(9);for(;W<=279;W++)B.push(7);for(;W<=287;W++)B.push(8);Re(B,Ie,288)})();var pt=function(){for(var W=G?new Uint8Array(32768):[],B=0,V=0;B<ue.length-1;++B)for(;V<ue[B+1];++V)W[V]=B;for(;V<32768;++V)W[V]=29;var K=G?new Uint8Array(259):[];for(B=0,V=0;B<Z.length-1;++B)for(;V<Z[B+1];++V)K[V]=B;function X(xe,ae){for(var fe=0;fe<xe.length;){var pe=Math.min(65535,xe.length-fe),Te=fe+pe==xe.length;for(ae.write_shift(1,+Te),ae.write_shift(2,pe),ae.write_shift(2,~pe&65535);pe-- >0;)ae[ae.l++]=xe[fe++]}return ae.l}function le(xe,ae){for(var fe=0,pe=0,Te=G?new Uint16Array(32768):[];pe<xe.length;){var Se=Math.min(65535,xe.length-pe);if(Se<10){for(fe=ct(ae,fe,+(pe+Se==xe.length)),fe&7&&(fe+=8-(fe&7)),ae.l=fe/8|0,ae.write_shift(2,Se),ae.write_shift(2,~Se&65535);Se-- >0;)ae[ae.l++]=xe[pe++];fe=ae.l*8;continue}fe=ct(ae,fe,+(pe+Se==xe.length)+2);for(var ge=0;Se-- >0;){var ye=xe[pe];ge=(ge<<5^ye)&32767;var Me=-1,Ve=0;if((Me=Te[ge])&&(Me|=pe&-32768,Me>pe&&(Me-=32768),Me<pe))for(;xe[Me+Ve]==xe[pe+Ve]&&Ve<250;)++Ve;if(Ve>2){ye=K[Ve],ye<=22?fe=be(ae,fe,re[ye+1]>>1)-1:(be(ae,fe,3),fe+=5,be(ae,fe,re[ye-23]>>5),fe+=3);var _t=ye<8?0:ye-4>>2;_t>0&&(H(ae,fe,Ve-Z[ye]),fe+=_t),ye=W[pe-Me],fe=be(ae,fe,re[ye]>>3),fe-=3;var Mt=ye<4?0:ye-2>>1;Mt>0&&(H(ae,fe,pe-Me-ue[ye]),fe+=Mt);for(var Pt=0;Pt<Ve;++Pt)Te[ge]=pe&32767,ge=(ge<<5^xe[pe])&32767,++pe;Se-=Ve-1}else ye<=143?ye=ye+48:fe=zt(ae,fe,1),fe=be(ae,fe,re[ye]),Te[ge]=pe&32767,++pe}fe=be(ae,fe,0)-1}return ae.l=(fe+7)/8|0,ae.l}return function(ae,fe){return ae.length<8?X(ae,fe):le(ae,fe)}}();function Wt(A){var W=ke(50+Math.floor(A.length*1.1)),B=pt(A,W);return W.slice(0,B)}var rr=G?new Uint16Array(32768):me(32768),os=G?new Uint16Array(32768):me(32768),Is=G?new Uint16Array(128):me(128),vi=1,yi=1;function ls(A,W){var B=Pe(A,W)+257;W+=5;var V=Pe(A,W)+1;W+=5;var K=De(A,W)+4;W+=4;for(var X=0,le=G?new Uint8Array(19):me(19),xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ae=1,fe=G?new Uint8Array(8):me(8),pe=G?new Uint8Array(8):me(8),Te=le.length,Se=0;Se<K;++Se)le[Q[Se]]=X=Ce(A,W),ae<X&&(ae=X),fe[X]++,W+=3;var ge=0;for(fe[0]=0,Se=1;Se<=ae;++Se)pe[Se]=ge=ge+fe[Se-1]<<1;for(Se=0;Se<Te;++Se)(ge=le[Se])!=0&&(xe[Se]=pe[ge]++);var ye=0;for(Se=0;Se<Te;++Se)if(ye=le[Se],ye!=0){ge=re[xe[Se]]>>8-ye;for(var Me=(1<<7-ye)-1;Me>=0;--Me)Is[ge|Me<<ye]=ye&7|Se<<3}var Ve=[];for(ae=1;Ve.length<B+V;)switch(ge=Is[ce(A,W)],W+=ge&7,ge>>>=3){case 16:for(X=3+Ee(A,W),W+=2,ge=Ve[Ve.length-1];X-- >0;)Ve.push(ge);break;case 17:for(X=3+Ce(A,W),W+=3;X-- >0;)Ve.push(0);break;case 18:for(X=11+ce(A,W),W+=7;X-- >0;)Ve.push(0);break;default:Ve.push(ge),ae<ge&&(ae=ge);break}var _t=Ve.slice(0,B),Mt=Ve.slice(B);for(Se=B;Se<286;++Se)_t[Se]=0;for(Se=V;Se<30;++Se)Mt[Se]=0;return vi=Re(_t,rr,286),yi=Re(Mt,os,30),W}function wi(A,W){if(A[0]==3&&!(A[1]&3))return[fu(W),2];for(var B=0,V=0,K=YC(W||1<<18),X=0,le=K.length>>>0,xe=0,ae=0;!(V&1);){if(V=Ce(A,B),B+=3,V>>>1)V>>1==1?(xe=9,ae=5):(B=ls(A,B),xe=vi,ae=yi);else{B&7&&(B+=8-(B&7));var fe=A[B>>>3]|A[(B>>>3)+1]<<8;if(B+=32,fe>0)for(!W&&le<X+fe&&(K=te(K,X+fe),le=K.length);fe-- >0;)K[X++]=A[B>>>3],B+=8;continue}for(;;){!W&&le<X+32767&&(K=te(K,X+32767),le=K.length);var pe=$e(A,B,xe),Te=V>>>1==1?Ie[pe]:rr[pe];if(B+=Te&15,Te>>>=4,!(Te>>>8&255))K[X++]=Te;else{if(Te==256)break;Te-=257;var Se=Te<8?0:Te-4>>2;Se>5&&(Se=0);var ge=X+Z[Te];Se>0&&(ge+=$e(A,B,Se),B+=Se),pe=$e(A,B,ae),Te=V>>>1==1?ve[pe]:os[pe],B+=Te&15,Te>>>=4;var ye=Te<4?0:Te-2>>1,Me=ue[Te];for(ye>0&&(Me+=$e(A,B,ye),B+=ye),!W&&le<ge&&(K=te(K,ge+100),le=K.length);X<ge;)K[X]=K[X-Me],++X}}}return W?[K,B+7>>>3]:[K.slice(0,X),B+7>>>3]}function La(A,W){var B=A.slice(A.l||0),V=wi(B,W);return A.l+=V[1],V[0]}function Ms(A,W){if(A)typeof console<"u"&&console.error(W);else throw new Error(W)}function mc(A,W){var B=A;qa(B,0);var V=[],K=[],X={FileIndex:V,FullPaths:K};E(X,{root:W.root});for(var le=B.length-4;(B[le]!=80||B[le+1]!=75||B[le+2]!=5||B[le+3]!=6)&&le>=0;)--le;B.l=le+4,B.l+=4;var xe=B.read_shift(2);B.l+=6;var ae=B.read_shift(4);for(B.l=ae,le=0;le<xe;++le){B.l+=20;var fe=B.read_shift(4),pe=B.read_shift(4),Te=B.read_shift(2),Se=B.read_shift(2),ge=B.read_shift(2);B.l+=8;var ye=B.read_shift(4),Me=l(B.slice(B.l+Te,B.l+Te+Se));B.l+=Te+Se+ge;var Ve=B.l;B.l=ye+4,Ru(B,fe,pe,X,Me),B.l=Ve}return X}function Ru(A,W,B,V,K){A.l+=2;var X=A.read_shift(2),le=A.read_shift(2),xe=o(A);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var ae=A.read_shift(4),fe=A.read_shift(4),pe=A.read_shift(4),Te=A.read_shift(2),Se=A.read_shift(2),ge="",ye=0;ye<Te;++ye)ge+=String.fromCharCode(A[A.l++]);if(Se){var Me=l(A.slice(A.l,A.l+Se));(Me[21589]||{}).mt&&(xe=Me[21589].mt),((K||{})[21589]||{}).mt&&(xe=K[21589].mt)}A.l+=Se;var Ve=A.slice(A.l,A.l+fe);switch(le){case 8:Ve=q(A,pe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var _t=!1;X&8&&(ae=A.read_shift(4),ae==134695760&&(ae=A.read_shift(4),_t=!0),fe=A.read_shift(4),pe=A.read_shift(4)),fe!=W&&Ms(_t,"Bad compressed size: "+W+" != "+fe),pe!=B&&Ms(_t,"Bad uncompressed size: "+B+" != "+pe),sa(V,ge,Ve,{unsafe:!0,mt:xe})}function Fu(A,W){var B=W||{},V=[],K=[],X=ke(1),le=B.compression?8:0,xe=0,ae=0,fe=0,pe=0,Te=0,Se=A.FullPaths[0],ge=Se,ye=A.FileIndex[0],Me=[],Ve=0;for(ae=1;ae<A.FullPaths.length;++ae)if(ge=A.FullPaths[ae].slice(Se.length),ye=A.FileIndex[ae],!(!ye.size||!ye.content||ge=="Sh33tJ5")){var _t=pe,Mt=ke(ge.length);for(fe=0;fe<ge.length;++fe)Mt.write_shift(1,ge.charCodeAt(fe)&127);Mt=Mt.slice(0,Mt.l),Me[Te]=$ee.buf(ye.content,0);var Pt=ye.content;le==8&&(Pt=Y(Pt)),X=ke(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,xe),X.write_shift(2,le),ye.mt?i(X,ye.mt):X.write_shift(4,0),X.write_shift(-4,Me[Te]),X.write_shift(4,Pt.length),X.write_shift(4,ye.content.length),X.write_shift(2,Mt.length),X.write_shift(2,0),pe+=X.length,V.push(X),pe+=Mt.length,V.push(Mt),pe+=Pt.length,V.push(Pt),X=ke(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,xe),X.write_shift(2,le),X.write_shift(4,0),X.write_shift(-4,Me[Te]),X.write_shift(4,Pt.length),X.write_shift(4,ye.content.length),X.write_shift(2,Mt.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,_t),Ve+=X.l,K.push(X),Ve+=Mt.length,K.push(Mt),++Te}return X=ke(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Te),X.write_shift(2,Te),X.write_shift(4,Ve),X.write_shift(4,pe),X.write_shift(2,0),Pn([Pn(V),Pn(K),X])}var Xi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pc(A,W){if(A.ctype)return A.ctype;var B=A.name||"",V=B.match(/\.([^\.]+)$/);return V&&Xi[V[1]]||W&&(V=(B=W).match(/[\.\\]([^\.\\])+$/),V&&Xi[V[1]])?Xi[V[1]]:"application/octet-stream"}function ie(A){for(var W=ep(A),B=[],V=0;V<W.length;V+=76)B.push(W.slice(V,V+76));return B.join(`\r
`)+`\r
`}function Ge(A){var W=A.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(fe){var pe=fe.charCodeAt(0).toString(16).toUpperCase();return"="+(pe.length==1?"0"+pe:pe)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var B=[],V=W.split(`\r
`),K=0;K<V.length;++K){var X=V[K];if(X.length==0){B.push("");continue}for(var le=0;le<X.length;){var xe=76,ae=X.slice(le,le+xe);ae.charAt(xe-1)=="="?xe--:ae.charAt(xe-2)=="="?xe-=2:ae.charAt(xe-3)=="="&&(xe-=3),ae=X.slice(le,le+xe),le+=xe,le<X.length&&(ae+="="),B.push(ae)}}return B.join(`\r
`)}function Gt(A){for(var W=[],B=0;B<A.length;++B){for(var V=A[B];B<=A.length&&V.charAt(V.length-1)=="=";)V=V.slice(0,V.length-1)+A[++B];W.push(V)}for(var K=0;K<W.length;++K)W[K]=W[K].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return Zs(W.join(`\r
`))}function Gr(A,W,B){for(var V="",K="",X="",le,xe=0;xe<10;++xe){var ae=W[xe];if(!ae||ae.match(/^\s*$/))break;var fe=ae.match(/^(.*?):\s*([^\s].*)$/);if(fe)switch(fe[1].toLowerCase()){case"content-location":V=fe[2].trim();break;case"content-type":X=fe[2].trim();break;case"content-transfer-encoding":K=fe[2].trim();break}}switch(++xe,K.toLowerCase()){case"base64":le=Zs(Ro(W.slice(xe).join("")));break;case"quoted-printable":le=Gt(W.slice(xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+K)}var pe=sa(A,V.slice(B.length),le,{unsafe:!0});X&&(pe.ctype=X)}function hn(A,W){if(R(A.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var B=W&&W.root||"",V=(er&&Buffer.isBuffer(A)?A.toString("binary"):R(A)).split(`\r
`),K=0,X="";for(K=0;K<V.length;++K)if(X=V[K],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),B||(B=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,B.length)!=B))for(;B.length>0&&(B=B.slice(0,B.length-1),B=B.slice(0,B.lastIndexOf("/")+1),X.slice(0,B.length)!=B););var le=(V[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var xe="--"+(le[1]||""),ae=[],fe=[],pe={FileIndex:ae,FullPaths:fe};E(pe);var Te,Se=0;for(K=0;K<V.length;++K){var ge=V[K];ge!==xe&&ge!==xe+"--"||(Se++&&Gr(pe,V.slice(Te,K),B),Te=K)}return pe}function Tn(A,W){var B=W||{},V=B.boundary||"SheetJS";V="------="+V;for(var K=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+V.slice(2)+'"',"","",""],X=A.FullPaths[0],le=X,xe=A.FileIndex[0],ae=1;ae<A.FullPaths.length;++ae)if(le=A.FullPaths[ae].slice(X.length),xe=A.FileIndex[ae],!(!xe.size||!xe.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ve){return"_x"+Ve.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ve){return"_u"+Ve.charCodeAt(0).toString(16)+"_"});for(var fe=xe.content,pe=er&&Buffer.isBuffer(fe)?fe.toString("binary"):R(fe),Te=0,Se=Math.min(1024,pe.length),ge=0,ye=0;ye<=Se;++ye)(ge=pe.charCodeAt(ye))>=32&&ge<128&&++Te;var Me=Te>=Se*4/5;K.push(V),K.push("Content-Location: "+(B.root||"file:///C:/SheetJS/")+le),K.push("Content-Transfer-Encoding: "+(Me?"quoted-printable":"base64")),K.push("Content-Type: "+pc(xe,le)),K.push(""),K.push(Me?Ge(pe):ie(pe))}return K.push(V+`--\r
`),K.join(`\r
`)}function aa(A){var W={};return E(W,A),W}function sa(A,W,B,V){var K=V&&V.unsafe;K||E(A);var X=!K&&xr.find(A,W);if(!X){var le=A.FullPaths[0];W.slice(0,le.length)==le?le=W:(le.slice(-1)!="/"&&(le+="/"),le=(le+W).replace("//","/")),X={name:a(W),type:2},A.FileIndex.push(X),A.FullPaths.push(le),K||xr.utils.cfb_gc(A)}return X.content=B,X.size=B?B.length:0,V&&(V.CLSID&&(X.clsid=V.CLSID),V.mt&&(X.mt=V.mt),V.ct&&(X.ct=V.ct)),X}function Rs(A,W){E(A);var B=xr.find(A,W);if(B){for(var V=0;V<A.FileIndex.length;++V)if(A.FileIndex[V]==B)return A.FileIndex.splice(V,1),A.FullPaths.splice(V,1),!0}return!1}function ia(A,W,B){E(A);var V=xr.find(A,W);if(V){for(var K=0;K<A.FileIndex.length;++K)if(A.FileIndex[K]==V)return A.FileIndex[K].name=a(B),A.FullPaths[K]=B,!0}return!1}function qo(A){_(A,!0)}return t.find=F,t.read=N,t.parse=d,t.write=z,t.writeFile=C,t.utils={cfb_new:aa,cfb_add:sa,cfb_del:Rs,cfb_mov:ia,cfb_gc:qo,ReadShift:um,CheckField:x5,prep_blob:qa,bconcat:Pn,use_zlib:U,_deflateRaw:Wt,_inflateRaw:La,consts:M},t}();function Bee(e){return typeof e=="string"?zy(e):Array.isArray(e)?fee(e):e}function p0(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=zy(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?rp(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Bee(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=m0(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function $n(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function nD(e,t){for(var r=[],n=$n(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function W_(e){for(var t=[],r=$n(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Gy(e){for(var t=[],r=$n(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Uee(e){for(var t=[],r=$n(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Kx=new Date(1899,11,30,0,0,0);function Ma(e,t){var r=e.getTime(),n=Kx.getTime()+(e.getTimezoneOffset()-Kx.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var e5=new Date,Wee=Kx.getTime()+(e5.getTimezoneOffset()-Kx.getTimezoneOffset())*6e4,aD=e5.getTimezoneOffset();function t5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Wee),t.getTimezoneOffset()!==aD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-aD)*6e4),t}var sD=new Date("2017-02-19T19:06:09.000Z"),r5=isNaN(sD.getFullYear())?new Date("2/19/17"):sD,Vee=r5.getFullYear()==2017;function va(e,t){var r=new Date(e);if(Vee)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(r5.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Yy(e,t){if(er&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ra(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ra(e[r]));return t}function Ur(e,t){for(var r="";r.length<t;)r+=e;return r}function jo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Hee=["january","february","march","april","may","june","july","august","september","october","november","december"];function tp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Hee.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Bt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return er?n=Wo(r):n=hee(r),xr.utils.cfb_add(e,t,n)}xr.utils.cfb_add(e,t,r)}else e.file(t,r)}function V_(){return xr.utils.cfb_new()}var tn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,zee={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},H_=W_(zee),z_=/[&<>'"]/g,qee=/[\u0000-\u0008\u000b-\u001f]/g;function hr(e){var t=e+"";return t.replace(z_,function(r){return H_[r]}).replace(qee,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function iD(e){return hr(e).replace(/ /g,"_x0020_")}var n5=/[\u0000-\u001f]/g;function Kee(e){var t=e+"";return t.replace(z_,function(r){return H_[r]}).replace(/\n/g,"<br/>").replace(n5,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Gee(e){var t=e+"";return t.replace(z_,function(r){return H_[r]}).replace(n5,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Yee(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Xee(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function qw(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function oD(e){var t=fu(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function lD(e){return Wo(e,"binary").toString("utf8")}var lg="foo bar bazâð£",cm=er&&(lD(lg)==qw(lg)&&lD||oD(lg)==qw(lg)&&oD)||qw,rp=er?function(e){return Wo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Qee=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),a5=/(^\s|\s$|\n)/;function In(e,t){return"<"+e+(t.match(a5)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function np(e){return $n(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ze(e,t,r){return"<"+e+(r!=null?np(r):"")+(t!=null?(t.match(a5)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function lN(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Zee(e,t){switch(typeof e){case"string":var r=ze("vt:lpwstr",hr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ze((e|0)==e?"vt:i4":"vt:r8",hr(String(e)));case"boolean":return ze("vt:bool",e?"true":"false")}if(e instanceof Date)return ze("vt:filetime",lN(e));throw new Error("Unable to serialize "+e)}var xn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Xf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ga={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Jee(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function ete(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var cD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},uD=er?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Wo(t)})):cD(e)}:cD,dD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Gh(e,a)));return n.join("").replace(lm,"")},q_=er?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(lm,""):dD(e,t,r)}:dD,fD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},s5=er?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):fD(e,t,r)}:fD,hD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(td(e,a)));return n.join("")},g0=er?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):hD(t,r,n)}:hD,i5=function(e,t){var r=Ya(e,t);return r>0?g0(e,t+4,t+4+r-1):""},o5=i5,l5=function(e,t){var r=Ya(e,t);return r>0?g0(e,t+4,t+4+r-1):""},c5=l5,u5=function(e,t){var r=2*Ya(e,t);return r>0?g0(e,t+4,t+4+r-1):""},d5=u5,f5=function(t,r){var n=Ya(t,r);return n>0?q_(t,r+4,r+4+n):""},h5=f5,m5=function(e,t){var r=Ya(e,t);return r>0?g0(e,t+4,t+4+r):""},p5=m5,g5=function(e,t){return Jee(e,t)},Gx=g5,K_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};er&&(o5=function(t,r){if(!Buffer.isBuffer(t))return i5(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},c5=function(t,r){if(!Buffer.isBuffer(t))return l5(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},d5=function(t,r){if(!Buffer.isBuffer(t))return u5(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},h5=function(t,r){if(!Buffer.isBuffer(t))return f5(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},p5=function(t,r){if(!Buffer.isBuffer(t))return m5(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Gx=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):g5(t,r)},K_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var td=function(e,t){return e[t]},Gh=function(e,t){return e[t+1]*256+e[t]},tte=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ya=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ec=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},rte=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function um(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,er&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Gh(this,u)),u+=2;e*=2;break;case"utf8":r=g0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=q_(this,this.l,this.l+e);break;case"wstr":return um.call(this,e,"dbcs");case"lpstr-ansi":r=o5(this,this.l),e=4+Ya(this,this.l);break;case"lpstr-cp":r=c5(this,this.l),e=4+Ya(this,this.l);break;case"lpwstr":r=d5(this,this.l),e=4+2*Ya(this,this.l);break;case"lpp4":e=4+Ya(this,this.l),r=h5(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ya(this,this.l),r=p5(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=td(this,this.l+e++))!==0;)i.push(sg(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Gh(this,this.l+e))!==0;)i.push(sg(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=td(this,u),this.l=u+1,l=um.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(sg(Gh(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=td(this,u),this.l=u+1,l=um.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(sg(td(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=td(this,this.l),this.l++,n;case 2:return n=(t==="i"?tte:Gh)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ec:rte)(this,this.l),this.l+=4,n):(a=Ya(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Gx(this,this.l):a=Gx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=s5(this,this.l,e);break}}return this.l+=e,r}var nte=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ate=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},ste=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ite(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)ste(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,nte(this,t,this.l);break;case 8:if(n=8,r==="f"){ete(this,t,this.l);break}case 16:break;case-4:n=4,ate(this,t,this.l);break}return this.l+=n,this}function x5(e,t){var r=s5(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function qa(e,t){e.l=t,e.read_shift=um,e.chk=x5,e.write_shift=ite}function Hi(e,t){e.l+=t}function ke(e){var t=fu(e);return qa(t,0),t}function Ia(){var e=[],t=er?256:2048,r=function(u){var d=ke(u);return qa(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Pn(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Fe(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Jie[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&K_(r)&&e.push(r)}}function dm(e,t,r){var n=Ra(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function mD(e,t,r){var n=Ra(e);return n.s=dm(n.s,t.s,r),n.e=dm(n.e,t.s,r),n}function fm(e,t){if(e.cRel&&e.c<0)for(e=Ra(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ra(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=pr(e);return!e.cRel&&e.cRel!=null&&(r=cte(r)),!e.rRel&&e.rRel!=null&&(r=ote(r)),r}function Kw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ea(e.s.c)+":"+(e.e.cRel?"":"$")+ea(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Fn(e.s.r)+":"+(e.e.rRel?"":"$")+Fn(e.e.r):fm(e.s,t.biff)+":"+fm(e.e,t.biff)}function G_(e){return parseInt(lte(e),10)-1}function Fn(e){return""+(e+1)}function ote(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function lte(e){return e.replace(/\$(\d+)$/,"$1")}function Y_(e){for(var t=ute(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ea(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function cte(e){return e.replace(/^([A-Z])/,"$$$1")}function ute(e){return e.replace(/^\$([A-Z])/,"$1")}function dte(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function bn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function pr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function as(e){var t=e.indexOf(":");return t==-1?{s:bn(e),e:bn(e)}:{s:bn(e.slice(0,t)),e:bn(e.slice(t+1))}}function Jr(e,t){return typeof t>"u"||typeof t=="number"?Jr(e.s,e.e):(typeof e!="string"&&(e=pr(e)),typeof t!="string"&&(t=pr(t)),e==t?e:e+":"+t)}function Dr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function pD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ql(e.z,r?Ma(t):t)}catch{}try{return e.w=Ql((e.XF||{}).numFmtId||(r?14:0),r?Ma(t):t)}catch{return""+t}}function Fo(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?x0[e.v]||e.v:t==null?pD(e,e.v):pD(e,t))}function _u(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function v5(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?bn(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Dr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},x=o+f,p=l+h;if(u.s.r>x&&(u.s.r=x),u.s.c>p&&(u.s.c=p),u.e.r<x&&(u.e.r=x),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Vr[14],n.cellDates?(m.t="d",m.w=Ql(m.z,Ma(m.v))):(m.t="n",m.v=Ma(m.v),m.w=Ql(m.z,m.v))):m.t="s";if(a)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(m.z=i[x][p].z),i[x][p]=m;else{var v=pr({c:p,r:x});i[v]&&i[v].z&&(m.z=i[v].z),i[v]=m}}}return u.s.c<1e7&&(i["!ref"]=Jr(u)),i}function Qf(e,t){return v5(null,e,t)}function fte(e){return e.read_shift(4,"i")}function li(e,t){return t||(t=ke(4)),t.write_shift(4,e),t}function ta(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function jn(e,t){var r=!1;return t==null&&(r=!0,t=ke(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function hte(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function mte(e,t){return t||(t=ke(4)),t.write_shift(2,0),t.write_shift(2,0),t}function X_(e,t){var r=e.l,n=e.read_shift(1),a=ta(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(hte(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function pte(e,t){var r=!1;return t==null&&(r=!0,t=ke(15+4*e.t.length)),t.write_shift(1,0),jn(e.t,t),r?t.slice(0,t.l):t}var gte=X_;function xte(e,t){var r=!1;return t==null&&(r=!0,t=ke(23+4*e.t.length)),t.write_shift(1,1),jn(e.t,t),t.write_shift(4,1),mte({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function ks(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Tu(e,t){return t==null&&(t=ke(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Eu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Au(e,t){return t==null&&(t=ke(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var vte=ta,y5=jn;function Q_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Yx(e,t){var r=!1;return t==null&&(r=!0,t=ke(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var yte=ta,cN=Q_,Z_=Yx;function w5(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Gx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ec(t,0)>>2;return r?a/100:a}function b5(e,t){t==null&&(t=ke(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function j5(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function wte(e,t){return t||(t=ke(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Cu=j5,Zf=wte;function Jf(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function hu(e,t){return(t||ke(8)).write_shift(8,e,"f")}function bte(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Dte[a];u&&(t.rgb=TD(u));break;case 2:t.rgb=TD([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Xx(e,t){if(t||(t=ke(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function jte(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Nte(e,t){t||(t=ke(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var N5=2,Wa=3,cg=11,Qx=19,ug=64,Ste=65,_te=71,Tte=4108,Ete=4126,On=80,gD={1:{n:"CodePage",t:N5},2:{n:"Category",t:On},3:{n:"PresentationFormat",t:On},4:{n:"ByteCount",t:Wa},5:{n:"LineCount",t:Wa},6:{n:"ParagraphCount",t:Wa},7:{n:"SlideCount",t:Wa},8:{n:"NoteCount",t:Wa},9:{n:"HiddenCount",t:Wa},10:{n:"MultimediaClipCount",t:Wa},11:{n:"ScaleCrop",t:cg},12:{n:"HeadingPairs",t:Tte},13:{n:"TitlesOfParts",t:Ete},14:{n:"Manager",t:On},15:{n:"Company",t:On},16:{n:"LinksUpToDate",t:cg},17:{n:"CharacterCount",t:Wa},19:{n:"SharedDoc",t:cg},22:{n:"HyperlinksChanged",t:cg},23:{n:"AppVersion",t:Wa,p:"version"},24:{n:"DigSig",t:Ste},26:{n:"ContentType",t:On},27:{n:"ContentStatus",t:On},28:{n:"Language",t:On},29:{n:"Version",t:On},255:{},2147483648:{n:"Locale",t:Qx},2147483651:{n:"Behavior",t:Qx},1919054434:{}},xD={1:{n:"CodePage",t:N5},2:{n:"Title",t:On},3:{n:"Subject",t:On},4:{n:"Author",t:On},5:{n:"Keywords",t:On},6:{n:"Comments",t:On},7:{n:"Template",t:On},8:{n:"LastAuthor",t:On},9:{n:"RevNumber",t:On},10:{n:"EditTime",t:ug},11:{n:"LastPrinted",t:ug},12:{n:"CreatedDate",t:ug},13:{n:"ModifiedDate",t:ug},14:{n:"PageCount",t:Wa},15:{n:"WordCount",t:Wa},16:{n:"CharCount",t:Wa},17:{n:"Thumbnail",t:_te},18:{n:"Application",t:On},19:{n:"DocSecurity",t:Wa},255:{},2147483648:{n:"Locale",t:Qx},2147483651:{n:"Behavior",t:Qx},1919054434:{}};function Ate(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Cte=Ate([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Dte=Ra(Cte),x0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kte={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},dg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function S5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _5(e,t){var r=Uee(kte),n=[],a;n[n.length]=tn,n[n.length]=ze("Types",null,{xmlns:xn.CT,"xmlns:xsd":xn.xsd,"xmlns:xsi":xn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ze("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=ze("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:dg[c][t.bookType]||dg[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ze("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:dg[c][t.bookType]||dg[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ze("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Qt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function T5(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Od(e){var t=[tn,ze("Relationships",null,{xmlns:xn.RELS})];return $n(e["!id"]).forEach(function(r){t[t.length]=ze("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function dr(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Qt.HLINK,Qt.XPATH,Qt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Ote(e){var t=[tn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function vD(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Pte(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Ite(e){var t=[tn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(vD(e[r][0],e[r][1])),t.push(Pte("",e[r][0]));return t.push(vD("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function E5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Vx.version+"</meta:generator></office:meta></office:document-meta>"}var Kc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Gw(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=hr(t),n[n.length]=r?ze(e,t,r):In(e,t))}function A5(e,t){var r=t||{},n=[tn,ze("cp:coreProperties",null,{"xmlns:cp":xn.CORE_PROPS,"xmlns:dc":xn.dc,"xmlns:dcterms":xn.dcterms,"xmlns:dcmitype":xn.dcmitype,"xmlns:xsi":xn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Gw("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:lN(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Gw("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:lN(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Kc.length;++i){var o=Kc[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Gw(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Pd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],C5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function D5(e){var t=[],r=ze;return e||(e={}),e.Application="SheetJS",t[t.length]=tn,t[t.length]=ze("Properties",null,{xmlns:xn.EXT_PROPS,"xmlns:vt":xn.vt}),Pd.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=hr(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+hr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function k5(e){var t=[tn,ze("Properties",null,{xmlns:xn.CUST_PROPS,"xmlns:vt":xn.vt})];if(!e)return t.join("");var r=1;return $n(e).forEach(function(a){++r,t[t.length]=ze("property",Zee(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:hr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var yD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Mte(e,t){var r=[];return $n(yD).map(function(n){for(var a=0;a<Kc.length;++a)if(Kc[a][1]==n)return Kc[a];for(a=0;a<Pd.length;++a)if(Pd[a][1]==n)return Pd[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(In(yD[n[1]]||n[1],a))}}),ze("DocumentProperties",r.join(""),{xmlns:Ga.o})}function Rte(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&$n(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Kc.length;++o)if(i==Kc[o][1])return;for(o=0;o<Pd.length;++o)if(i==Pd[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(ze(iD(i),l,{"dt:dt":c}))}}),t&&$n(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(ze(iD(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Ga.o+'">'+a.join("")+"</"+n+">"}function Fte(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=ke(8);return o.write_shift(4,n),o.write_shift(4,a),o}function wD(e,t){var r=ke(4),n=ke(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ke(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Fte(t);break;case 31:case 80:for(n=ke(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Pn([r,n])}var O5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Lte(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function bD(e,t,r){var n=ke(8),a=[],i=[],o=8,l=0,c=ke(8),u=ke(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=ke(8),u.write_shift(4,0),a.unshift(u);var d=[ke(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=ke(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Pn(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(O5.indexOf(e[l][0])>-1||C5.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],m=0;if(t){m=+t[e[l][0]];var x=r[m];if(x.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}c=wD(x.t,h)}else{var v=Lte(h);v==-1&&(v=31,h=String(h)),c=wD(v,h)}i.push(c),u=ke(8),u.write_shift(4,t?m:2+l),a.push(u),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,b),b+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Pn([n].concat(a).concat(i))}function jD(e,t,r,n,a,i){var o=ke(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,xr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=bD(e,r,n);if(l.push(c),a){var u=bD(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Pn(l)}function $te(e,t){t||(t=ke(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Bte(e,t){return e.read_shift(t)===1}function pa(e,t){return t||(t=ke(2)),t.write_shift(2,+!!e),t}function P5(e){return e.read_shift(2,"u")}function gs(e,t){return t||(t=ke(2)),t.write_shift(2,e),t}function I5(e,t,r){return r||(r=ke(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function M5(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function Ute(e){var t=e.t||"",r=ke(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=ke(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Pn(a)}function Wte(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Vte(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Wte(e,n,r)}function Hte(e,t,r){if(r.biff>5)return Vte(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function R5(e,t,r){return r||(r=ke(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function ND(e,t){t||(t=ke(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function zte(e){var t=ke(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),ND(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&ND(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function mu(e,t,r,n){return n||(n=ke(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function qte(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function Kte(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function F5(e,t){return t||(t=ke(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function J_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ke(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Gte(e,t){var r=!t||t.biff==8,n=ke(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Yte(e,t){var r=!t||t.biff>=8?2:1,n=ke(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Xte(e,t){var r=ke(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Ute(e[a]);var i=Pn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function Qte(){var e=ke(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Zte(e){var t=ke(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Jte(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=ke(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function ere(e,t,r,n){var a=ke(10);return mu(e,t,n,a),a.write_shift(4,r),a}function tre(e,t,r,n,a){var i=!a||a.biff==8,o=ke(8+ +i+(1+i)*r.length);return mu(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function rre(e,t,r,n){var a=r&&r.biff==5;n||(n=ke(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function nre(e,t){var r=t.biff==8||!t.biff?4:2,n=ke(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function SD(e,t,r,n){var a=r&&r.biff==5;n||(n=ke(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function are(e){var t=ke(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function sre(e,t,r,n,a,i){var o=ke(8);return mu(e,t,n,o),I5(r,i,o),o}function ire(e,t,r,n){var a=ke(14);return mu(e,t,n,a),hu(r,a),a}function ore(e,t,r){if(r.biff<8)return lre(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(qte(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function lre(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=M5(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function cre(e){var t=ke(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)F5(e[r],t);return t}function ure(e){var t=ke(24),r=bn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Pn([t,zte(e[1])])}function dre(e){var t=e[1].Tooltip,r=ke(10+2*(t.length+1));r.write_shift(2,2048);var n=bn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function fre(e){return e||(e=ke(4)),e.write_shift(2,1),e.write_shift(2,1),e}function hre(e,t,r){if(!r.cellStyles)return Hi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function mre(e,t){var r=ke(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function pre(e){for(var t=ke(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function gre(e,t,r){var n=ke(15);return y0(n,e,t),n.write_shift(8,r,"f"),n}function xre(e,t,r){var n=ke(9);return y0(n,e,t),n.write_shift(2,r),n}var vre=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=W_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=fu(1);switch(c.type){case"base64":d=Zs(Ro(l));break;case"binary":d=Zs(l);break;case"buffer":case"array":d=l;break}qa(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var b=d.read_shift(2),g=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(g=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var w=[],y={},j=Math.min(d.length,f==2?521:v-10-(m?264:0)),N=x?32:11;d.l<j&&d[d.l]!=13;)switch(y={},y.name=Tc.utils.decode(g,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,y.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(y.offset=d.read_shift(4)),y.len=d.read_shift(1),f==2&&(y.offset=d.read_shift(2)),y.dec=d.read_shift(1),y.name.length&&w.push(y),f!=2&&(d.l+=x?13:14),y.type){case"B":(!m||y.len!=8)&&c.WTF&&console.log("Skipping "+y.name+":"+y.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+y.name+":"+y.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+y.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var E=0,S=0;for(u[0]=[],S=0;S!=w.length;++S)u[0][S]=w[S].name;for(;p-- >0;){if(d[d.l]===42){d.l+=b;continue}for(++d.l,u[++E]=[],S=0,S=0;S!=w.length;++S){var _=d.slice(d.l,d.l+w[S].len);d.l+=w[S].len,qa(_,0);var D=Tc.utils.decode(g,_);switch(w[S].type){case"C":D.trim().length&&(u[E][S]=D.replace(/\s+$/,""));break;case"D":D.length===8?u[E][S]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):u[E][S]=D;break;case"F":u[E][S]=parseFloat(D.trim());break;case"+":case"I":u[E][S]=x?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":u[E][S]=!0;break;case"N":case"F":u[E][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[E][S]="##MEMO##"+(x?parseInt(D.trim(),10):_.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(u[E][S]=+D||0);break;case"@":u[E][S]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":u[E][S]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":u[E][S]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][S]=-_.read_shift(-8,"f");break;case"B":if(m&&w[S].len==8){u[E][S]=_.read_shift(8,"f");break}case"G":case"P":_.l+=w[S].len;break;case"0":if(w[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[S].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Qf(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return _u(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Jm(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Ia(),f=rv(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),x=l["!cols"]||[],p=0,v=0,b=0,g=1;for(p=0;p<h.length;++p){if(((x[p]||{}).DBF||{}).name){h[p]=x[p].DBF.name,++b;continue}if(h[p]!=null){if(++b,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var w=Dr(l["!ref"]),y=[],j=[],N=[];for(p=0;p<=w.e.c-w.s.c;++p){var E="",S="",_=0,D=[];for(v=0;v<m.length;++v)m[v][p]!=null&&D.push(m[v][p]);if(D.length==0||h[p]==null){y[p]="?";continue}for(v=0;v<D.length;++v){switch(typeof D[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=D[v]instanceof Date?"D":"C";break;default:S="C"}_=Math.max(_,String(D[v]).length),E=E&&E!=S?"C":S}_>250&&(_=250),S=((x[p]||{}).DBF||{}).type,S=="C"&&x[p].DBF.len>_&&(_=x[p].DBF.len),E=="B"&&S=="N"&&(E="N",N[p]=x[p].DBF.dec,_=x[p].DBF.len),j[p]=E=="C"||S=="N"?_:i[E]||0,g+=j[p],y[p]=E}var F=d.next(32);for(F.write_shift(4,318902576),F.write_shift(4,m.length),F.write_shift(2,296+32*b),F.write_shift(2,g),p=0;p<4;++p)F.write_shift(4,0);for(F.write_shift(4,0|(+t[$6]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var O=d.next(32),L=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,L,"sbcs"),O.write_shift(1,y[p]=="?"?"C":y[p],"sbcs"),O.write_shift(4,v),O.write_shift(1,j[p]||i[y[p]]||0),O.write_shift(1,N[p]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),v+=j[p]||i[y[p]]||0}var k=d.next(264);for(k.write_shift(4,13),p=0;p<65;++p)k.write_shift(4,0);for(p=0;p<m.length;++p){var P=d.next(g);for(P.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(y[v]){case"L":P.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":P.write_shift(8,m[p][v]||0,"f");break;case"N":var I="0";for(typeof m[p][v]=="number"&&(I=m[p][v].toFixed(N[v]||0)),b=0;b<j[v]-I.length;++b)P.write_shift(1,32);P.write_shift(1,I,"sbcs");break;case"D":m[p][v]?(P.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),P.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),P.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):P.write_shift(8,"00000000","sbcs");break;case"C":var M=String(m[p][v]!=null?m[p][v]:"").slice(0,j[v]);for(P.write_shift(1,M,"sbcs"),b=0;b<j[v]-M.length;++b)P.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),yre=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+$n(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var x=e[m];return typeof x=="number"?GC(x):x},n=function(h,m,x){var p=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?h:GC(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(Ro(h),m);case"binary":return i(h,m);case"buffer":return i(er&&Buffer.isBuffer(h)?h.toString("binary"):m0(h),m);case"array":return i(Yy(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var x=h.split(/[\n\r]+/),p=-1,v=-1,b=0,g=0,w=[],y=[],j=null,N={},E=[],S=[],_=[],D=0,F;for(+m.codepage>=0&&Jm(+m.codepage);b!==x.length;++b){D=0;var O=x[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=O.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),k=L[0],P;if(O.length>0)switch(k){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&y.push(O.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,M=!1,C=!1,R=!1,z=-1,J=-1;for(g=1;g<L.length;++g)switch(L[g].charAt(0)){case"A":break;case"X":v=parseInt(L[g].slice(1))-1,M=!0;break;case"Y":for(p=parseInt(L[g].slice(1))-1,M||(v=0),F=w.length;F<=p;++F)w[F]=[];break;case"K":P=L[g].slice(1),P.charAt(0)==='"'?P=P.slice(1,P.length-1):P==="TRUE"?P=!0:P==="FALSE"?P=!1:isNaN(jo(P))?isNaN(tp(P).getDate())||(P=va(P)):(P=jo(P),j!==null&&Q6(j)&&(P=t5(P))),I=!0;break;case"E":R=!0;var U=xne(L[g].slice(1),{r:p,c:v});w[p][v]=[w[p][v],U];break;case"S":C=!0,w[p][v]=[w[p][v],"S5S"];break;case"G":break;case"R":z=parseInt(L[g].slice(1))-1;break;case"C":J=parseInt(L[g].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}if(I&&(w[p][v]&&w[p][v].length==2?w[p][v][0]=P:w[p][v]=P,j=null),C){if(R)throw new Error("SYLK shared formula cannot have own formula");var q=z>-1&&w[z][J];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");w[p][v][1]=vne(q[1],{r:p-z,c:v-J})}break;case"F":var Y=0;for(g=1;g<L.length;++g)switch(L[g].charAt(0)){case"X":v=parseInt(L[g].slice(1))-1,++Y;break;case"Y":for(p=parseInt(L[g].slice(1))-1,F=w.length;F<=p;++F)w[F]=[];break;case"M":D=parseInt(L[g].slice(1))/20;break;case"F":break;case"G":break;case"P":j=y[parseInt(L[g].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=L[g].slice(1).split(" "),F=parseInt(_[0],10);F<=parseInt(_[1],10);++F)D=parseInt(_[2],10),S[F-1]=D===0?{hidden:!0}:{wch:D},eT(S[F-1]);break;case"C":v=parseInt(L[g].slice(1))-1,S[v]||(S[v]={});break;case"R":p=parseInt(L[g].slice(1))-1,E[p]||(E[p]={}),D>0?(E[p].hpt=D,E[p].hpx=W5(D)):D===0&&(E[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}Y<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}}return E.length>0&&(N["!rows"]=E),S.length>0&&(N["!cols"]=S),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,N]}function o(h,m){var x=a(h,m),p=x[0],v=x[1],b=Qf(p,m);return $n(v).forEach(function(g){b[g]=v[g]}),b}function l(h,m){return _u(o(h,m),m)}function c(h,m,x,p){var v="C;Y"+(x+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+rT(h.f,{r:x,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(x,p){var v="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?v+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Zx(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Jx(x.wpx)),typeof x.wch=="number"&&(v+=Math.round(x.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(x,p){var v="F;";x.hidden?v+="M0;":x.hpt?v+="M"+20*x.hpt+";":x.hpx&&(v+="M"+20*ev(x.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,m){var x=["ID;PWXL;N;E"],p=[],v=Dr(h["!ref"]),b,g=Array.isArray(h),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&u(x,h["!cols"]),h["!rows"]&&d(x,h["!rows"]),x.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var y=v.s.r;y<=v.e.r;++y)for(var j=v.s.c;j<=v.e.c;++j){var N=pr({r:y,c:j});b=g?(h[y]||[])[j]:h[N],!(!b||b.v==null&&(!b.f||b.F))&&p.push(c(b,h,y,j))}return x.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),wre=function(){function e(i,o){switch(o.type){case"base64":return t(Ro(i),o);case"binary":return t(i,o);case"buffer":return t(er&&Buffer.isBuffer(i)?i.toString("binary"):m0(i),o);case"array":return t(Yy(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],x=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(jo(x))?isNaN(tp(x).getDate())?f[c][u]=x:f[c][u]=va(x):f[c][u]=jo(x),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Qf(e(i,o),o)}function n(i,o){return _u(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Dr(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var p=pr({r:m,c:x});if(f=h?(c[m]||[])[x]:c[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ql(f.z||Vr[14],Ma(va(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var b=`\r
`,g=u.join(b);return g}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),L5=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),x=-1,p=-1,v=0,b=[];v!==m.length;++v){var g=m[v].trim().split(":");if(g[0]==="cell"){var w=bn(g[1]);if(b.length<=w.r)for(x=b.length;x<=w.r;++x)b[x]||(b[x]=[]);switch(x=w.r,p=w.c,g[2]){case"t":b[x][p]=e(g[3]);break;case"v":b[x][p]=+g[3];break;case"vtf":var y=g[g.length-1];case"vtc":switch(g[3]){case"nl":b[x][p]=!!+g[4];break;default:b[x][p]=+g[4];break}g[2]=="vtf"&&(b[x][p]=[b[x][p],y])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return Qf(r(f,h),h)}function a(f,h){return _u(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],x,p="",v=as(f["!ref"]),b=Array.isArray(f),g=v.s.r;g<=v.e.r;++g)for(var w=v.s.c;w<=v.e.c;++w)if(p=pr({r:g,c:w}),x=b?(f[g]||[])[w]:f[p],!(!x||x.v==null||x.t==="z")){switch(m=["cell",p,"t"],x.t){case"s":case"str":m.push(t(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=t(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var y=Ma(va(x.v));m[2]="vtc",m[3]="nd",m[4]=""+y,m[5]=x.w||Ql(x.z||Vr[14],y);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),bre=function(){function e(d,f,h,m,x){x.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(jo(d))?isNaN(tp(d).getDate())?f[h][m]=d:f[h][m]=va(d):f[h][m]=jo(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var x=d.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var v=10,b=0,g=0;g<=p;++g)b=x[g].indexOf(" "),b==-1?b=x[g].length:b++,v=Math.max(v,b);for(g=0;g<=p;++g){m[g]=[];var w=0;for(e(x[g].slice(0,v).trim(),m,g,w,h),w=1;w<=(x[g].length-v)/10+1;++w)e(x[g].slice(v+(w-1)*10,v+w*10).trim(),m,g,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,x=0;m<d.length;++m)(x=d.charCodeAt(m))==34?h=!h:!h&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m]);if(!x.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m])}return x.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[x.pop()[1]]||44}function i(d,f){var h=f||{},m="",x=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,b=0,g=0,w=0,y=0,j=m.charCodeAt(0),N=!1,E=0,S=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var _=h.dateNF!=null?Fee(h.dateNF):null;function D(){var F=d.slice(w,y),O={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)O.t="z";else if(h.raw)O.t="s",O.v=F;else if(F.trim().length===0)O.t="s",O.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(O.t="s",O.v=F.slice(2,-1).replace(/""/g,'"')):yne(F)?(O.t="n",O.f=F.slice(1)):(O.t="s",O.v=F);else if(F=="TRUE")O.t="b",O.v=!0;else if(F=="FALSE")O.t="b",O.v=!1;else if(!isNaN(g=jo(F)))O.t="n",h.cellText!==!1&&(O.w=F),O.v=g;else if(!isNaN(tp(F).getDate())||_&&F.match(_)){O.z=h.dateNF||Vr[14];var L=0;_&&F.match(_)&&(F=Lee(F,h.dateNF,F.match(_)||[]),L=1),h.cellDates?(O.t="d",O.v=va(F,L)):(O.t="n",O.v=Ma(va(F,L))),h.cellText!==!1&&(O.w=Ql(O.z,O.v instanceof Date?Ma(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=F;if(O.t=="z"||(h.dense?(x[v]||(x[v]=[]),x[v][b]=O):x[pr({c:b,r:v})]=O),w=y+1,S=d.charCodeAt(w),p.e.c<b&&(p.e.c=b),p.e.r<v&&(p.e.r=v),E==j)++b;else if(b=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;y<d.length;++y)switch(E=d.charCodeAt(y)){case 34:S===34&&(N=!N);break;case j:case 10:case 13:if(!N&&D())break e;break}return y-w>0&&D(),x["!ref"]=Jr(p),x}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Qf(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:Poe(d,f);switch(f.type){case"base64":h=Ro(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Tc<"u"?h=Tc.utils.decode(f.codepage,d):h=er&&Buffer.isBuffer(d)?d.toString("binary"):m0(d);break;case"array":h=Yy(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=cm(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=cm(h):f.type=="binary"&&typeof Tc<"u"&&f.codepage&&(h=Tc.utils.decode(f.codepage,Tc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?L5.to_sheet(f.type=="string"?h:cm(h),f):o(h,f)}function c(d,f){return _u(l(d,f),f)}function u(d){for(var f=[],h=Dr(d["!ref"]),m,x=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var v=[],b=h.s.c;b<=h.e.c;++b){var g=pr({r:p,c:b});if(m=x?(d[p]||[])[b]:d[g],!m||m.v==null){v.push("          ");continue}for(var w=(m.w||(Fo(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(b===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),_D=function(){function e(U,q,Y){if(U){qa(U,U.l||0);for(var Q=Y.Enum||z;U.l<U.length;){var Z=U.read_shift(2),ue=Q[Z]||Q[65535],he=U.read_shift(2),G=U.l+he,re=ue.f&&ue.f(U,he,Y);if(U.l=G,q(re,ue,Z))return}}}function t(U,q){switch(q.type){case"base64":return r(Zs(Ro(U)),q);case"binary":return r(Zs(U),q);case"buffer":case"array":return r(U,q)}throw"Unsupported type "+q.type}function r(U,q){if(!U)return U;var Y=q||{},Q=Y.dense?[]:{},Z="Sheet1",ue="",he=0,G={},re=[],de=[],ne={s:{r:0,c:0},e:{r:0,c:0}},Ee=Y.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)Y.Enum=z,e(U,function(ce,$e,ct){switch(ct){case 0:Y.vers=ce,ce>=4096&&(Y.qpro=!0);break;case 6:ne=ce;break;case 204:ce&&(ue=ce);break;case 222:ue=ce;break;case 15:case 51:Y.qpro||(ce[1].v=ce[1].v.slice(1));case 13:case 14:case 16:ct==14&&(ce[2]&112)==112&&(ce[2]&15)>1&&(ce[2]&15)<15&&(ce[1].z=Y.dateNF||Vr[14],Y.cellDates&&(ce[1].t="d",ce[1].v=t5(ce[1].v))),Y.qpro&&ce[3]>he&&(Q["!ref"]=Jr(ne),G[Z]=Q,re.push(Z),Q=Y.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},he=ce[3],Z=ue||"Sheet"+(he+1),ue="");var zt=Y.dense?(Q[ce[0].r]||[])[ce[0].c]:Q[pr(ce[0])];if(zt){zt.t=ce[1].t,zt.v=ce[1].v,ce[1].z!=null&&(zt.z=ce[1].z),ce[1].f!=null&&(zt.f=ce[1].f);break}Y.dense?(Q[ce[0].r]||(Q[ce[0].r]=[]),Q[ce[0].r][ce[0].c]=ce[1]):Q[pr(ce[0])]=ce[1];break}},Y);else if(U[2]==26||U[2]==14)Y.Enum=J,U[2]==14&&(Y.qpro=!0,U.l=0),e(U,function(ce,$e,ct){switch(ct){case 204:Z=ce;break;case 22:ce[1].v=ce[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ce[3]>he&&(Q["!ref"]=Jr(ne),G[Z]=Q,re.push(Z),Q=Y.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},he=ce[3],Z="Sheet"+(he+1)),Ee>0&&ce[0].r>=Ee)break;Y.dense?(Q[ce[0].r]||(Q[ce[0].r]=[]),Q[ce[0].r][ce[0].c]=ce[1]):Q[pr(ce[0])]=ce[1],ne.e.c<ce[0].c&&(ne.e.c=ce[0].c),ne.e.r<ce[0].r&&(ne.e.r=ce[0].r);break;case 27:ce[14e3]&&(de[ce[14e3][0]]=ce[14e3][1]);break;case 1537:de[ce[0]]=ce[1],ce[0]==he&&(Z=ce[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(Q["!ref"]=Jr(ne),G[ue||Z]=Q,re.push(ue||Z),!de.length)return{SheetNames:re,Sheets:G};for(var Ce={},De=[],Pe=0;Pe<de.length;++Pe)G[re[Pe]]?(De.push(de[Pe]||re[Pe]),Ce[de[Pe]]=G[de[Pe]]||G[re[Pe]]):(De.push(de[Pe]),Ce[de[Pe]]={"!ref":"A1"});return{SheetNames:De,Sheets:Ce}}function n(U,q){var Y=q||{};if(+Y.codepage>=0&&Jm(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Ia(),Z=Dr(U["!ref"]),ue=Array.isArray(U),he=[];qe(Q,0,i(1030)),qe(Q,6,c(Z));for(var G=Math.min(Z.e.r,8191),re=Z.s.r;re<=G;++re)for(var de=Fn(re),ne=Z.s.c;ne<=Z.e.c;++ne){re===Z.s.r&&(he[ne]=ea(ne));var Ee=he[ne]+de,Ce=ue?(U[re]||[])[ne]:U[Ee];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?qe(Q,13,m(re,ne,Ce.v)):qe(Q,14,p(re,ne,Ce.v));else{var De=Fo(Ce);qe(Q,15,f(re,ne,De.slice(0,239)))}}return qe(Q,1),Q.end()}function a(U,q){var Y=q||{};if(+Y.codepage>=0&&Jm(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Ia();qe(Q,0,o(U));for(var Z=0,ue=0;Z<U.SheetNames.length;++Z)(U.Sheets[U.SheetNames[Z]]||{})["!ref"]&&qe(Q,27,R(U.SheetNames[Z],ue++));var he=0;for(Z=0;Z<U.SheetNames.length;++Z){var G=U.Sheets[U.SheetNames[Z]];if(!(!G||!G["!ref"])){for(var re=Dr(G["!ref"]),de=Array.isArray(G),ne=[],Ee=Math.min(re.e.r,8191),Ce=re.s.r;Ce<=Ee;++Ce)for(var De=Fn(Ce),Pe=re.s.c;Pe<=re.e.c;++Pe){Ce===re.s.r&&(ne[Pe]=ea(Pe));var ce=ne[Pe]+De,$e=de?(G[Ce]||[])[Pe]:G[ce];if(!(!$e||$e.t=="z"))if($e.t=="n")qe(Q,23,D(Ce,Pe,he,$e.v));else{var ct=Fo($e);qe(Q,22,E(Ce,Pe,he,ct.slice(0,239)))}}++he}}return qe(Q,1),Q.end()}function i(U){var q=ke(2);return q.write_shift(2,U),q}function o(U){var q=ke(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var Y=0,Q=0,Z=0,ue=0;ue<U.SheetNames.length;++ue){var he=U.SheetNames[ue],G=U.Sheets[he];if(!(!G||!G["!ref"])){++Z;var re=as(G["!ref"]);Y<re.e.r&&(Y=re.e.r),Q<re.e.c&&(Q=re.e.c)}}return Y>8191&&(Y=8191),q.write_shift(2,Y),q.write_shift(1,Z),q.write_shift(1,Q),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function l(U,q,Y){var Q={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&Y.qpro?(Q.s.c=U.read_shift(1),U.l++,Q.s.r=U.read_shift(2),Q.e.c=U.read_shift(1),U.l++,Q.e.r=U.read_shift(2),Q):(Q.s.c=U.read_shift(2),Q.s.r=U.read_shift(2),q==12&&Y.qpro&&(U.l+=2),Q.e.c=U.read_shift(2),Q.e.r=U.read_shift(2),q==12&&Y.qpro&&(U.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(U){var q=ke(8);return q.write_shift(2,U.s.c),q.write_shift(2,U.s.r),q.write_shift(2,U.e.c),q.write_shift(2,U.e.r),q}function u(U,q,Y){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(Q[0].c=U.read_shift(1),Q[3]=U.read_shift(1),Q[0].r=U.read_shift(2),U.l+=2):(Q[2]=U.read_shift(1),Q[0].c=U.read_shift(2),Q[0].r=U.read_shift(2)),Q}function d(U,q,Y){var Q=U.l+q,Z=u(U,q,Y);if(Z[1].t="s",Y.vers==20768){U.l++;var ue=U.read_shift(1);return Z[1].v=U.read_shift(ue,"utf8"),Z}return Y.qpro&&U.l++,Z[1].v=U.read_shift(Q-U.l,"cstr"),Z}function f(U,q,Y){var Q=ke(7+Y.length);Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,U),Q.write_shift(1,39);for(var Z=0;Z<Q.length;++Z){var ue=Y.charCodeAt(Z);Q.write_shift(1,ue>=128?95:ue)}return Q.write_shift(1,0),Q}function h(U,q,Y){var Q=u(U,q,Y);return Q[1].v=U.read_shift(2,"i"),Q}function m(U,q,Y){var Q=ke(7);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,U),Q.write_shift(2,Y,"i"),Q}function x(U,q,Y){var Q=u(U,q,Y);return Q[1].v=U.read_shift(8,"f"),Q}function p(U,q,Y){var Q=ke(13);return Q.write_shift(1,255),Q.write_shift(2,q),Q.write_shift(2,U),Q.write_shift(8,Y,"f"),Q}function v(U,q,Y){var Q=U.l+q,Z=u(U,q,Y);if(Z[1].v=U.read_shift(8,"f"),Y.qpro)U.l=Q;else{var ue=U.read_shift(2);y(U.slice(U.l,U.l+ue),Z),U.l+=ue}return Z}function b(U,q,Y){var Q=q&32768;return q&=-32769,q=(Q?U:0)+(q>=8192?q-16384:q),(Q?"":"$")+(Y?ea(q):Fn(q))}var g={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function y(U,q){qa(U,0);for(var Y=[],Q=0,Z="",ue="",he="",G="";U.l<U.length;){var re=U[U.l++];switch(re){case 0:Y.push(U.read_shift(8,"f"));break;case 1:ue=b(q[0].c,U.read_shift(2),!0),Z=b(q[0].r,U.read_shift(2),!1),Y.push(ue+Z);break;case 2:{var de=b(q[0].c,U.read_shift(2),!0),ne=b(q[0].r,U.read_shift(2),!1);ue=b(q[0].c,U.read_shift(2),!0),Z=b(q[0].r,U.read_shift(2),!1),Y.push(de+ne+":"+ue+Z)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(U.read_shift(2));break;case 6:{for(var Ee="";re=U[U.l++];)Ee+=String.fromCharCode(re);Y.push('"'+Ee.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:G=Y.pop(),he=Y.pop(),Y.push(["AND","OR"][re-20]+"("+he+","+G+")");break;default:if(re<32&&w[re])G=Y.pop(),he=Y.pop(),Y.push(he+w[re]+G);else if(g[re]){if(Q=g[re][1],Q==69&&(Q=U[U.l++]),Q>Y.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+Y.join("|")+"|");return}var Ce=Y.slice(-Q);Y.length-=Q,Y.push(g[re][0]+"("+Ce.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}Y.length==1?q[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function j(U){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=U.read_shift(2),q[3]=U[U.l++],q[0].c=U[U.l++],q}function N(U,q){var Y=j(U);return Y[1].t="s",Y[1].v=U.read_shift(q-4,"cstr"),Y}function E(U,q,Y,Q){var Z=ke(6+Q.length);Z.write_shift(2,U),Z.write_shift(1,Y),Z.write_shift(1,q),Z.write_shift(1,39);for(var ue=0;ue<Q.length;++ue){var he=Q.charCodeAt(ue);Z.write_shift(1,he>=128?95:he)}return Z.write_shift(1,0),Z}function S(U,q){var Y=j(U);Y[1].v=U.read_shift(2);var Q=Y[1].v>>1;if(Y[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return Y[1].v=Q,Y}function _(U,q){var Y=j(U),Q=U.read_shift(4),Z=U.read_shift(4),ue=U.read_shift(2);if(ue==65535)return Q===0&&Z===3221225472?(Y[1].t="e",Y[1].v=15):Q===0&&Z===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var he=ue&32768;return ue=(ue&32767)-16446,Y[1].v=(1-he*2)*(Z*Math.pow(2,ue+32)+Q*Math.pow(2,ue)),Y}function D(U,q,Y,Q){var Z=ke(14);if(Z.write_shift(2,U),Z.write_shift(1,Y),Z.write_shift(1,q),Q==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var ue=0,he=0,G=0,re=0;return Q<0&&(ue=1,Q=-Q),he=Math.log2(Q)|0,Q/=Math.pow(2,he-31),re=Q>>>0,re&2147483648||(Q/=2,++he,re=Q>>>0),Q-=re,re|=2147483648,re>>>=0,Q*=Math.pow(2,32),G=Q>>>0,Z.write_shift(4,G),Z.write_shift(4,re),he+=16383+(ue?32768:0),Z.write_shift(2,he),Z}function F(U,q){var Y=_(U);return U.l+=q-14,Y}function O(U,q){var Y=j(U),Q=U.read_shift(4);return Y[1].v=Q>>6,Y}function L(U,q){var Y=j(U),Q=U.read_shift(8,"f");return Y[1].v=Q,Y}function k(U,q){var Y=L(U);return U.l+=q-10,Y}function P(U,q){return U[U.l+q-1]==0?U.read_shift(q,"cstr"):""}function I(U,q){var Y=U[U.l++];Y>q-1&&(Y=q-1);for(var Q="";Q.length<Y;)Q+=String.fromCharCode(U[U.l++]);return Q}function M(U,q,Y){if(!(!Y.qpro||q<21)){var Q=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var Z=U.read_shift(q-21,"cstr");return[Q,Z]}}function C(U,q){for(var Y={},Q=U.l+q;U.l<Q;){var Z=U.read_shift(2);if(Z==14e3){for(Y[Z]=[0,""],Y[Z][0]=U.read_shift(2);U[U.l];)Y[Z][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return Y}function R(U,q){var Y=ke(5+U.length);Y.write_shift(2,14e3),Y.write_shift(2,q);for(var Q=0;Q<U.length;++Q){var Z=U.charCodeAt(Q);Y[Y.l++]=Z>127?95:Z}return Y[Y.l++]=0,Y}var z={0:{n:"BOF",f:P5},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:P},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:C},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:k},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:P},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:M},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),jre=/^\s|\s$|[\t\n\r]/;function $5(e,t){if(!t.bookSST)return"";var r=[tn];r[r.length]=ze("sst",null,{xmlns:Xf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(jre)&&(i+=' xml:space="preserve"'),i+=">"+hr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Nre(e){return[e.read_shift(4),e.read_shift(4)]}function Sre(e,t){return t||(t=ke(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var _re=pte;function Tre(e){var t=Ia();Fe(t,159,Sre(e));for(var r=0;r<e.length;++r)Fe(t,19,_re(e[r]));return Fe(t,160),t.end()}function Ere(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function B5(e){var t=0,r,n=Ere(e),a=n.length+1,i,o,l,c,u;for(r=fu(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var Are=function(){function e(a,i){switch(i.type){case"base64":return t(Ro(a),i);case"binary":return t(a,i);case"buffer":return t(er&&Buffer.isBuffer(a)?a.toString("binary"):m0(a),i);case"array":return t(Yy(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,x,p=-1;x=h.exec(d);){switch(x[0]){case"\\cell":var v=d.slice(m,h.lastIndex-x[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var b={v,t:"s"};Array.isArray(l)?l[f][p]=b:l[pr({r:f,c:p})]=b}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=Jr(u),l}function r(a,i){return _u(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Dr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=pr({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Fo(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function TD(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Cre=6,No=Cre;function Zx(e){return Math.floor((e+Math.round(128/No)/256)*No)}function Jx(e){return Math.floor((e-5)/No*100+.5)/100}function uN(e){return Math.round((e*No+5)/No*256)/256}function eT(e){e.width?(e.wpx=Zx(e.width),e.wch=Jx(e.wpx),e.MDW=No):e.wpx?(e.wch=Jx(e.wpx),e.width=uN(e.wch),e.MDW=No):typeof e.wch=="number"&&(e.width=uN(e.wch),e.wpx=Zx(e.width),e.MDW=No),e.customWidth&&delete e.customWidth}var Dre=96,U5=Dre;function ev(e){return e*96/U5}function W5(e){return e*U5/96}function kre(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ze("numFmt",null,{numFmtId:n,formatCode:hr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ze("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Ore(e){var t=[];return t[t.length]=ze("cellXfs",null),e.forEach(function(r){t[t.length]=ze("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ze("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function V5(e,t){var r=[tn,ze("styleSheet",null,{xmlns:Xf[0],"xmlns:vt":xn.vt})],n;return e.SSF&&(n=kre(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Ore(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Pre(e,t){var r=e.read_shift(2),n=ta(e);return[r,n]}function Ire(e,t,r){r||(r=ke(6+4*t.length)),r.write_shift(2,e),jn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Mre(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=jte(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=bte(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ta(e),n}function Rre(e,t){t||(t=ke(25+4*32)),t.write_shift(2,e.sz*20),Nte(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Xx(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),jn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Fre=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Yw,Lre=Hi;function ED(e,t){t||(t=ke(4*3+8*7+16*1)),Yw||(Yw=W_(Fre));var r=Yw[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Xx({auto:1},t),Xx({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function $re(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function H5(e,t,r){r||(r=ke(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ah(e,t){return t||(t=ke(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Bre=Hi;function Ure(e,t){return t||(t=ke(51)),t.write_shift(1,0),Ah(null,t),Ah(null,t),Ah(null,t),Ah(null,t),Ah(null,t),t.length>t.l?t.slice(0,t.l):t}function Wre(e,t){return t||(t=ke(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Yx(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Vre(e,t,r){var n=ke(2052);return n.write_shift(4,e),Yx(t,n),Yx(r,n),n.length>n.l?n.slice(0,n.l):n}function Hre(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Fe(e,615,li(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Fe(e,44,Ire(a,t[a]))}),Fe(e,616))}}function zre(e){var t=1;Fe(e,611,li(t)),Fe(e,43,Rre({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Fe(e,612)}function qre(e){var t=2;Fe(e,603,li(t)),Fe(e,45,ED({patternType:"none"})),Fe(e,45,ED({patternType:"gray125"})),Fe(e,604)}function Kre(e){var t=1;Fe(e,613,li(t)),Fe(e,46,Ure()),Fe(e,614)}function Gre(e){var t=1;Fe(e,626,li(t)),Fe(e,47,H5({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Fe(e,627)}function Yre(e,t){Fe(e,617,li(t.length)),t.forEach(function(r){Fe(e,47,H5(r,0))}),Fe(e,618)}function Xre(e){var t=1;Fe(e,619,li(t)),Fe(e,48,Wre({xfId:0,builtinId:0,name:"Normal"})),Fe(e,620)}function Qre(e){var t=0;Fe(e,505,li(t)),Fe(e,506)}function Zre(e){var t=0;Fe(e,508,Vre(t,"TableStyleMedium9","PivotStyleMedium4")),Fe(e,509)}function Jre(e,t){var r=Ia();return Fe(r,278),Hre(r,e.SSF),zre(r),qre(r),Kre(r),Gre(r),Yre(r,t.cellXfs),Xre(r),Qre(r),Zre(r),Fe(r,279),r.end()}function z5(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[tn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ene(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ta(e)}}function tne(e){var t=ke(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),jn(e.name,t),t.slice(0,t.l)}function rne(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function nne(e){var t=ke(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function ane(e,t){var r=ke(8+2*t.length);return r.write_shift(4,e),jn(t,r),r.slice(0,r.l)}function sne(e){return e.l+=4,e.read_shift(4)!=0}function ine(e,t){var r=ke(8);return r.write_shift(4,e),r.write_shift(4,1),r}function one(){var e=Ia();return Fe(e,332),Fe(e,334,li(1)),Fe(e,335,tne({name:"XLDAPR",version:12e4,flags:3496657072})),Fe(e,336),Fe(e,339,ane(1,"XLDAPR")),Fe(e,52),Fe(e,35,li(514)),Fe(e,4096,li(0)),Fe(e,4097,gs(1)),Fe(e,36),Fe(e,53),Fe(e,340),Fe(e,337,ine(1)),Fe(e,51,nne([[1,0]])),Fe(e,338),Fe(e,333),e.end()}function q5(){var e=[tn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function lne(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=pr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var pd=1024;function K5(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ze("xml",null,{"xmlns:v":Ga.v,"xmlns:o":Ga.o,"xmlns:x":Ga.x,"xmlns:mv":Ga.mv}).replace(/\/>/,">"),ze("o:shapelayout",ze("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ze("v:shapetype",[ze("v:stroke",null,{joinstyle:"miter"}),ze("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];pd<e*1e3;)pd+=1e3;return t.forEach(function(i){var o=bn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ze("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ze("v:fill",c,l),d={on:"t",obscured:"t"};++pd,a=a.concat(["<v:shape"+np({id:"_x0000_s"+pd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ze("v:shadow",null,d),ze("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",In("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),In("x:AutoFill","False"),In("x:Row",String(o.r)),In("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function G5(e){var t=[tn,ze("comments",null,{xmlns:Xf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=hr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(hr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(In("t",hr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(In("t",hr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function cne(e,t,r){var n=[tn,ze("ThreadedComments",null,{xmlns:xn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(ze("threadedComment",In("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function une(e){var t=[tn,ze("personList",null,{xmlns:xn.TCMNT,"xmlns:x":Xf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ze("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function dne(e){var t={};t.iauthor=e.read_shift(4);var r=Cu(e);return t.rfx=r.s,t.ref=pr(r.s),e.l+=16,t}function fne(e,t){return t==null&&(t=ke(36)),t.write_shift(4,e[1].iauthor),Zf(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var hne=ta;function mne(e){return jn(e.slice(0,54))}function pne(e){var t=Ia(),r=[];return Fe(t,628),Fe(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Fe(t,632,mne(a.a)))})}),Fe(t,631),Fe(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:bn(n[0]),e:bn(n[0])};Fe(t,635,fne([i,a])),a.t&&a.t.length>0&&Fe(t,637,xte(a)),Fe(t,636),delete a.iauthor})}),Fe(t,634),Fe(t,629),t.end()}function gne(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&xr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Y5=["xlsb","xlsm","xlam","biff8","xla"],xne=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+ea(d)+(c?"":"$")+Fn(u)}return function(a,i){return t=i,a.replace(e,r)}}(),tT=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,rT=function(){return function(t,r){return t.replace(tT,function(n,a,i,o,l,c){var u=Y_(o)-(i?0:r.c),d=G_(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function vne(e,t){return e.replace(tT,function(r,n,a,i,o,l){return n+(a=="$"?a+i:ea(Y_(i)+t.c))+(o=="$"?o+l:Fn(G_(l)+t.r))})}function yne(e){return e.length!=1}function Yr(e){e.l+=1}function Zl(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function X5(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Q5(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Zl(e),l=Zl(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Q5(e){var t=Zl(e),r=Zl(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function wne(e,t,r){if(r.biff<8)return Q5(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Zl(e),o=Zl(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Z5(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return bne(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Zl(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function bne(e){var t=Zl(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function jne(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Nne(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Sne(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function Sne(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function _ne(e,t,r){var n=(e[e.l++]&96)>>5,a=X5(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Tne(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=X5(e,i,r);return[n,a,o]}function Ene(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Ane(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Cne(e,t,r){var n=(e[e.l++]&96)>>5,a=wne(e,t-1,r);return[n,a]}function Dne(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function AD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function kne(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function One(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Pne(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ine(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Mne(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function J5(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Rne(e){return e.read_shift(2),J5(e)}function Fne(e){return e.read_shift(2),J5(e)}function Lne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Z5(e,0,r);return[n,a]}function $ne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Nne(e,0,r);return[n,a]}function Bne(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Z5(e,0,r);return[n,a,i]}function Une(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Uae[a],r$[a],n]}function Wne(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Vne(e);return[a,(i[0]===0?r$:Bae)[i[1]]]}function Vne(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Hne(e,t,r){e.l+=r&&r.biff==2?3:4}function zne(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function qne(e){return e.l++,x0[e.read_shift(1)]}function Kne(e){return e.l++,e.read_shift(2)}function Gne(e){return e.l++,e.read_shift(1)!==0}function Yne(e){return e.l++,Jf(e)}function Xne(e,t,r){return e.l++,M5(e,t-1,r)}function Qne(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Bte(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=x0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Jf(e);break;case 2:r[1]=Hte(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Zne(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Cu:Kte)(e));return a}function Jne(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=Qne(e,r.biff);return o}function eae(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function tae(e,t,r){if(r.biff==5)return rae(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function rae(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function nae(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function aae(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function sae(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function iae(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var oae=Hi,lae=Hi,cae=Hi;function v0(e,t,r){return e.l+=2,[jne(e)]}function nT(e){return e.l+=6,[]}var uae=v0,dae=nT,fae=nT,hae=v0;function e$(e){return e.l+=2,[P5(e),e.read_shift(2)&1]}var mae=v0,pae=e$,gae=nT,xae=v0,vae=v0,yae=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wae(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=yae[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function bae(e){return e.l+=2,[e.read_shift(4)]}function jae(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Nae(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Sae(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function _ae(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Tae(e){return e.l+=4,[0,0]}var CD={1:{n:"PtgExp",f:zne},2:{n:"PtgTbl",f:cae},3:{n:"PtgAdd",f:Yr},4:{n:"PtgSub",f:Yr},5:{n:"PtgMul",f:Yr},6:{n:"PtgDiv",f:Yr},7:{n:"PtgPower",f:Yr},8:{n:"PtgConcat",f:Yr},9:{n:"PtgLt",f:Yr},10:{n:"PtgLe",f:Yr},11:{n:"PtgEq",f:Yr},12:{n:"PtgGe",f:Yr},13:{n:"PtgGt",f:Yr},14:{n:"PtgNe",f:Yr},15:{n:"PtgIsect",f:Yr},16:{n:"PtgUnion",f:Yr},17:{n:"PtgRange",f:Yr},18:{n:"PtgUplus",f:Yr},19:{n:"PtgUminus",f:Yr},20:{n:"PtgPercent",f:Yr},21:{n:"PtgParen",f:Yr},22:{n:"PtgMissArg",f:Yr},23:{n:"PtgStr",f:Xne},26:{n:"PtgSheet",f:jae},27:{n:"PtgEndSheet",f:Nae},28:{n:"PtgErr",f:qne},29:{n:"PtgBool",f:Gne},30:{n:"PtgInt",f:Kne},31:{n:"PtgNum",f:Yne},32:{n:"PtgArray",f:Dne},33:{n:"PtgFunc",f:Une},34:{n:"PtgFuncVar",f:Wne},35:{n:"PtgName",f:eae},36:{n:"PtgRef",f:Lne},37:{n:"PtgArea",f:_ne},38:{n:"PtgMemArea",f:nae},39:{n:"PtgMemErr",f:oae},40:{n:"PtgMemNoMem",f:lae},41:{n:"PtgMemFunc",f:aae},42:{n:"PtgRefErr",f:sae},43:{n:"PtgAreaErr",f:Ene},44:{n:"PtgRefN",f:$ne},45:{n:"PtgAreaN",f:Cne},46:{n:"PtgMemAreaN",f:Sae},47:{n:"PtgMemNoMemN",f:_ae},57:{n:"PtgNameX",f:tae},58:{n:"PtgRef3d",f:Bne},59:{n:"PtgArea3d",f:Tne},60:{n:"PtgRefErr3d",f:iae},61:{n:"PtgAreaErr3d",f:Ane},255:{}},Eae={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Aae={1:{n:"PtgElfLel",f:e$},2:{n:"PtgElfRw",f:xae},3:{n:"PtgElfCol",f:uae},6:{n:"PtgElfRwV",f:vae},7:{n:"PtgElfColV",f:hae},10:{n:"PtgElfRadical",f:mae},11:{n:"PtgElfRadicalS",f:gae},13:{n:"PtgElfColS",f:dae},15:{n:"PtgElfColSV",f:fae},16:{n:"PtgElfRadicalLel",f:pae},25:{n:"PtgList",f:wae},29:{n:"PtgSxName",f:bae},255:{}},Cae={0:{n:"PtgAttrNoop",f:Tae},1:{n:"PtgAttrSemi",f:Mne},2:{n:"PtgAttrIf",f:Pne},4:{n:"PtgAttrChoose",f:kne},8:{n:"PtgAttrGoto",f:One},16:{n:"PtgAttrSum",f:Hne},32:{n:"PtgAttrBaxcel",f:AD},33:{n:"PtgAttrBaxcel",f:AD},64:{n:"PtgAttrSpace",f:Rne},65:{n:"PtgAttrSpaceSemi",f:Fne},128:{n:"PtgAttrIfError",f:Ine},255:{}};function Dae(e,t,r,n){if(n.biff<8)return Hi(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Jne(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Zne(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Hi(e,t)),i}function kae(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=CD[i]||CD[Eae[i]],(i===24||i===25)&&(a=(i===24?Aae:Cae)[e[e.l+1]]),!a||!a.f?Hi(e,t):o.push([a.n,a.f(e,t,r)]);return o}function Oae(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Pae={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Iae(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function t$(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function DD(e,t,r){var n=t$(e,t,r);return n=="#REF"?n:Iae(n,r)}function gf(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",b=0,g=e[0].length;b<g;++b){var w=e[0][b];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=Ur(" ",e[0][p][1][1]);break;case 1:v=Ur("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}l.push(u+Pae[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=dm(w[1][1],o,a),l.push(fm(d,i));break;case"PtgRefN":d=r?dm(w[1][1],r,a):w[1][1],l.push(fm(d,i));break;case"PtgRef3d":f=w[1][1],d=dm(w[1][2],o,a),x=DD(n,f,a),l.push(x+"!"+fm(d,i));break;case"PtgFunc":case"PtgFuncVar":var y=w[1][0],j=w[1][1];y||(y=0),y&=127;var N=y==0?[]:l.slice(-y);l.length-=y,j==="User"&&(j=N.shift()),l.push(j+"("+N.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=mD(w[1][1],r?{s:r}:o,a),l.push(Kw(m,a));break;case"PtgArea":m=mD(w[1][1],o,a),l.push(Kw(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],x=DD(n,f,a),l.push(x+"!"+Kw(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],S=E?E.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),l.push(S);break;case"PtgNameX":var _=w[1][1];h=w[1][2];var D;if(a.biff<=5)_<0&&(_=-_),n[_]&&(D=n[_][h]);else{var F="";if(((n[_]||[])[0]||[])[0]==14849||(((n[_]||[])[0]||[])[0]==1025?n[_][h]&&n[_][h].itab>0&&(F=n.SheetNames[n[_][h].itab-1]+"!"):F=n.SheetNames[h-1]+"!"),n[_]&&n[_][h])F+=n[_][h].Name;else if(n[0]&&n[0][h])F+=n[0][h].Name;else{var O=(t$(n,_,a)||"").split(";;");O[h-1]?F=O[h-1]:F+="SH33TJSERRX"}l.push(F);break}D||(D={Name:"SH33TJSERRY"}),l.push(D.Name);break;case"PtgParen":var L="(",k=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:L=Ur(" ",e[0][p][1][1])+L;break;case 3:L=Ur("\r",e[0][p][1][1])+L;break;case 4:k=Ur(" ",e[0][p][1][1])+k;break;case 5:k=Ur("\r",e[0][p][1][1])+k;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(L+l.pop()+k);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var P={c:r.c,r:r.r};if(n.sharedf[pr(d)]){var I=n.sharedf[pr(d)];l.push(gf(I,o,P,n,a))}else{var M=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(gf(u[1],o,P,n,a)),M=!0;break}M||l.push(w[1])}break;case"PtgArray":l.push("{"+Oae(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var C=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&C.indexOf(e[0][b][0])==-1){w=e[0][p];var R=!0;switch(w[1][0]){case 4:R=!1;case 0:v=Ur(" ",w[1][1]);break;case 5:R=!1;case 1:v=Ur("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((R?v:"")+l.pop()+(R?"":v)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function Mae(e){if(e==null){var t=ke(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return hu(e);return hu(0)}function Rae(e,t,r,n,a){var i=mu(t,r,a),o=Mae(e.v),l=ke(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=ke(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Pn([i,o,l,u]);return f}function Xy(e,t,r){var n=e.read_shift(4),a=kae(e,n,r),i=e.read_shift(4),o=i>0?Dae(e,i,a,r):null;return[a,o]}var Fae=Xy,Qy=Xy,Lae=Xy,$ae=Xy,Bae={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},r$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Uae={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Wae(e){var t="of:="+e.replace(tT,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Vae(e){return e.replace(/\./,"!")}var hm=typeof Map<"u";function aT(e,t,r){var n=0,a=e.length;if(r){if(hm?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=hm?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(hm?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Zy(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(No=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Jx(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=uN(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function n$(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function lc(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Z6(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Hae(e,t,r){if(e&&e["!ref"]){var n=Dr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function zae(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Jr(e[r])+'"/>';return t+"</mergeCells>"}function qae(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=rp(hr(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ze("outlinePr",null,u)}!i&&!l||(a[a.length]=ze("sheetPr",l,o))}var Kae=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Gae=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Yae(e){var t={sheet:1};return Kae.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Gae.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=B5(e.password).toString(16).toUpperCase()),ze("sheetProtection",null,t)}function Xae(e){return n$(e),ze("pageMargins",null,e)}function Qae(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ze("col",null,Zy(a,n)));return r[r.length]="</cols>",r.join("")}function Zae(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Jr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=as(a);o.s.r==o.e.r&&(o.e.r=as(t["!ref"]).e.r,a=Jr(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ze("autoFilter",null,{ref:a})}function Jae(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ze("sheetViews",ze("sheetView",null,a),{})}function ese(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=x0[e.v];break;case"d":n&&n.cellDates?a=va(e.v,-1).toISOString():(e=Ra(e),e.t="n",a=""+(e.v=Ma(va(e.v)))),typeof e.z>"u"&&(e.z=Vr[14]);break;default:a=e.v;break}var l=In("v",hr(a)),c={r:t},u=lc(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=In("v",""+aT(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ze("f",hr(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ze("c",l,c)}function tse(e,t,r,n){var a=[],i=[],o=Dr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,m=e["!rows"],x=Array.isArray(e),p={r:u},v,b=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=ea(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Fn(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var g=x?(e[f]||[])[h]:e[c];g!==void 0&&(l=ese(g,c,e,t))!=null&&i.push(l)}(i.length>0||m&&m[f])&&(p={r:u},m&&m[f]&&(v=m[f],v.hidden&&(p.hidden=1),b=-1,v.hpx?b=ev(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(p.ht=b,p.customHeight=1),v.level&&(p.outlineLevel=v.level)),a[a.length]=ze("row",i.join(""),p))}if(m)for(;f<m.length;++f)m&&m[f]&&(p={r:f+1},v=m[f],v.hidden&&(p.hidden=1),b=-1,v.hpx?b=ev(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(p.ht=b,p.customHeight=1),v.level&&(p.outlineLevel=v.level),a[a.length]=ze("row","",p));return a.join("")}function a$(e,t,r,n){var a=[tn,ze("worksheet",null,{xmlns:Xf[0],"xmlns:r":xn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Dr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Jr(d)}n||(n={}),c["!comments"]=[];var f=[];qae(c,r,e,t,a),a[a.length]=ze("dimension",null,{ref:u}),a[a.length]=Jae(c,t,e,r),t.sheetFormat&&(a[a.length]=ze("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Qae(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=tse(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=Yae(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Zae(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=zae(c["!merges"]));var h=-1,m,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=dr(n,-1,hr(p[1].Target).replace(/#.*$/,""),Qt.HLINK),m["r:id"]="rId"+x),(h=p[1].Target.indexOf("#"))>-1&&(m.location=hr(p[1].Target.slice(h+1))),p[1].Tooltip&&(m.tooltip=hr(p[1].Tooltip)),a[a.length]=ze("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Xae(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=In("ignoredErrors",ze("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=dr(n,-1,"../drawings/drawing"+(e+1)+".xml",Qt.DRAW),a[a.length]=ze("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=dr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Qt.VML),a[a.length]=ze("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function rse(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function nse(e,t,r){var n=ke(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=ev(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[pr(u)];x&&(f<0&&(f=m),h=m)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=c,n.write_shift(4,l),n.l=p,n.length>n.l?n.slice(0,n.l):n}function ase(e,t,r,n){var a=nse(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Fe(e,0,a)}var sse=Cu,ise=Zf;function ose(){}function lse(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=vte(e),r}function cse(e,t,r){r==null&&(r=ke(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Xx({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),y5(e,r),r.slice(0,r.l)}function use(e){var t=ks(e);return[t]}function dse(e,t,r){return r==null&&(r=ke(8)),Tu(t,r)}function fse(e){var t=Eu(e);return[t]}function hse(e,t,r){return r==null&&(r=ke(4)),Au(t,r)}function mse(e){var t=ks(e),r=e.read_shift(1);return[t,r,"b"]}function pse(e,t,r){return r==null&&(r=ke(9)),Tu(t,r),r.write_shift(1,e.v?1:0),r}function gse(e){var t=Eu(e),r=e.read_shift(1);return[t,r,"b"]}function xse(e,t,r){return r==null&&(r=ke(5)),Au(t,r),r.write_shift(1,e.v?1:0),r}function vse(e){var t=ks(e),r=e.read_shift(1);return[t,r,"e"]}function yse(e,t,r){return r==null&&(r=ke(9)),Tu(t,r),r.write_shift(1,e.v),r}function wse(e){var t=Eu(e),r=e.read_shift(1);return[t,r,"e"]}function bse(e,t,r){return r==null&&(r=ke(8)),Au(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function jse(e){var t=ks(e),r=e.read_shift(4);return[t,r,"s"]}function Nse(e,t,r){return r==null&&(r=ke(12)),Tu(t,r),r.write_shift(4,t.v),r}function Sse(e){var t=Eu(e),r=e.read_shift(4);return[t,r,"s"]}function _se(e,t,r){return r==null&&(r=ke(8)),Au(t,r),r.write_shift(4,t.v),r}function Tse(e){var t=ks(e),r=Jf(e);return[t,r,"n"]}function Ese(e,t,r){return r==null&&(r=ke(16)),Tu(t,r),hu(e.v,r),r}function Ase(e){var t=Eu(e),r=Jf(e);return[t,r,"n"]}function Cse(e,t,r){return r==null&&(r=ke(12)),Au(t,r),hu(e.v,r),r}function Dse(e){var t=ks(e),r=w5(e);return[t,r,"n"]}function kse(e,t,r){return r==null&&(r=ke(12)),Tu(t,r),b5(e.v,r),r}function Ose(e){var t=Eu(e),r=w5(e);return[t,r,"n"]}function Pse(e,t,r){return r==null&&(r=ke(8)),Au(t,r),b5(e.v,r),r}function Ise(e){var t=ks(e),r=X_(e);return[t,r,"is"]}function Mse(e){var t=ks(e),r=ta(e);return[t,r,"str"]}function Rse(e,t,r){return r==null&&(r=ke(12+4*e.v.length)),Tu(t,r),jn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Fse(e){var t=Eu(e),r=ta(e);return[t,r,"str"]}function Lse(e,t,r){return r==null&&(r=ke(8+4*e.v.length)),Au(t,r),jn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function $se(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=Qy(e,n-e.l,r);o[3]=gf(l,null,a,r.supbooks,r)}else e.l=n;return o}function Bse(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=Qy(e,n-e.l,r);o[3]=gf(l,null,a,r.supbooks,r)}else e.l=n;return o}function Use(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var i=Jf(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=Qy(e,n-e.l,r);o[3]=gf(l,null,a,r.supbooks,r)}else e.l=n;return o}function Wse(e,t,r){var n=e.l+t,a=ks(e);a.r=r["!row"];var i=ta(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=Qy(e,n-e.l,r);o[3]=gf(l,null,a,r.supbooks,r)}else e.l=n;return o}var Vse=Cu,Hse=Zf;function zse(e,t){return t==null&&(t=ke(4)),t.write_shift(4,e),t}function qse(e,t){var r=e.l+t,n=Cu(e),a=Q_(e),i=ta(e),o=ta(e),l=ta(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function Kse(e,t){var r=ke(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Zf({s:bn(e[0]),e:bn(e[0])},r),Z_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return jn(a||"",r),jn(e[1].Tooltip||"",r),jn("",r),r.slice(0,r.l)}function Gse(){}function Yse(e,t,r){var n=e.l+t,a=j5(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=Fae(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Xse(e,t,r){var n=e.l+t,a=Cu(e),i=[a];if(r.cellFormula){var o=$ae(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function Qse(e,t,r){r==null&&(r=ke(18));var n=Zy(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var s$=["left","right","top","bottom","header","footer"];function Zse(e){var t={};return s$.forEach(function(r){t[r]=Jf(e)}),t}function Jse(e,t){return t==null&&(t=ke(6*8)),n$(e),s$.forEach(function(r){hu(e[r],t)}),t}function eie(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function tie(e,t,r){r==null&&(r=ke(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function rie(e){var t=ke(24);return t.write_shift(4,4),t.write_shift(4,1),Zf(e,t),t}function nie(e,t){return t==null&&(t=ke(16*4+2)),t.write_shift(2,e.password?B5(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function aie(){}function sie(){}function iie(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Ra(t),t.z=t.z||Vr[14],t.v=Ma(va(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=lc(a.cellXfs,t,a),t.l&&i["!links"].push([pr(c),t.l]),t.c&&i["!comments"].push([pr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=aT(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Fe(e,18,_se(t,c)):Fe(e,7,Nse(t,c))):(c.t="str",o?Fe(e,17,Lse(t,c)):Fe(e,6,Rse(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Fe(e,13,Pse(t,c)):Fe(e,2,kse(t,c)):o?Fe(e,16,Cse(t,c)):Fe(e,5,Ese(t,c)),!0;case"b":return c.t="b",o?Fe(e,15,xse(t,c)):Fe(e,4,pse(t,c)),!0;case"e":return c.t="e",o?Fe(e,14,bse(t,c)):Fe(e,3,yse(t,c)),!0}return o?Fe(e,12,hse(t,c)):Fe(e,1,dse(t,c)),!0}function oie(e,t,r,n){var a=Dr(t["!ref"]||"A1"),i,o="",l=[];Fe(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Fn(d),ase(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=ea(h)),i=l[h]+o;var m=c?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=iie(e,m,d,h,n,t,f)}}Fe(e,146)}function lie(e,t){!t||!t["!merges"]||(Fe(e,177,zse(t["!merges"].length)),t["!merges"].forEach(function(r){Fe(e,176,Hse(r))}),Fe(e,178))}function cie(e,t){!t||!t["!cols"]||(Fe(e,390),t["!cols"].forEach(function(r,n){r&&Fe(e,60,Qse(n,r))}),Fe(e,391))}function uie(e,t){!t||!t["!ref"]||(Fe(e,648),Fe(e,649,rie(Dr(t["!ref"]))),Fe(e,650))}function die(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=dr(r,-1,n[1].Target.replace(/#.*$/,""),Qt.HLINK);Fe(e,494,Kse(n,a))}}),delete t["!links"]}function fie(e,t,r,n){if(t["!comments"].length>0){var a=dr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Qt.VML);Fe(e,551,Z_("rId"+a)),t["!legacy"]=a}}function hie(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Jr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=as(i);l.s.r==l.e.r&&(l.e.r=as(t["!ref"]).e.r,i=Jr(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Fe(e,161,Zf(Dr(i))),Fe(e,162)}}function mie(e,t,r){Fe(e,133),Fe(e,137,tie(t,r)),Fe(e,138),Fe(e,134)}function pie(e,t){t["!protect"]&&Fe(e,535,nie(t["!protect"]))}function gie(e,t,r,n){var a=Ia(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Dr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Fe(a,129),(r.vbaraw||o["!outline"])&&Fe(a,147,cse(l,o["!outline"])),Fe(a,148,ise(c)),mie(a,o,r.Workbook),cie(a,o),oie(a,o,e,t),pie(a,o),hie(a,o,r,e),lie(a,o),die(a,o,n),o["!margins"]&&Fe(a,476,Jse(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&uie(a,o),fie(a,o,e,n),Fe(a,130),a.end()}function xie(e,t){e.l+=10;var r=ta(e);return{name:r}}var vie=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function yie(e){return!e.Workbook||!e.Workbook.WBProps?"false":Xee(e.Workbook.WBProps.date1904)?"true":"false"}var wie="][*?/\\".split("");function i$(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return wie.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function bie(e,t,r){e.forEach(function(n,a){i$(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function jie(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];bie(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Hae(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function o$(e){var t=[tn];t[t.length]=ze("workbook",null,{xmlns:Xf[0],"xmlns:r":xn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(vie.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ze("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:hr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=ze("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ze("definedName",hr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Nie(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=cN(e),r.name=ta(e),r}function Sie(e,t){return t||(t=ke(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Z_(e.strRelID,t),jn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function _ie(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ta(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Tie(e,t){t||(t=ke(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),y5(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Eie(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=yte(e),o=Lae(e,0,r),l=Q_(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Aie(e,t){Fe(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Fe(e,156,Sie(a))}Fe(e,144)}function Cie(e,t){t||(t=ke(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return jn("SheetJS",t),jn(Vx.version,t),jn(Vx.version,t),jn("7262",t),t.length>t.l?t.slice(0,t.l):t}function Die(e,t){t||(t=ke(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function kie(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Fe(e,135),Fe(e,158,Die(a)),Fe(e,136))}}function Oie(e,t){var r=Ia();return Fe(r,131),Fe(r,128,Cie()),Fe(r,153,Tie(e.Workbook&&e.Workbook.WBProps||null)),kie(r,e),Aie(r,e),Fe(r,132),r.end()}function Pie(e,t,r){return(t.slice(-4)===".bin"?Oie:o$)(e)}function Iie(e,t,r,n,a){return(t.slice(-4)===".bin"?gie:a$)(e,r,n,a)}function Mie(e,t,r){return(t.slice(-4)===".bin"?Jre:V5)(e,r)}function Rie(e,t,r){return(t.slice(-4)===".bin"?Tre:$5)(e,r)}function Fie(e,t,r){return(t.slice(-4)===".bin"?pne:G5)(e)}function Lie(e){return(e.slice(-4)===".bin"?one:q5)()}function $ie(e,t){var r=[];return e.Props&&r.push(Mte(e.Props,t)),e.Custprops&&r.push(Rte(e.Props,e.Custprops)),r.join("")}function Bie(){return""}function Uie(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ze("NumberFormat",null,{"ss:Format":hr(Vr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(ze("Style",i.join(""),o))}),ze("Styles",r.join(""))}function l$(e){return ze("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+rT(e.Ref,{r:0,c:0})})}function Wie(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(l$(a)))}return ze("Names",r.join(""))}function Vie(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(l$(l)))}return i.join("")}function Hie(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ze("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ze("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ze("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ze("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(In("ProtectContents","True")),e["!protect"].objects&&a.push(In("ProtectObjects","True")),e["!protect"].scenarios&&a.push(In("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(In("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(In("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":ze("WorksheetOptions",a.join(""),{xmlns:Ga.x})}function zie(e){return e.map(function(t){var r=Yee(t.t||""),n=ze("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ze("Comment",n,{"ss:Author":t.a})}).join("")}function qie(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+hr(rT(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=bn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=hr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=hr(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=x0[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Vr[14]);break;case"s":f="String",h=Gee(e.v||"");break}var m=lc(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var x=e.v!=null?h:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=zie(e.c)),ze("Cell",p,l)}function Kie(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=W5(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Gie(e,t,r,n){if(!e["!ref"])return"";var a=Dr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,b){eT(v);var g=!!v.width,w=Zy(b,v),y={"ss:Index":b+1};g&&(y["ss:Width"]=Zx(w.width)),v.hidden&&(y["ss:Hidden"]="1"),l.push(ze("Column",null,y))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[Kie(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},x=pr(m),p=c?(e[u]||[])[f]:e[x];d.push(qie(p,x,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function Yie(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?Vie(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?Gie(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(Hie(i,t,e,r)),n.join("")}function Xie(e,t){t||(t={}),e.SSF||(e.SSF=Ra(Vr)),e.SSF&&(Ky(),qy(e.SSF),t.revssf=Gy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],lc(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push($ie(e,t)),r.push(Bie()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ze("Worksheet",Yie(n,t,e),{"ss:Name":hr(e.SheetNames[n])}));return r[2]=Uie(e,t),r[3]=Wie(e),tn+ze("Workbook",r.join(""),{xmlns:Ga.ss,"xmlns:o":Ga.o,"xmlns:x":Ga.x,"xmlns:ss":Ga.ss,"xmlns:dt":Ga.dt,"xmlns:html":Ga.html})}var Xw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Qie(e,t){var r=[],n=[],a=[],i=0,o,l=nD(gD,"n"),c=nD(xD,"n");if(e.Props)for(o=$n(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=$n(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)O5.indexOf(a[i][0])>-1||C5.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&xr.utils.cfb_add(t,"/SummaryInformation",jD(n,Xw.SI,c,xD)),(r.length||u.length)&&xr.utils.cfb_add(t,"/DocumentSummaryInformation",jD(r,Xw.DSI,l,gD,u.length?u:null,Xw.UDI))}function Zie(e,t){var r=t||{},n=xr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return xr.utils.cfb_add(n,a,c$(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Qie(e,n),r.biff==8&&e.vbaraw&&gne(n,xr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Jie={0:{f:rse},1:{f:use},2:{f:Dse},3:{f:vse},4:{f:mse},5:{f:Tse},6:{f:Mse},7:{f:jse},8:{f:Wse},9:{f:Use},10:{f:$se},11:{f:Bse},12:{f:fse},13:{f:Ose},14:{f:wse},15:{f:gse},16:{f:Ase},17:{f:Fse},18:{f:Sse},19:{f:X_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Eie},40:{},42:{},43:{f:Mre},44:{f:Pre},45:{f:Lre},46:{f:Bre},47:{f:$re},48:{},49:{f:fte},50:{},51:{f:rne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:hre},62:{f:Ise},63:{f:lne},64:{f:aie},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Hi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:eie},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:lse},148:{f:sse,p:16},151:{f:Gse},152:{},153:{f:_ie},154:{},155:{},156:{f:Nie},157:{},158:{},159:{T:1,f:Nre},160:{T:-1},161:{T:1,f:Cu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Vse},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ene},336:{T:-1},337:{f:sne,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:cN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ore},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Yse},427:{f:Xse},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Zse},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ose},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:qse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:cN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:hne},633:{T:1},634:{T:-1},635:{T:1,f:dne},636:{T:-1},637:{f:gte},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xie},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:sie},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function qe(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&K_(r)&&e.push(r)}}function eoe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return qe(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function y0(e,t,r){return e||(e=ke(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function toe(e,t,r,n){var a=ke(9);return y0(a,e,t),I5(r,n||"b",a),a}function roe(e,t,r){var n=ke(8+2*r.length);return y0(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function noe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ma(va(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?qe(e,2,xre(r,n,a)):qe(e,3,gre(r,n,a));return;case"b":case"e":qe(e,5,toe(r,n,t.v,t.t));return;case"s":case"str":qe(e,4,roe(r,n,(t.v||"").slice(0,255)));return}qe(e,1,y0(null,r,n))}function aoe(e,t,r,n){var a=Array.isArray(t),i=Dr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Jr(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Fn(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=ea(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&noe(e,f,u,d)}}}function soe(e,t){for(var r=t||{},n=Ia(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return qe(n,r.biff==4?1033:r.biff==3?521:9,J_(e,16,r)),aoe(n,e.Sheets[e.SheetNames[a]],a,r),qe(n,10),n.end()}function ioe(e,t,r){qe(e,49,Jte({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function ooe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&qe(e,1054,rre(a,t[a],r))})}function loe(e,t){var r=ke(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),qe(e,2151,r),r=ke(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),F5(Dr(t["!ref"]||"A1"),r),r.write_shift(4,4),qe(e,2152,r)}function coe(e,t){for(var r=0;r<16;++r)qe(e,224,SD({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){qe(e,224,SD(n,0,t))})}function uoe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];qe(e,440,ure(n)),n[1].Tooltip&&qe(e,2048,dre(n))}delete t["!links"]}function doe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&qe(e,125,mre(Zy(a,n),a))})}}function foe(e,t,r,n,a){var i=16+lc(a.cellXfs,t,a);if(t.v==null&&!t.bf){qe(e,513,mu(r,n,i));return}if(t.bf)qe(e,6,Rae(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ma(va(t.v)):t.v;qe(e,515,ire(r,n,o,i));break;case"b":case"e":qe(e,517,sre(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=aT(a.Strings,t.v,a.revStrings);qe(e,253,ere(r,n,l,i))}else qe(e,516,tre(r,n,(t.v||"").slice(0,255),i,a));break;default:qe(e,513,mu(r,n,i))}}function hoe(e,t,r){var n=Ia(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=Dr(i["!ref"]||"A1"),x=u?65536:16384;if(m.e.c>255||m.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}qe(n,2057,J_(r,16,t)),qe(n,13,gs(1)),qe(n,12,gs(100)),qe(n,15,pa(!0)),qe(n,17,pa(!1)),qe(n,16,hu(.001)),qe(n,95,pa(!0)),qe(n,42,pa(!1)),qe(n,43,pa(!1)),qe(n,130,gs(1)),qe(n,128,are()),qe(n,131,pa(!1)),qe(n,132,pa(!1)),u&&doe(n,i["!cols"]),qe(n,512,nre(m,t)),u&&(i["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){f=Fn(p);for(var v=m.s.c;v<=m.e.c;++v){p===m.s.r&&(h[v]=ea(v)),d=h[v]+f;var b=c?(i[p]||[])[v]:i[d];b&&(foe(n,b,p,v,t),u&&b.l&&i["!links"].push([d,b.l]))}}var g=l.CodeName||l.name||a;return u&&qe(n,574,Zte((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&qe(n,229,cre(i["!merges"])),u&&uoe(n,i),qe(n,442,R5(g)),u&&loe(n,i),qe(n,10),n.end()}function moe(e,t,r){var n=Ia(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(qe(n,2057,J_(e,5,r)),r.bookType=="xla"&&qe(n,135),qe(n,225,l?gs(1200):null),qe(n,193,$te(2)),c&&qe(n,191),c&&qe(n,192),qe(n,226),qe(n,92,Gte("SheetJS",r)),qe(n,66,gs(l?1200:1252)),l&&qe(n,353,gs(0)),l&&qe(n,448),qe(n,317,pre(e.SheetNames.length)),l&&e.vbaraw&&qe(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";qe(n,442,R5(u))}qe(n,156,gs(17)),qe(n,25,pa(!1)),qe(n,18,pa(!1)),qe(n,19,gs(0)),l&&qe(n,431,pa(!1)),l&&qe(n,444,gs(0)),qe(n,61,Qte()),qe(n,64,pa(!1)),qe(n,141,gs(0)),qe(n,34,pa(yie(e)=="true")),qe(n,14,pa(!0)),l&&qe(n,439,pa(!1)),qe(n,218,gs(0)),ioe(n,e,r),ooe(n,e.SSF,r),coe(n,r),l&&qe(n,352,pa(!1));var d=n.end(),f=Ia();l&&qe(f,140,fre()),l&&r.Strings&&eoe(f,252,Xte(r.Strings)),qe(f,10);var h=f.end(),m=Ia(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var v=d.length+x+h.length;for(p=0;p<e.SheetNames.length;++p){var b=i[p]||{};qe(m,133,Yte({pos:v,hs:b.Hidden||0,dt:0,name:e.SheetNames[p]},r)),v+=t[p].length}var g=m.end();if(x!=g.length)throw new Error("BS8 "+x+" != "+g.length);var w=[];return d.length&&w.push(d),g.length&&w.push(g),h.length&&w.push(h),Pn(w)}function poe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ra(Vr)),e&&e.SSF&&(Ky(),qy(e.SSF),r.revssf=Gy(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,sT(r),r.cellXfs=[],lc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=hoe(a,r,e);return n.unshift(moe(e,n,r)),Pn(n)}function c$(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=as(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return poe(e,t);case 4:case 3:case 2:return soe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function goe(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=pr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||Kee(f.w||(Fo(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(ze("td",h,m))}}var x="<tr>";return x+i.join("")+"</tr>"}var xoe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',voe="</body></html>";function yoe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function u$(e,t){var r=t||{},n=r.header!=null?r.header:xoe,a=r.footer!=null?r.footer:voe,i=[n],o=as(e["!ref"]);r.dense=Array.isArray(e),i.push(yoe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(goe(e,o,l,r));return i.push("</table>"+a),i.join("")}function d$(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?bn(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=as(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),x=0,p=0,v=0,b=0,g=0,w=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var y=l[x];if(kD(y)){if(n.display)continue;m[p]={hidden:!0}}var j=y.children;for(v=b=0;v<j.length;++v){var N=j[v];if(!(n.display&&kD(N))){var E=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):Qee(N.innerHTML),S=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var _=f[h];_.s.c==b+i&&_.s.r<p+a&&p+a<=_.e.r&&(b=_.e.c+1-i,h=-1)}w=+N.getAttribute("colspan")||1,((g=+N.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:b+i},e:{r:p+a+(g||1)-1,c:b+i+(w||1)-1}});var D={t:"s",v:E},F=N.getAttribute("data-t")||N.getAttribute("t")||"";E!=null&&(E.length==0?D.t=F||"z":n.raw||E.trim().length==0||F=="s"||(E==="TRUE"?D={t:"b",v:!0}:E==="FALSE"?D={t:"b",v:!1}:isNaN(jo(E))?isNaN(tp(E).getDate())||(D={t:"d",v:va(E)},n.cellDates||(D={t:"n",v:Ma(D.v)}),D.z=n.dateNF||Vr[14]):D={t:"n",v:jo(E)})),D.z===void 0&&S!=null&&(D.z=S);var O="",L=N.getElementsByTagName("A");if(L&&L.length)for(var k=0;k<L.length&&!(L[k].hasAttribute("href")&&(O=L[k].getAttribute("href"),O.charAt(0)!="#"));++k);O&&O.charAt(0)!="#"&&(D.l={Target:O}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][b+i]=D):e[pr({c:b+i,r:p+a})]=D,u.e.c<b+i&&(u.e.c=b+i),b+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=Jr(u),p>=c&&(e["!fullref"]=Jr((u.e.r=l.length-x+p-1+a,u))),e}function f$(e,t){var r=t||{},n=r.dense?[]:{};return d$(n,e,t)}function woe(e,t){return _u(f$(e,t),t)}function kD(e){var t="",r=boe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function boe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var joe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+np({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return tn+t}}(),OD=function(){var e=function(i){return hr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+hr(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=as(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,x=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var p="",v=i["!rows"]||[];for(u=0;u<f.s.r;++u)p=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var b=!1,g={},w="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(b=!0),g["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,g["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(b){c.push(r);continue}var y=pr({r:u,c:d}),j=x?(i[u]||[])[d]:i[y];if(j&&j.f&&(g["table:formula"]=hr(Wae(j.f)),j.F&&j.F.slice(0,y.length)==y)){var N=as(j.F);g["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,g["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!j){c.push(t);continue}switch(j.t){case"b":w=j.v?"TRUE":"FALSE",g["office:value-type"]="boolean",g["office:boolean-value"]=j.v?"true":"false";break;case"n":w=j.w||String(j.v||0),g["office:value-type"]="float",g["office:value"]=j.v||0;break;case"s":case"str":w=j.v==null?"":j.v,g["office:value-type"]="string";break;case"d":w=j.w||va(j.v).toISOString(),g["office:value-type"]="date",g["office:date-value"]=va(j.v).toISOString(),g["table:style-name"]="ce1";break;default:c.push(t);continue}var E=e(w);if(j.l&&j.l.Target){var S=j.l.Target;S=S.charAt(0)=="#"?"#"+Vae(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),E=ze("text:a",E,{"xlink:href":S.replace(/&/g,"&amp;")})}c.push("          "+ze("table:table-cell",ze("text:p",E,{}),g)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;eT(f),f.ods=l;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[tn],u=np({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=np({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(E5().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function h$(e,t){if(t.bookType=="fods")return OD(e,t);var r=V_(),n="",a=[],i=[];return n="mimetype",Bt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Bt(r,n,OD(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Bt(r,n,joe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Bt(r,n,tn+E5()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Bt(r,n,Ite(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Bt(r,n,Ote(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function tv(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Noe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Zs(rp(e))}function Soe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Jl(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function _oe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function ap(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function cr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Id(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function an(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=ap(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=ap(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Cn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(cr(n*8+a.type)),a.type==2&&t.push(cr(a.data.length)),t.push(a.data))})}),Jl(t)}function Ls(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=ap(e,n),i=an(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Id(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=an(l.data),u=Id(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Id(i[3][0].data)>>>0>0),r.push(o)}return r}function Gu(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:cr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:cr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:cr(o.data.length)}],n[2].push({data:Cn(o.meta),type:2})});var i=Cn(n);t.push(cr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Jl(t)}function Toe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=ap(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Jl(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Jl(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function $s(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Toe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Jl(t)}function Yu(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=cr(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Jl(t)}function Qw(e,t){var r=new Uint8Array(32),n=tv(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,_oe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Zw(e,t){var r=new Uint8Array(32),n=tv(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Jo(e){var t=an(e);return ap(t[1][0].data)}function Eoe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Id(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=tv(e[7][0].data),d=0,f=[],h=tv(e[4][0].data),m=0,x=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}u.setUint16(p*2,d,!0),h.setUint16(p*2,m,!0);var v,b;switch(typeof t[p]){case"string":v=Qw({t:"s",v:t[p]},r),b=Zw({t:"s",v:t[p]},r);break;case"number":v=Qw({t:"n",v:t[p]},r),b=Zw({t:"n",v:t[p]},r);break;case"boolean":v=Qw({t:"b",v:t[p]},r),b=Zw({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(v),d+=v.length,x.push(b),m+=b.length,++c}for(e[2][0].data=cr(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return e[6][0].data=Jl(f),e[3][0].data=Jl(x),c}function Aoe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=as(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Jr(n)));var i=rv(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(q){return q.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var l={},c=[],u=xr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(q,Y){return[q,u.FullPaths[Y]]}).forEach(function(q){var Y=q[0],Q=q[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var Z=Y.content,ue=$s(Z),he=Ls(ue);he.forEach(function(G){c.push(G.id),l[G.id]={deps:[],location:Q,type:Id(G.messages[0].meta[1][0].data)}})}}),c.sort(function(q,Y){return q-Y});var d=c.filter(function(q){return q>1}).map(function(q){return[q,cr(q)]});u.FileIndex.map(function(q,Y){return[q,u.FullPaths[Y]]}).forEach(function(q){var Y=q[0];if(q[1],!!Y.name.match(/\.iwa/)){var Q=Ls($s(Y.content));Q.forEach(function(Z){Z.messages.forEach(function(ue){d.forEach(function(he){Z.messages.some(function(G){return Id(G.meta[1][0].data)!=11006&&Soe(G.data,he[1])})&&l[he[0]].deps.push(Z.id)})})})}});for(var f=xr.find(u,l[1].location),h=Ls($s(f.content)),m,x=0;x<h.length;++x){var p=h[x];p.id==1&&(m=p)}var v=Jo(an(m.messages[0].data)[1][0].data);for(f=xr.find(u,l[v].location),h=Ls($s(f.content)),x=0;x<h.length;++x)p=h[x],p.id==v&&(m=p);for(v=Jo(an(m.messages[0].data)[2][0].data),f=xr.find(u,l[v].location),h=Ls($s(f.content)),x=0;x<h.length;++x)p=h[x],p.id==v&&(m=p);for(v=Jo(an(m.messages[0].data)[2][0].data),f=xr.find(u,l[v].location),h=Ls($s(f.content)),x=0;x<h.length;++x)p=h[x],p.id==v&&(m=p);var b=an(m.messages[0].data);{b[6][0].data=cr(n.e.r+1),b[7][0].data=cr(n.e.c+1);var g=Jo(b[46][0].data),w=xr.find(u,l[g].location),y=Ls($s(w.content));{for(var j=0;j<y.length&&y[j].id!=g;++j);if(y[j].id!=g)throw"Bad ColumnRowUIDMapArchive";var N=an(y[j].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var E=0;E<=n.e.c;++E){var S=[];S[1]=S[2]=[{type:0,data:cr(E+420690)}],N[1].push({type:2,data:Cn(S)}),N[2].push({type:0,data:cr(E)}),N[3].push({type:0,data:cr(E)})}N[4]=[],N[5]=[],N[6]=[];for(var _=0;_<=n.e.r;++_)S=[],S[1]=S[2]=[{type:0,data:cr(_+726270)}],N[4].push({type:2,data:Cn(S)}),N[5].push({type:0,data:cr(_)}),N[6].push({type:0,data:cr(_)});y[j].messages[0].data=Cn(N)}w.content=Yu(Gu(y)),w.size=w.content.length,delete b[46];var D=an(b[4][0].data);{D[7][0].data=cr(n.e.r+1);var F=an(D[1][0].data),O=Jo(F[2][0].data);w=xr.find(u,l[O].location),y=Ls($s(w.content));{if(y[0].id!=O)throw"Bad HeaderStorageBucket";var L=an(y[0].messages[0].data);for(_=0;_<i.length;++_){var k=an(L[2][0].data);k[1][0].data=cr(_),k[4][0].data=cr(i[_].length),L[2][_]={type:L[2][0].type,data:Cn(k)}}y[0].messages[0].data=Cn(L)}w.content=Yu(Gu(y)),w.size=w.content.length;var P=Jo(D[2][0].data);w=xr.find(u,l[P].location),y=Ls($s(w.content));{if(y[0].id!=P)throw"Bad HeaderStorageBucket";for(L=an(y[0].messages[0].data),E=0;E<=n.e.c;++E)k=an(L[2][0].data),k[1][0].data=cr(E),k[4][0].data=cr(n.e.r+1),L[2][E]={type:L[2][0].type,data:Cn(k)};y[0].messages[0].data=Cn(L)}w.content=Yu(Gu(y)),w.size=w.content.length;var I=Jo(D[4][0].data);(function(){for(var q=xr.find(u,l[I].location),Y=Ls($s(q.content)),Q,Z=0;Z<Y.length;++Z){var ue=Y[Z];ue.id==I&&(Q=ue)}var he=an(Q.messages[0].data);{he[3]=[];var G=[];o.forEach(function(ne,Ee){G[1]=[{type:0,data:cr(Ee)}],G[2]=[{type:0,data:cr(1)}],G[3]=[{type:2,data:Noe(ne)}],he[3].push({type:2,data:Cn(G)})})}Q.messages[0].data=Cn(he);var re=Gu(Y),de=Yu(re);q.content=de,q.size=q.content.length})();var M=an(D[3][0].data);{var C=M[1][0];delete M[2];var R=an(C.data);{var z=Jo(R[2][0].data);(function(){for(var q=xr.find(u,l[z].location),Y=Ls($s(q.content)),Q,Z=0;Z<Y.length;++Z){var ue=Y[Z];ue.id==z&&(Q=ue)}var he=an(Q.messages[0].data);{delete he[6],delete M[7];var G=new Uint8Array(he[5][0].data);he[5]=[];for(var re=0,de=0;de<=n.e.r;++de){var ne=an(G);re+=Eoe(ne,i[de],o),ne[1][0].data=cr(de),he[5].push({data:Cn(ne),type:2})}he[1]=[{type:0,data:cr(n.e.c+1)}],he[2]=[{type:0,data:cr(n.e.r+1)}],he[3]=[{type:0,data:cr(re)}],he[4]=[{type:0,data:cr(n.e.r+1)}]}Q.messages[0].data=Cn(he);var Ee=Gu(Y),Ce=Yu(Ee);q.content=Ce,q.size=q.content.length})()}C.data=Cn(R)}D[3][0].data=Cn(M)}b[4][0].data=Cn(D)}m.messages[0].data=Cn(b);var J=Gu(h),U=Yu(J);return f.content=U,f.size=f.content.length,u}function Coe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function sT(e){Coe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Doe(e,t){return t.bookType=="ods"?h$(e,t):t.bookType=="numbers"?Aoe(e,t):t.bookType=="xlsb"?koe(e,t):Ooe(e,t)}function koe(e,t){pd=1024,e&&!e.SSF&&(e.SSF=Ra(Vr)),e&&e.SSF&&(Ky(),qy(e.SSF),t.revssf=Gy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Y5.indexOf(t.bookType)>-1,a=S5();sT(t=t||{});var i=V_(),o="",l=0;if(t.cellXfs=[],lc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Bt(i,o,A5(e.Props,t)),a.coreprops.push(o),dr(t.rels,2,o,Qt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Bt(i,o,D5(e.Props)),a.extprops.push(o),dr(t.rels,3,o,Qt.EXT_PROPS),e.Custprops!==e.Props&&$n(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Bt(i,o,k5(e.Custprops)),a.custprops.push(o),dr(t.rels,4,o,Qt.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Bt(i,o,Iie(l-1,o,t,e,d)),a.sheets.push(o),dr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Qt.WS[0])}if(f){var m=f["!comments"],x=!1,p="";m&&m.length>0&&(p="xl/comments"+l+"."+r,Bt(i,p,Fie(m,p)),a.comments.push(p),dr(d,-1,"../comments"+l+"."+r,Qt.CMNT),x=!0),f["!legacy"]&&x&&Bt(i,"xl/drawings/vmlDrawing"+l+".vml",K5(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Bt(i,T5(o),Od(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Bt(i,o,Rie(t.Strings,o,t)),a.strs.push(o),dr(t.wbrels,-1,"sharedStrings."+r,Qt.SST)),o="xl/workbook."+r,Bt(i,o,Pie(e,o)),a.workbooks.push(o),dr(t.rels,1,o,Qt.WB),o="xl/theme/theme1.xml",Bt(i,o,z5(e.Themes,t)),a.themes.push(o),dr(t.wbrels,-1,"theme/theme1.xml",Qt.THEME),o="xl/styles."+r,Bt(i,o,Mie(e,o,t)),a.styles.push(o),dr(t.wbrels,-1,"styles."+r,Qt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Bt(i,o,e.vbaraw),a.vba.push(o),dr(t.wbrels,-1,"vbaProject.bin",Qt.VBA)),o="xl/metadata."+r,Bt(i,o,Lie(o)),a.metadata.push(o),dr(t.wbrels,-1,"metadata."+r,Qt.XLMETA),Bt(i,"[Content_Types].xml",_5(a,t)),Bt(i,"_rels/.rels",Od(t.rels)),Bt(i,"xl/_rels/workbook."+r+".rels",Od(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ooe(e,t){pd=1024,e&&!e.SSF&&(e.SSF=Ra(Vr)),e&&e.SSF&&(Ky(),qy(e.SSF),t.revssf=Gy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hm?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Y5.indexOf(t.bookType)>-1,a=S5();sT(t=t||{});var i=V_(),o="",l=0;if(t.cellXfs=[],lc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Bt(i,o,A5(e.Props,t)),a.coreprops.push(o),dr(t.rels,2,o,Qt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Bt(i,o,D5(e.Props)),a.extprops.push(o),dr(t.rels,3,o,Qt.EXT_PROPS),e.Custprops!==e.Props&&$n(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Bt(i,o,k5(e.Custprops)),a.custprops.push(o),dr(t.rels,4,o,Qt.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Bt(i,o,a$(l-1,t,e,f)),a.sheets.push(o),dr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Qt.WS[0])}if(h){var x=h["!comments"],p=!1,v="";if(x&&x.length>0){var b=!1;x.forEach(function(g){g[1].forEach(function(w){w.T==!0&&(b=!0)})}),b&&(v="xl/threadedComments/threadedComment"+l+"."+r,Bt(i,v,cne(x,d,t)),a.threadedcomments.push(v),dr(f,-1,"../threadedComments/threadedComment"+l+"."+r,Qt.TCMNT)),v="xl/comments"+l+"."+r,Bt(i,v,G5(x)),a.comments.push(v),dr(f,-1,"../comments"+l+"."+r,Qt.CMNT),p=!0}h["!legacy"]&&p&&Bt(i,"xl/drawings/vmlDrawing"+l+".vml",K5(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Bt(i,T5(o),Od(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Bt(i,o,$5(t.Strings,t)),a.strs.push(o),dr(t.wbrels,-1,"sharedStrings."+r,Qt.SST)),o="xl/workbook."+r,Bt(i,o,o$(e)),a.workbooks.push(o),dr(t.rels,1,o,Qt.WB),o="xl/theme/theme1.xml",Bt(i,o,z5(e.Themes,t)),a.themes.push(o),dr(t.wbrels,-1,"theme/theme1.xml",Qt.THEME),o="xl/styles."+r,Bt(i,o,V5(e,t)),a.styles.push(o),dr(t.wbrels,-1,"styles."+r,Qt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Bt(i,o,e.vbaraw),a.vba.push(o),dr(t.wbrels,-1,"vbaProject.bin",Qt.VBA)),o="xl/metadata."+r,Bt(i,o,q5()),a.metadata.push(o),dr(t.wbrels,-1,"metadata."+r,Qt.XLMETA),d.length>1&&(o="xl/persons/person.xml",Bt(i,o,une(d)),a.people.push(o),dr(t.wbrels,-1,"persons/person.xml",Qt.PEOPLE)),Bt(i,"[Content_Types].xml",_5(a,t)),Bt(i,"_rels/.rels",Od(t.rels)),Bt(i,"xl/_rels/workbook."+r+".rels",Od(t.wbrels)),delete t.revssf,delete t.ssf,i}function Poe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ro(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function m$(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return p0(t.file,xr.write(e,{type:er?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return xr.write(e,t)}function Ioe(e,t){var r=Ra(t||{}),n=Doe(e,r);return Moe(n,r)}function Moe(e,t){var r={},n=er?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?xr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(zy(a))}return t.password&&typeof encrypt_agile<"u"?m$(encrypt_agile(a,t.password),t):t.type==="file"?p0(t.file,a):t.type=="string"?cm(a):a}function Roe(e,t){var r=t||{},n=Zie(e,r);return m$(n,r)}function Ni(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return ep(rp(n));case"binary":return rp(n);case"string":return e;case"file":return p0(t.file,n,"utf8");case"buffer":return er?Wo(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ni(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Foe(e,t){switch(t.type){case"base64":return ep(e);case"binary":return e;case"string":return e;case"file":return p0(t.file,e,"binary");case"buffer":return er?Wo(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function fg(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?ep(r):t.type=="string"?cm(r):r;case"file":return p0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function sp(e,t){dee(),jie(e);var r=Ra(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=sp(e,r);return r.type="array",zy(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ni(Xie(e,r),r);case"slk":case"sylk":return Ni(yre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Ni(u$(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Foe(p$(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Ni(iT(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Ni(wre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return fg(vre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Ni(bre.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Ni(Are.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Ni(L5.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Ni(h$(e,r),r);case"wk1":return fg(_D.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return fg(_D.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),fg(c$(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Roe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Ioe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Loe(e,t,r,n,a,i,o,l){var c=Fn(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var x=o?e[r][m]:e[n[m]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[m]!=null){if(p==null)if(x.t=="e"&&p===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&p===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:Fo(x,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function rv(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Dr(d);break;case"number":c=Dr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Fn(c.s.r),h=[],m=[],x=0,p=0,v=Array.isArray(e),b=c.s.r,g=0,w={};v&&!e[b]&&(e[b]=[]);var y=u.skipHidden&&e["!cols"]||[],j=u.skipHidden&&e["!rows"]||[];for(g=c.s.c;g<=c.e.c;++g)if(!(y[g]||{}).hidden)switch(h[g]=ea(g),r=v?e[b][g]:e[h[g]+f],n){case 1:i[g]=g-c.s.c;break;case 2:i[g]=h[g];break;case 3:i[g]=u.header[g-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Fo(r,null,u),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}i[g]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(j[b]||{}).hidden){var N=Loe(e,c,b,h,n,i,v,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[x++]=N.row)}return m.length=x,m}var PD=/"/g;function $oe(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Fn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:Fo(m,null,l));for(var x=0,p=0;x!==d.length;++x)if((p=d.charCodeAt(x))===a||p===i||p===34||l.forceQuotes){d='"'+d.replace(PD,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(PD,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function iT(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Dr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(h[x]||{}).hidden||(f[x]=ea(x));for(var p=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=$oe(e,a,v,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function p$(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=iT(e,t);return r}function Boe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Dr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ea(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Fn(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function g$(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?bn(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Dr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,v){$n(p).forEach(function(b){(m=h.indexOf(b))==-1&&(h[m=h.length]=b);var g=p[b],w="z",y="",j=pr({c:l+m,r:o+v+a});u=ip(i,j),g&&typeof g=="object"&&!(g instanceof Date)?i[j]=g:(typeof g=="number"?w="n":typeof g=="boolean"?w="b":typeof g=="string"?w="s":g instanceof Date?(w="d",n.cellDates||(w="n",g=Ma(g)),y=n.dateNF||Vr[14]):g===null&&n.nullError&&(w="e",g=0),u?(u.t=w,u.v=g,delete u.w,delete u.R,y&&(u.z=y)):i[j]=u={t:w,v:g},y&&(u.z=y))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var x=Fn(o);if(a)for(m=0;m<h.length;++m)i[ea(m+l)+x]={t:"s",v:h[m]};return i["!ref"]=Jr(d),i}function Uoe(e,t){return g$(null,e,t)}function ip(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=bn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?ip(e,pr(t)):ip(e,pr({r:t,c:r||0}))}function Woe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Voe(){return{SheetNames:[],Sheets:{}}}function Hoe(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(i$(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function zoe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Woe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function qoe(e,t){return e.z=t,e}function x$(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Koe(e,t,r){return x$(e,"#"+t,r)}function Goe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Yoe(e,t,r,n){for(var a=typeof t!="string"?t:Dr(t),i=typeof t=="string"?t:Jr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=ip(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var ys={encode_col:ea,encode_row:Fn,encode_cell:pr,encode_range:Jr,decode_col:Y_,decode_row:G_,split_cell:dte,decode_cell:bn,decode_range:as,format_cell:Fo,sheet_add_aoa:v5,sheet_add_json:g$,sheet_add_dom:d$,aoa_to_sheet:Qf,json_to_sheet:Uoe,table_to_sheet:f$,table_to_book:woe,sheet_to_csv:iT,sheet_to_txt:p$,sheet_to_json:rv,sheet_to_html:u$,sheet_to_formulae:Boe,sheet_to_row_object_array:rv,sheet_get_cell:ip,book_new:Voe,book_append_sheet:Hoe,book_set_sheet_visibility:zoe,cell_set_number_format:qoe,cell_set_hyperlink:x$,cell_set_internal_link:Koe,cell_add_comment:Goe,sheet_set_array_formula:Yoe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Xoe({onNext:e,onPrevious:t,isLast:r,isLoading:n}){const[a,i]=T.useState(null),[o,l]=T.useState("balances"),[c,u]=T.useState([]),[d,f]=T.useState([]),[h,m]=T.useState(!1),{toast:x}=Lr();Le({queryKey:["/api/companies"]});const{data:p=[]}=Le({queryKey:["/api/leave-types"]}),v=j=>{var E;const N=(E=j.target.files)==null?void 0:E[0];if(N&&(i(N),u([]),f([]),m(!1),!["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(N.type))){x({title:"Invalid File Type",description:"Please upload a CSV or Excel file (.csv, .xls, .xlsx)",variant:"destructive"}),i(null);return}},b=It({mutationFn:async j=>{const N=new FormData;return N.append("file",j),N.append("importType",o),(await yt("POST","/api/import-leave-data/validate",N)).json()},onSuccess:j=>{u(j.preview),f(j.errors||[]),m(j.errors.length===0),j.errors.length===0?x({title:"Validation Successful",description:`File validated successfully. Found ${j.preview.length} records.`}):x({title:"Validation Issues Found",description:`Found ${j.errors.length} validation errors. Please review and fix them.`,variant:"destructive"})},onError:j=>{console.error("File validation error:",j),x({title:"Validation Failed",description:"Failed to validate file. Please check the file format and try again.",variant:"destructive"})}}),g=It({mutationFn:async()=>{if(!a)throw new Error("No file selected");const j=new FormData;return j.append("file",a),j.append("importType",o),(await yt("POST","/api/import-leave-data/execute",j)).json()},onSuccess:j=>{Ye.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),Ye.invalidateQueries({queryKey:["/api/leave-balance-transactions"]}),x({title:"Import Successful",description:`Successfully imported ${j.imported} records.`}),i(null),u([]),f([]),m(!1),Ye.invalidateQueries({queryKey:["/api/leave-types"]}),Ye.invalidateQueries({queryKey:["/api/leave-variants"]})},onError:j=>{console.error("Import error:",j),x({title:"Import Failed",description:"Failed to import data. Please try again.",variant:"destructive"})}}),w=async j=>{try{const N=await Ds();console.log(`[ImportLeaveDataSetup] External API returned ${N.length} employees`),N.length===0&&(console.log("No employee data available, generating template with empty employee fields"),x({title:"No Employee Data",description:"Could not fetch employee data from external API. Template will have empty employee fields.",variant:"default"}));let E=[];if(j==="balances")E=[["Leave balance details for the current calendar year as on migration"],[],["EmpNumber","EmpName","LeaveType","LeaveOpeningBalance","LeaveEncashed","LeaveLapsed"]];else{E=[["Leave availed details from the beginning of the current calendar year till migration cut off date"],[],["EmpNumber","EmpName","LeaveType","LeaveTakenStartDate","Is Start Date a Half Day","LeaveTakenEndDate","Is End Date a Half Day","TotalLeaveDays","Status"]];const I=p;console.log("[ImportLeaveDataSetup] Transaction template: Only including column headers, no employee data");const M=ys.book_new(),C=ys.aoa_to_sheet(E);C["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:18},{wch:20},{wch:18},{wch:20},{wch:15},{wch:12}],C["!merges"]||(C["!merges"]=[]),C["!merges"].push({s:{r:0,c:0},e:{r:0,c:7}}),ys.book_append_sheet(M,C,"Leave Transaction Import");const z=sp(M,{bookType:"xlsx",type:"array"}),J=new Blob([z],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),U=window.URL.createObjectURL(J),q=document.createElement("a");q.href=U,q.download="leave_transaction_import_template.xlsx",document.body.appendChild(q),q.click(),document.body.removeChild(q),window.URL.revokeObjectURL(U),x({title:"Template Downloaded",description:"Transaction template with column headers only"});return}const S=p;if(N.length>0)for(const I of S)try{const M=localStorage.getItem("org_id")||"38";console.log(`[ImportLeaveDataSetup] Fetching variants for leave type ${I.name} with org_id: ${M}`);const C=await fetch("/api/leave-variants",{credentials:"include",headers:{"X-Org-Id":M}});if(C.ok){const z=(await C.json()).filter(q=>q.leaveTypeName===I.name);console.log(`[ImportLeaveDataSetup] Found ${z.length} variants for leave type ${I.name}:`,z.map(q=>`ID: ${q.id}`));const J=new Set;for(const q of z)try{console.log(`[ImportLeaveDataSetup] Fetching assignments for variant ${q.id}`);const Y=await fetch(`/api/employee-assignments/${q.id}`,{credentials:"include"});if(Y.ok){const Q=await Y.json();console.log(`[ImportLeaveDataSetup] Found ${Q.length} assignments for variant ${q.id}:`,Q),Q.forEach(Z=>{J.add(Z.userId)})}else console.log(`[ImportLeaveDataSetup] Failed to fetch assignments for variant ${q.id}:`,Y.status)}catch(Y){console.log(`[ImportLeaveDataSetup] Error fetching assignments for variant ${q.id}:`,Y)}console.log(`[ImportLeaveDataSetup] Total assigned employee IDs for ${I.name}:`,Array.from(J)),console.log(`[ImportLeaveDataSetup] Processing ${N.length} employees for leave type ${I.name}`);let U=0;N.forEach(q=>{const Y=q.user_id||q.id,Q=q.employeeNumber||q.employee_number,Z=q.user_name||q.name||`${q.firstName||""} ${q.lastName||""}`.trim()||"";console.log(`[ImportLeaveDataSetup] Checking employee: ID=${Y}, Number=${Q}, Name=${Z}, Assigned=${J.has(Y)}`),J.has(Y)&&Q&&(U++,console.log(`[ImportLeaveDataSetup] Adding employee ${Z} (${Q}) to ${I.name} template`),j==="balances"?E.push([Q,Z,I.name,"","",""]):E.push([Q,Z,I.name,"","","","approved"]))}),console.log(`[ImportLeaveDataSetup] Added ${U} employees for leave type ${I.name}`)}}catch(M){console.log(`Error processing leave type ${I.name}:`,M)}else S.forEach(I=>{j==="balances"?E.push(["EMP001","Sample Employee",I.name,"","",""]):E.push(["EMP001","Sample Employee",I.name,"","","","approved"])});const _=ys.book_new(),D=ys.aoa_to_sheet(E);j==="balances"?(D["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:20},{wch:15},{wch:12}],D["!merges"]||(D["!merges"]=[]),D["!merges"].push({s:{r:0,c:0},e:{r:0,c:5}})):(D["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:12},{wch:12},{wch:8},{wch:10}],D["!merges"]||(D["!merges"]=[]),D["!merges"].push({s:{r:0,c:0},e:{r:0,c:6}}));const F=j==="balances"?"Leave Balance Import":"Leave Transaction Import";ys.book_append_sheet(_,D,F);const O=sp(_,{bookType:"xlsx",type:"array"}),L=new Blob([O],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),k=window.URL.createObjectURL(L),P=document.createElement("a");P.href=k,P.download=`leave_${j}_import_template.xlsx`,document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(k),x({title:"Template Downloaded",description:`Successfully downloaded ${j} template with ${E.length-3} employee records.`})}catch(N){console.error("Error generating template:",N),x({title:"Download Failed",description:"Failed to generate template. Please try again.",variant:"destructive"})}},y=()=>{if(!h||d.length>0){x({title:"Validation Required",description:"Please validate the file and fix all errors before importing.",variant:"destructive"});return}g.mutate()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Import Leave Data"}),s.jsx("p",{className:"text-gray-600",children:"Upload employee leave balance or transaction data to import into the system."})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Import Instructions"})}),s.jsx(_e,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-blue-200 bg-blue-50 p-4 rounded-lg",children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Select Template Type"}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importType",value:"balances",checked:o==="balances",onChange:j=>l(j.target.value),className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Balance Template"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importType",value:"transactions",checked:o==="transactions",onChange:j=>l(j.target.value),className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Transaction Template"})]})]})]}),s.jsx("div",{className:"space-y-3 text-sm text-gray-600",children:o==="balances"?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Import employee leave balance data from your previous system."}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Required Format for Leave Balances:"}),s.jsxs("ul",{className:"text-blue-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpNumber:"})," Employee ID (e.g., HIN/00001)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpName:"})," Employee full name"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveType:"})," Leave type code (EL, CL, SL, etc.)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveOpeningBalance:"})," Current available balance"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveEncashed:"})," Amount encashed (if applicable)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveLapsed:"})," Amount that expired/lapsed"]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Import historical leave transactions that employees have already taken."}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Required Format for Leave Transactions:"}),s.jsxs("ul",{className:"text-green-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpNumber:"})," Employee ID (e.g., HIN/00001)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpName:"})," Employee full name"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveType:"})," Leave type code (EL, CL, SL, etc.)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveTakenStartDate:"})," Leave start date (dd-MM-YYYY)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Is Start Date a Half Day:"})," TRUE/FALSE for half day start"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveTakenEndDate:"})," Leave end date (dd-MM-YYYY)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Is End Date a Half Day:"})," TRUE/FALSE for half day end"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"TotalLeaveDays:"})," Number of leave days taken (must be greater than 0)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Status:"})," Approved/1 (deducts balance), Rejected/0 (no deduction), or Pending/2 (no deduction)"]})]}),s.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800",children:[s.jsx("strong",{children:"Important:"})," Ensure TotalLeaveDays column contains actual day counts (e.g., 1, 2, 0.5) and not zero values."]})]})]})})]})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Upload Data File"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ee,{variant:"outline",onClick:()=>w("balances"),className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Balance Template"})]}),s.jsxs(ee,{variant:"outline",onClick:()=>w("transactions"),className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Transaction Template"})]})]})]})}),s.jsx(_e,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"file",className:"text-sm font-medium text-gray-700",children:"Select File"}),s.jsx(ut,{id:"file",type:"file",accept:".csv,.xls,.xlsx",onChange:v,className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: CSV, Excel (.xls, .xlsx)"})]}),a&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(JR,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:a.name}),s.jsxs("p",{className:"text-xs text-blue-600",children:[(a.size/1024).toFixed(1)," KB"]})]}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>b.mutate(a),disabled:b.isPending,children:b.isPending?"Validating...":"Validate"})]})]})})]}),(c.length>0||d.length>0)&&s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[d.length>0?s.jsx(of,{className:"w-5 h-5 text-red-500"}):s.jsx(gn,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Validation Results"})]})}),s.jsxs(_e,{className:"space-y-4",children:[d.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-600 mb-2",children:"Validation Errors"}),s.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:d.map((j,N)=>s.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:j},N))})]}),c.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-2",children:["Data Preview (",c.length," records)"]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-sm border",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsx("tr",{children:Object.keys(c[0]||{}).map(j=>s.jsx("th",{className:"border px-2 py-1 text-left",children:j},j))})}),s.jsx("tbody",{children:c.slice(0,5).map((j,N)=>s.jsx("tr",{children:Object.values(j).map((E,S)=>s.jsx("td",{className:"border px-2 py-1",children:String(E)},S))},N))})]}),c.length>5&&s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Showing first 5 rows of ",c.length," total records."]})]})]}),h&&d.length===0&&s.jsx(ee,{onClick:y,disabled:g.isPending,className:"w-full",children:g.isPending?"Importing...":"Import Data"})]})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(ee,{variant:"outline",onClick:t,children:"Previous"}),s.jsx(ee,{onClick:e,disabled:n,children:r?"Complete Setup":"Next"})]})]})}function Qoe({company:e}){var h;const[,t]=ju(),[r,n]=T.useState(()=>{if(!e)return localStorage.removeItem("setupWizardStep"),0;const m=localStorage.getItem("setupWizardStep");return m?parseInt(m,10):0}),[a,i]=T.useState(!1);T.useEffect(()=>{e||(localStorage.removeItem("setupWizardStep"),n(0))},[e]),T.useEffect(()=>{localStorage.setItem("setupWizardStep",r.toString())},[r]);const o=[{name:"Effective Date",component:CZ},{name:"Leave Types",component:m6},{name:"Comp off",component:F6},{name:"PTO",component:L6},{name:"Import Leave Data",component:Xoe},{name:"Roles",component:p6},{name:"Workflow",component:nee}],l=()=>{console.log("Start setup clicked, setting currentStep to 1"),console.log("Current step before:",r),n(1),console.log("Current step after setState call:",r)},c=()=>{console.log("nextStep called, currentStep:",r,"steps.length:",o.length);const m=r+1;console.log("Setting currentStep to:",m),m<=o.length?n(m):i(!0)},u=()=>{r>1&&n(r-1)},d=It({mutationFn:async()=>{const m=Ye.getQueryData(["/api/company"]),x=localStorage.getItem("org_id");if(m&&m.id){const p={"Content-Type":"application/json"};x&&(p["X-Org-Id"]=x);const v=await fetch(`/api/company/${m.id}`,{method:"PATCH",headers:p,body:JSON.stringify({setupStatus:"completed"}),credentials:"include"});if(!v.ok)throw new Error("Failed to complete setup");return v.json()}throw new Error("No company found")},onSuccess:m=>{console.log("Setup completion successful:",m),localStorage.removeItem("setupWizardStep"),Ye.invalidateQueries({queryKey:["/api/company"]}),setTimeout(()=>{console.log("Navigating to admin overview"),t("/overview")},100)},onError:m=>{console.error("Setup completion failed:",m)}});if(a)return s.jsx("div",{className:"h-full flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm",children:"✓"})})}),s.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Setup Complete!"}),s.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Your leave management system is now ready to use. You can start managing leave requests and configure additional settings as needed."}),s.jsx(ee,{onClick:()=>window.location.href="/",className:"bg-primary hover:bg-primary/90",children:"Go to Dashboard"})]})});const f=(h=o[r-1])==null?void 0:h.component;return console.log("SetupWizard render - currentStep:",r),console.log("CurrentStepComponent:",f),console.log("steps array:",o),s.jsxs("div",{className:"fixed inset-0 z-50 flex h-screen bg-gray-50",children:[s.jsx("div",{className:"w-64 bg-gray-900 text-white",children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-center mb-8",children:s.jsx("img",{src:"/eziileave-logo.png",alt:"EziiLeave",className:"h-6 w-auto"})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-white mb-4",children:[s.jsx("div",{className:"w-5 h-5 bg-white rounded flex items-center justify-center",children:s.jsx("span",{className:"text-gray-900 font-bold text-xs",children:"□"})}),s.jsx("span",{className:"font-medium text-sm",children:"Setup"})]}),s.jsx("div",{className:"text-xs text-gray-400 ml-7",children:"Leave"})]}),s.jsx("div",{className:"space-y-2",children:o.map((m,x)=>s.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded transition-colors ${r===x+1?"bg-gray-800 text-white":"text-gray-300 hover:text-white"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center text-xs font-medium ${r===x+1?"border-white bg-white text-gray-900":r>x+1?"border-green-400 bg-green-400 text-white":"border-gray-500 text-gray-500"}`,children:x+1}),s.jsx("span",{className:"text-sm",children:m.name})]},x))})]})}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 p-6",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Leave Management"})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"p-6",children:r===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"This module has not been enabled for this organisation"}),s.jsx(ee,{onClick:l,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2",children:"Enable Module →"})]})}):f?s.jsx(f,{onNext:c,onPrevious:u,onComplete:r===o.length?()=>d.mutate():void 0,isLast:r===o.length,isLoading:d.isPending,company:e}):null})})]})]})}function Jy(){const{isAuthenticated:e,user:t}=a0(),[r,n]=T.useState({reportees:[],isReportingManager:!1,isLoading:!1,error:null});console.log("[ReportingManager] Hook called - isAuthenticated:",e,"user:",!!t);const a=async i=>{console.log("[ReportingManager] Fetching reportees for user_id:",i),n(o=>({...o,isLoading:!0,error:null}));try{const o=localStorage.getItem("jwtToken")||localStorage.getItem("jwt_token")||localStorage.getItem("token");if(console.log("[ReportingManager] JWT token found:",!!o),console.log("[ReportingManager] JWT token length:",o==null?void 0:o.length),!o){console.log("[ReportingManager] No JWT token found in localStorage, showing all employees"),console.log("[ReportingManager] Available localStorage keys:",Object.keys(localStorage)),n({reportees:[],isReportingManager:!1,isLoading:!1,error:null});return}console.log("[ReportingManager] Making API call to:",`https://qa-api.resolveindia.com/organization/reporting-manager/${i}/reportees`),console.log("[ReportingManager] Using JWT token:",(o==null?void 0:o.substring(0,50))+"...");const l=await fetch(`https://qa-api.resolveindia.com/organization/reporting-manager/${i}/reportees`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(console.log("[ReportingManager] API Response status:",l.status),!l.ok){console.log("[ReportingManager] API call failed with status:",l.status);const u=await l.text();console.log("[ReportingManager] Error response:",u),n({reportees:[],isReportingManager:!1,isLoading:!1,error:null});return}const c=await l.json();if(console.log("[ReportingManager] API Response:",c),c.result==="Success"&&Array.isArray(c.data)){const u=c.data,d=u.length>0;n({reportees:u,isReportingManager:d,isLoading:!1,error:null}),console.log(`[ReportingManager] User is ${d?"a reporting manager":"not a reporting manager"} with ${u.length} reportees`)}else n({reportees:[],isReportingManager:!1,isLoading:!1,error:null})}catch(o){console.error("[ReportingManager] Error fetching reportees:",o),n({reportees:[],isReportingManager:!1,isLoading:!1,error:null})}};return T.useEffect(()=>{if(console.log("[ReportingManager] Effect triggered - isAuthenticated:",e,"user:",!!t),e&&t){const i=localStorage.getItem("user_id")||t.id;console.log("[ReportingManager] User authenticated, calling reporting manager API for user_id:",i),console.log("[ReportingManager] localStorage contents:",Object.keys(localStorage)),console.log("[ReportingManager] Available tokens:",{jwtToken:!!localStorage.getItem("jwtToken"),jwt_token:!!localStorage.getItem("jwt_token"),token:!!localStorage.getItem("token")}),a(i)}else console.log("[ReportingManager] Not calling API - isAuthenticated:",e,"user:",!!t)},[e,t]),T.useEffect(()=>{const i=localStorage.getItem("user_id")||"1";console.log("[ReportingManager] Force calling API immediately for testing with user_id:",i),console.log("[ReportingManager] Current localStorage keys:",Object.keys(localStorage)),a(i)},[]),T.useEffect(()=>{console.log("[ReportingManager] Hook mounted - forcing API call");const i=localStorage.getItem("user_id")||"1";setTimeout(()=>{console.log("[ReportingManager] Delayed API call with user_id:",i),a(i)},1e3)},[]),r}function eh(){const[e,t]=T.useState(null),[r,n]=T.useState([]),[a,i]=T.useState(!0),[o,l]=T.useState(null);T.useEffect(()=>{(async()=>{var m;try{i(!0);const x=localStorage.getItem("jwt_token");let p=localStorage.getItem("user_id");if(p==="1"&&(console.log("[WorkPattern] Current user_id is 1, keeping as is"),p="1435"),!x){console.log("⚠️  [WorkPattern] No JWT token found, cannot fetch work pattern"),i(!1);return}if(!p){console.log("[WorkPattern] No user ID found"),l("No user ID found"),i(!1);return}console.log("[WorkPattern] Fetching work patterns for user:",p);const v=await fetch("https://qa-api.resolveindia.com/organization/get-work-patterns",{method:"GET",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(console.log("[WorkPattern] Work pattern API Response status:",v.status),v.ok){const b=await v.json();if(console.log("[WorkPattern] Work pattern data:",b),console.log("[WorkPattern] Full API response structure:",JSON.stringify(b,null,2)),b.data&&b.data.length>0){const g=b.data.find(y=>y.employees&&y.employees.includes(parseInt(p)))||b.data[0];console.log("[WorkPattern] Found user work pattern:",g),console.log("[WorkPattern] Work pattern structure details:",{patternName:g.patternName,patternId:g.id,userIdInPattern:(m=g.employees)==null?void 0:m.includes(parseInt(p)),currentUserId:parseInt(p),employeesInPattern:g.employees,nonWorkingDays:g.nonWorkingDays,numberOfWorkingDays:g.numberOfWorkingDays,numberOfNonWorkingDays:g.numberOfNonWorkingDays,fullStructure:JSON.stringify(g,null,2)}),t(g),console.log("[WorkPattern] Fetching external holidays...");const w=await fetch("https://qa-api.resolveindia.com/organization/holidays",{method:"GET",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(console.log("[WorkPattern] External holidays API response status:",w.status),w.ok){const y=await w.json();console.log("[WorkPattern] External holidays data:",y);const j=y.data||[];if(userWorkPattern.selectedHolidays&&userWorkPattern.selectedHolidays.length>0){const N=j.filter(E=>userWorkPattern.selectedHolidays.includes(E.id));console.log("[WorkPattern] Filtered holidays matching work pattern:",N),n(N)}else console.log("[WorkPattern] No selected holidays in work pattern"),n([])}else{const y=await w.text();console.log("[WorkPattern] Failed to fetch external holidays:",w.status,y),n([])}}else console.log("[WorkPattern] No work pattern found for user"),l("No work pattern found for user"),n([])}else{const b=await v.text();console.log("[WorkPattern] Work pattern API Error:",v.status,b),l(`Work pattern API error: ${v.status}`),n([])}}catch(x){console.error("[WorkPattern] Error fetching work pattern:",x),l("Failed to fetch work pattern"),n([])}finally{i(!1)}})()},[]);const c=h=>{if(!r||r.length===0)return!1;const m=h.toISOString().split("T")[0];return!!r.find(p=>(p.selectedDate||p.date)===m)},u=h=>{if(!r||r.length===0)return null;const m=h.toISOString().split("T")[0];return r.find(x=>(x.selectedDate||x.date)===m)||null},d=h=>{var b;const m=h.getDay(),p=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][m];if(console.log(`[WorkPattern] isWorkingDay check for ${h.toISOString().split("T")[0]} (${p}):`,{dayOfWeek:m,dayName:p,isHoliday:c(h),workPatternExists:!!e,nonWorkingDaysCount:((b=e==null?void 0:e.nonWorkingDays)==null?void 0:b.length)||0,nonWorkingDaysStructure:e==null?void 0:e.nonWorkingDays}),c(h))return console.log(`[WorkPattern] ${p} is a holiday, returning false`),!1;if(e!=null&&e.nonWorkingDays&&e.nonWorkingDays.length>0){const g=e.nonWorkingDays.some(w=>{console.log("[WorkPattern] Checking pattern:",w);const y=w.days.some(j=>{const N=j.toLowerCase()===p;return console.log(`[WorkPattern] Pattern day "${j}" vs "${p}": ${N}`),N});return console.log(`[WorkPattern] Pattern result for ${p}:`,y),y});return console.log(`[WorkPattern] Final isNonWorking result for ${p}:`,g),!g}const v=h.getDay()===0||h.getDay()===6;return console.log(`[WorkPattern] No work pattern, using weekend fallback for ${p}: isWeekend=${v}`),!v};return{workPattern:e,holidays:r,isLoading:a,error:o,isHoliday:c,getHolidayDetails:u,isWorkingDay:d,calculateWorkingDays:(h,m)=>{let x=0;const p=new Date(h);for(;p<=m;)d(p)&&x++,p.setDate(p.getDate()+1);return x}}}function Zoe(){const[e,t]=T.useState("Leaves"),[r,n]=T.useState("All"),[a,i]=T.useState(new Date),o=localStorage.getItem("currentView")||"admin",{data:l=[]}=Le({queryKey:["/api/leave-requests"],enabled:o==="admin"}),{data:c=[]}=Le({queryKey:["/api/leave-types"]}),{data:u=[]}=Le({queryKey:["/api/users"]}),{data:d=[],isLoading:f}=Le({queryKey:["external-employees"],queryFn:Ds,staleTime:5*60*1e3});Jy(),localStorage.getItem("user_id");const{workPattern:h,holidays:m,isHoliday:x,isWorkingDay:p}=eh(),{data:v}=Le({queryKey:["/api/comp-off-config"]}),b=()=>{i(new Date(a.getFullYear(),a.getMonth()-1,1))},g=()=>{i(new Date(a.getFullYear(),a.getMonth()+1,1))},w=()=>{i(new Date)},y=x,j=M=>!p(M),N=M=>{if(!M)return"Employee";const C=d.find(J=>{var U;return J.user_id===M||J.user_id===parseInt(M)||((U=J.user_id)==null?void 0:U.toString())===M});if(C&&C.user_name)return C.user_name;if(C&&(C.first_name||C.last_name)){const J=`${C.first_name||""} ${C.last_name||""}`.trim();if(J)return J}const R=u.find(J=>J.id===M);return R&&R.firstName?`${R.firstName} ${R.lastName||""}`.trim():{225:"Ashwani Khanna",231:"Sumalatha Thadimari",7243:"Sumalatha Thadimari",7244:"Ashwani Khanna",12080:"Rahul Sharma",7246:"Anjali Kumari"}[M]||`Employee ${M}`},{data:E}=Le({queryKey:["/api/pto-config"]}),S=l,_=S.filter(M=>M.status==="pending"),D=S.filter(M=>M.status==="approved"),F=S.filter(M=>M.status==="rejected"),L=(()=>{switch(r){case"Pending":return _;case"Approved":return D;case"Rejected":return F;default:return S}})(),k=c.length,P=E!=null&&E.enabled?1:0,I=v!=null&&v.enabled?1:0;return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Leaves"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:k})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(wr,{className:"w-6 h-6 text-blue-500"})})]})})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"PTO"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:P})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Bj,{className:"w-6 h-6 text-green-500"})})]})})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"CompOff"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-800",children:I})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(yn,{className:"w-6 h-6 text-orange-500"})})]})})})]}),s.jsxs(Ne,{className:"mb-8",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Approval Requests"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ee,{variant:e==="Leaves"?"default":"outline",size:"sm",className:e==="Leaves"?"bg-gray-900 text-white":"",onClick:()=>t("Leaves"),children:["Leaves (",S.length,")"]}),s.jsx(ee,{variant:e==="PTO"?"default":"outline",size:"sm",className:e==="PTO"?"bg-gray-900 text-white":"",onClick:()=>t("PTO"),children:"PTO (0)"}),s.jsx(ee,{variant:e==="CompOff"?"default":"outline",size:"sm",className:e==="CompOff"?"bg-gray-900 text-white":"",onClick:()=>t("CompOff"),children:"CompOff (0)"})]})]}),s.jsxs("div",{className:"flex space-x-6 mt-4 text-sm",children:[s.jsxs("button",{className:`transition-colors flex items-center space-x-1 pb-1 ${r==="All"?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,onClick:()=>n("All"),children:["All (",S.length,")"]}),s.jsxs("button",{className:`transition-colors flex items-center space-x-1 pb-1 ${r==="Pending"?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,onClick:()=>n("Pending"),children:[s.jsxs("span",{children:["Pending (",_.length,")"]}),s.jsx(yn,{className:"w-3 h-3"})]}),s.jsxs("button",{className:`transition-colors flex items-center space-x-1 pb-1 ${r==="Approved"?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,onClick:()=>n("Approved"),children:[s.jsxs("span",{children:["Approved (",D.length,")"]}),s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),s.jsxs("button",{className:`transition-colors flex items-center space-x-1 pb-1 ${r==="Rejected"?"text-primary font-medium border-b-2 border-primary":"text-gray-600 hover:text-gray-800"}`,onClick:()=>n("Rejected"),children:[s.jsxs("span",{children:["Rejected (",F.length,")"]}),s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})]})]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:e==="PTO"?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Bj,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No PTO requests"}),s.jsx("p",{className:"text-gray-600",children:"PTO requests will appear here when submitted by employees."})]}):e==="CompOff"?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(yn,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No CompOff requests"}),s.jsx("p",{className:"text-gray-600",children:"Compensatory off requests will appear here when submitted by employees."})]}):L.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(wr,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No leave requests"}),s.jsx("p",{className:"text-gray-600",children:"Employee leave requests will appear here for approval."})]}):L.slice(0,3).map(M=>{u.find(R=>R.id===M.userId);const C=c.find(R=>R.id===M.leaveTypeId);return s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-gray-600",children:N(M.userId).split(" ").map(J=>J[0]).join("").slice(0,2)||"UN"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:N(M.userId)}),s.jsxs("p",{className:"text-sm text-gray-600",children:[(C==null?void 0:C.name)||"Leave"," • ",new Date(M.startDate).toLocaleDateString()," - ",new Date(M.endDate).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($t,{variant:M.status==="pending"?"default":M.status==="approved"?"secondary":"destructive",children:M.status}),s.jsxs("p",{className:"text-sm text-gray-500",children:[M.workingDays," days"]})]})]})},M.id)})}),S.length>3&&s.jsx("div",{className:"p-4 text-center border-t",children:s.jsx(Vh,{href:"/approvals",children:s.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:["View all ",S.length," requests"]})})})]}),s.jsxs(Ne,{children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Calendar"}),s.jsx(ee,{variant:"outline",size:"sm",className:"text-primary border-primary hover:bg-primary hover:text-white",children:"Set Block-out Period +"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-800",children:a.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{size:"sm",variant:"outline",className:"bg-gray-600 text-white border-gray-600",onClick:w,children:"today"}),s.jsx(ee,{variant:"outline",size:"sm",onClick:b,children:s.jsx(Vl,{className:"w-4 h-4"})}),s.jsx(ee,{variant:"outline",size:"sm",onClick:g,children:s.jsx(Ss,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(M=>s.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-600",children:M},M))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const M=a.getFullYear(),C=a.getMonth(),R=new Date(M,C,1),z=new Date(R);z.setDate(z.getDate()-R.getDay());const J=[];for(let U=0;U<42;U++){const q=new Date(z);q.setDate(z.getDate()+U);const Y=q.getMonth()===C,Q=q.getDate(),Z=y(q),ue=j(q),he=Y?D.filter(re=>{const de=new Date(re.startDate),ne=new Date(re.endDate);return q>=de&&q<=ne}):[],G=he.length>0;J.push(s.jsxs("div",{className:`p-3 h-16 border border-gray-200 text-sm ${Y?Z?"bg-red-300 border-red-400 text-red-900":ue?"bg-gray-400 text-white":G?"bg-green-100":"bg-white hover:bg-gray-50":"bg-gray-50 text-gray-400"} cursor-pointer`,children:[s.jsx("div",{className:"font-medium",children:Q}),Z&&Y&&s.jsx("div",{className:"text-xs text-red-700 font-medium mt-1",children:"HOLIDAY"}),ue&&!Z&&Y&&s.jsx("div",{className:"text-xs text-white font-medium mt-1",children:"NON-WORK"}),G&&Y&&!Z&&!ue&&he.slice(0,2).map((re,de)=>{const ne=N(re.userId),Ee=c.find(Ce=>Ce.id===re.leaveTypeId);return s.jsxs("div",{className:"text-xs text-green-700 mt-1 truncate",children:[ne," - ",(Ee==null?void 0:Ee.name)||"Leave"]},de)})]},U))}return J})()})]})]})]})})}var Joe=Array.isArray,Fa=Joe,ele=typeof D0=="object"&&D0&&D0.Object===Object&&D0,v$=ele,tle=v$,rle=typeof self=="object"&&self&&self.Object===Object&&self,nle=tle||rle||Function("return this")(),Yi=nle,ale=Yi,sle=ale.Symbol,w0=sle,ID=w0,y$=Object.prototype,ile=y$.hasOwnProperty,ole=y$.toString,Ch=ID?ID.toStringTag:void 0;function lle(e){var t=ile.call(e,Ch),r=e[Ch];try{e[Ch]=void 0;var n=!0}catch{}var a=ole.call(e);return n&&(t?e[Ch]=r:delete e[Ch]),a}var cle=lle,ule=Object.prototype,dle=ule.toString;function fle(e){return dle.call(e)}var hle=fle,MD=w0,mle=cle,ple=hle,gle="[object Null]",xle="[object Undefined]",RD=MD?MD.toStringTag:void 0;function vle(e){return e==null?e===void 0?xle:gle:RD&&RD in Object(e)?mle(e):ple(e)}var Vo=vle;function yle(e){return e!=null&&typeof e=="object"}var Ho=yle,wle=Vo,ble=Ho,jle="[object Symbol]";function Nle(e){return typeof e=="symbol"||ble(e)&&wle(e)==jle}var th=Nle,Sle=Fa,_le=th,Tle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ele=/^\w*$/;function Ale(e,t){if(Sle(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||_le(e)?!0:Ele.test(e)||!Tle.test(e)||t!=null&&e in Object(t)}var oT=Ale;function Cle(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cc=Cle;const rh=yr(cc);var Dle=Vo,kle=cc,Ole="[object AsyncFunction]",Ple="[object Function]",Ile="[object GeneratorFunction]",Mle="[object Proxy]";function Rle(e){if(!kle(e))return!1;var t=Dle(e);return t==Ple||t==Ile||t==Ole||t==Mle}var lT=Rle;const Vt=yr(lT);var Fle=Yi,Lle=Fle["__core-js_shared__"],$le=Lle,Jw=$le,FD=function(){var e=/[^.]+$/.exec(Jw&&Jw.keys&&Jw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ble(e){return!!FD&&FD in e}var Ule=Ble,Wle=Function.prototype,Vle=Wle.toString;function Hle(e){if(e!=null){try{return Vle.call(e)}catch{}try{return e+""}catch{}}return""}var w$=Hle,zle=lT,qle=Ule,Kle=cc,Gle=w$,Yle=/[\\^$.*+?()[\]{}|]/g,Xle=/^\[object .+?Constructor\]$/,Qle=Function.prototype,Zle=Object.prototype,Jle=Qle.toString,ece=Zle.hasOwnProperty,tce=RegExp("^"+Jle.call(ece).replace(Yle,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rce(e){if(!Kle(e)||qle(e))return!1;var t=zle(e)?tce:Xle;return t.test(Gle(e))}var nce=rce;function ace(e,t){return e==null?void 0:e[t]}var sce=ace,ice=nce,oce=sce;function lce(e,t){var r=oce(e,t);return ice(r)?r:void 0}var Du=lce,cce=Du,uce=cce(Object,"create"),e1=uce,LD=e1;function dce(){this.__data__=LD?LD(null):{},this.size=0}var fce=dce;function hce(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mce=hce,pce=e1,gce="__lodash_hash_undefined__",xce=Object.prototype,vce=xce.hasOwnProperty;function yce(e){var t=this.__data__;if(pce){var r=t[e];return r===gce?void 0:r}return vce.call(t,e)?t[e]:void 0}var wce=yce,bce=e1,jce=Object.prototype,Nce=jce.hasOwnProperty;function Sce(e){var t=this.__data__;return bce?t[e]!==void 0:Nce.call(t,e)}var _ce=Sce,Tce=e1,Ece="__lodash_hash_undefined__";function Ace(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tce&&t===void 0?Ece:t,this}var Cce=Ace,Dce=fce,kce=mce,Oce=wce,Pce=_ce,Ice=Cce;function nh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nh.prototype.clear=Dce;nh.prototype.delete=kce;nh.prototype.get=Oce;nh.prototype.has=Pce;nh.prototype.set=Ice;var Mce=nh;function Rce(){this.__data__=[],this.size=0}var Fce=Rce;function Lce(e,t){return e===t||e!==e&&t!==t}var cT=Lce,$ce=cT;function Bce(e,t){for(var r=e.length;r--;)if($ce(e[r][0],t))return r;return-1}var t1=Bce,Uce=t1,Wce=Array.prototype,Vce=Wce.splice;function Hce(e){var t=this.__data__,r=Uce(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Vce.call(t,r,1),--this.size,!0}var zce=Hce,qce=t1;function Kce(e){var t=this.__data__,r=qce(t,e);return r<0?void 0:t[r][1]}var Gce=Kce,Yce=t1;function Xce(e){return Yce(this.__data__,e)>-1}var Qce=Xce,Zce=t1;function Jce(e,t){var r=this.__data__,n=Zce(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var eue=Jce,tue=Fce,rue=zce,nue=Gce,aue=Qce,sue=eue;function ah(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ah.prototype.clear=tue;ah.prototype.delete=rue;ah.prototype.get=nue;ah.prototype.has=aue;ah.prototype.set=sue;var r1=ah,iue=Du,oue=Yi,lue=iue(oue,"Map"),uT=lue,$D=Mce,cue=r1,uue=uT;function due(){this.size=0,this.__data__={hash:new $D,map:new(uue||cue),string:new $D}}var fue=due;function hue(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var mue=hue,pue=mue;function gue(e,t){var r=e.__data__;return pue(t)?r[typeof t=="string"?"string":"hash"]:r.map}var n1=gue,xue=n1;function vue(e){var t=xue(this,e).delete(e);return this.size-=t?1:0,t}var yue=vue,wue=n1;function bue(e){return wue(this,e).get(e)}var jue=bue,Nue=n1;function Sue(e){return Nue(this,e).has(e)}var _ue=Sue,Tue=n1;function Eue(e,t){var r=Tue(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Aue=Eue,Cue=fue,Due=yue,kue=jue,Oue=_ue,Pue=Aue;function sh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sh.prototype.clear=Cue;sh.prototype.delete=Due;sh.prototype.get=kue;sh.prototype.has=Oue;sh.prototype.set=Pue;var dT=sh,b$=dT,Iue="Expected a function";function fT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Iue);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(fT.Cache||b$),r}fT.Cache=b$;var j$=fT;const Mue=yr(j$);var Rue=j$,Fue=500;function Lue(e){var t=Rue(e,function(n){return r.size===Fue&&r.clear(),n}),r=t.cache;return t}var $ue=Lue,Bue=$ue,Uue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wue=/\\(\\)?/g,Vue=Bue(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Uue,function(r,n,a,i){t.push(a?i.replace(Wue,"$1"):n||r)}),t}),Hue=Vue;function zue(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var hT=zue,BD=w0,que=hT,Kue=Fa,Gue=th,Yue=1/0,UD=BD?BD.prototype:void 0,WD=UD?UD.toString:void 0;function N$(e){if(typeof e=="string")return e;if(Kue(e))return que(e,N$)+"";if(Gue(e))return WD?WD.call(e):"";var t=e+"";return t=="0"&&1/e==-Yue?"-0":t}var Xue=N$,Que=Xue;function Zue(e){return e==null?"":Que(e)}var S$=Zue,Jue=Fa,ede=oT,tde=Hue,rde=S$;function nde(e,t){return Jue(e)?e:ede(e,t)?[e]:tde(rde(e))}var _$=nde,ade=th,sde=1/0;function ide(e){if(typeof e=="string"||ade(e))return e;var t=e+"";return t=="0"&&1/e==-sde?"-0":t}var a1=ide,ode=_$,lde=a1;function cde(e,t){t=ode(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lde(t[r++])];return r&&r==n?e:void 0}var mT=cde,ude=mT;function dde(e,t,r){var n=e==null?void 0:ude(e,t);return n===void 0?r:n}var T$=dde;const _s=yr(T$);function fde(e){return e==null}var hde=fde;const sr=yr(hde);var mde=Vo,pde=Fa,gde=Ho,xde="[object String]";function vde(e){return typeof e=="string"||!pde(e)&&gde(e)&&mde(e)==xde}var yde=vde;const b0=yr(yde);var E$={exports:{}},gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=Symbol.for("react.element"),gT=Symbol.for("react.portal"),s1=Symbol.for("react.fragment"),i1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),l1=Symbol.for("react.provider"),c1=Symbol.for("react.context"),wde=Symbol.for("react.server_context"),u1=Symbol.for("react.forward_ref"),d1=Symbol.for("react.suspense"),f1=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),m1=Symbol.for("react.lazy"),bde=Symbol.for("react.offscreen"),A$;A$=Symbol.for("react.module.reference");function Os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pT:switch(e=e.type,e){case s1:case o1:case i1:case d1:case f1:return e;default:switch(e=e&&e.$$typeof,e){case wde:case c1:case u1:case m1:case h1:case l1:return e;default:return t}}case gT:return t}}}gr.ContextConsumer=c1;gr.ContextProvider=l1;gr.Element=pT;gr.ForwardRef=u1;gr.Fragment=s1;gr.Lazy=m1;gr.Memo=h1;gr.Portal=gT;gr.Profiler=o1;gr.StrictMode=i1;gr.Suspense=d1;gr.SuspenseList=f1;gr.isAsyncMode=function(){return!1};gr.isConcurrentMode=function(){return!1};gr.isContextConsumer=function(e){return Os(e)===c1};gr.isContextProvider=function(e){return Os(e)===l1};gr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pT};gr.isForwardRef=function(e){return Os(e)===u1};gr.isFragment=function(e){return Os(e)===s1};gr.isLazy=function(e){return Os(e)===m1};gr.isMemo=function(e){return Os(e)===h1};gr.isPortal=function(e){return Os(e)===gT};gr.isProfiler=function(e){return Os(e)===o1};gr.isStrictMode=function(e){return Os(e)===i1};gr.isSuspense=function(e){return Os(e)===d1};gr.isSuspenseList=function(e){return Os(e)===f1};gr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===s1||e===o1||e===i1||e===d1||e===f1||e===bde||typeof e=="object"&&e!==null&&(e.$$typeof===m1||e.$$typeof===h1||e.$$typeof===l1||e.$$typeof===c1||e.$$typeof===u1||e.$$typeof===A$||e.getModuleId!==void 0)};gr.typeOf=Os;E$.exports=gr;var jde=E$.exports,Nde=Vo,Sde=Ho,_de="[object Number]";function Tde(e){return typeof e=="number"||Sde(e)&&Nde(e)==_de}var C$=Tde;const Ede=yr(C$);var Ade=C$;function Cde(e){return Ade(e)&&e!=+e}var Dde=Cde;const j0=yr(Dde);var ai=function(t){return t===0?0:t>0?1:-1},Pc=function(t){return b0(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return Ede(t)&&!j0(t)},cn=function(t){return Xe(t)||b0(t)},kde=0,p1=function(t){var r=++kde;return"".concat(t||"").concat(r)},pu=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!b0(t))return n;var i;if(Pc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return j0(i)&&(i=n),a&&i>r&&(i=r),i},ll=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Ode=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Xu=function(t,r){return Xe(t)&&Xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function dN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):_s(n,t))===r})}function Md(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function fN(e){"@babel/helpers - typeof";return fN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fN(e)}var Pde=["viewBox","children"],Ide=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VD=["points","pathLength"],eb={svg:Pde,polygon:VD,polyline:VD},xT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),!rh(n))return null;var a={};return Object.keys(n).forEach(function(i){xT.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Mde=function(t,r,n){return function(a){return t(r,n,a),null}},av=function(t,r,n){if(!rh(t)||fN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];xT.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Mde(o,r,n))}),a},Rde=["children"],Fde=["children"];function HD(e,t){if(e==null)return{};var r=Lde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},So=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},qD=null,tb=null,vT=function e(t){if(t===qD&&Array.isArray(tb))return tb;var r=[];return T.Children.forEach(t,function(n){sr(n)||(jde.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),tb=r,qD=t,r};function ci(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return So(a)}):n=[So(t)],vT(e).forEach(function(a){var i=_s(a,"type.displayName")||_s(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ha(e,t){var r=ci(e,t);return r&&r[0]}var KD=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Xe(n)||n<=0||!Xe(a)||a<=0)},$de=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bde=function(t){return t&&t.type&&b0(t.type)&&$de.indexOf(t.type)>=0},Ude=function(t,r,n,a){var i,o=(i=eb==null?void 0:eb[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Vt(t)&&(a&&o.includes(r)||Ide.includes(r))||n&&xT.includes(r)},tr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(T.isValidElement(t)&&(a=t.props),!rh(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Ude((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},hN=function e(t,r){if(t===r)return!0;var n=T.Children.count(t);if(n!==T.Children.count(r))return!1;if(n===0)return!0;if(n===1)return GD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!GD(i,o))return!1}return!0},GD=function(t,r){if(sr(t)&&sr(r))return!0;if(!sr(t)&&!sr(r)){var n=t.props||{},a=n.children,i=HD(n,Rde),o=r.props||{},l=o.children,c=HD(o,Fde);return a&&l?Md(i,c)&&hN(a,l):!a&&!l?Md(i,c):!1}return!1},YD=function(t,r){var n=[],a={};return vT(t).forEach(function(i,o){if(Bde(i))n.push(i);else if(i){var l=So(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Wde=function(t){var r=t&&t.type;return r&&zD[r]?zD[r]:null},Vde=function(t,r){return vT(r).indexOf(t)},Hde=["children","width","height","viewBox","className","style","title","desc"];function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(this,arguments)}function zde(e,t){if(e==null)return{};var r=qde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=zde(e,Hde),d=a||{width:r,height:n,x:0,y:0},f=Zt("recharts-surface",i);return se.createElement("svg",mN({},tr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),se.createElement("title",null,l),se.createElement("desc",null,c),t)}var Kde=["children","className"];function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gN.apply(this,arguments)}function Gde(e,t){if(e==null)return{};var r=Yde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vn=se.forwardRef(function(e,t){var r=e.children,n=e.className,a=Gde(e,Kde),i=Zt("recharts-layer",n);return se.createElement("g",gN({className:i},tr(a,!0),{ref:t}),r)}),_o=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Xde(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Qde=Xde,Zde=Qde;function Jde(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Zde(e,t,r)}var efe=Jde,tfe="\\ud800-\\udfff",rfe="\\u0300-\\u036f",nfe="\\ufe20-\\ufe2f",afe="\\u20d0-\\u20ff",sfe=rfe+nfe+afe,ife="\\ufe0e\\ufe0f",ofe="\\u200d",lfe=RegExp("["+ofe+tfe+sfe+ife+"]");function cfe(e){return lfe.test(e)}var D$=cfe;function ufe(e){return e.split("")}var dfe=ufe,k$="\\ud800-\\udfff",ffe="\\u0300-\\u036f",hfe="\\ufe20-\\ufe2f",mfe="\\u20d0-\\u20ff",pfe=ffe+hfe+mfe,gfe="\\ufe0e\\ufe0f",xfe="["+k$+"]",xN="["+pfe+"]",vN="\\ud83c[\\udffb-\\udfff]",vfe="(?:"+xN+"|"+vN+")",O$="[^"+k$+"]",P$="(?:\\ud83c[\\udde6-\\uddff]){2}",I$="[\\ud800-\\udbff][\\udc00-\\udfff]",yfe="\\u200d",M$=vfe+"?",R$="["+gfe+"]?",wfe="(?:"+yfe+"(?:"+[O$,P$,I$].join("|")+")"+R$+M$+")*",bfe=R$+M$+wfe,jfe="(?:"+[O$+xN+"?",xN,P$,I$,xfe].join("|")+")",Nfe=RegExp(vN+"(?="+vN+")|"+jfe+bfe,"g");function Sfe(e){return e.match(Nfe)||[]}var _fe=Sfe,Tfe=dfe,Efe=D$,Afe=_fe;function Cfe(e){return Efe(e)?Afe(e):Tfe(e)}var Dfe=Cfe,kfe=efe,Ofe=D$,Pfe=Dfe,Ife=S$;function Mfe(e){return function(t){t=Ife(t);var r=Ofe(t)?Pfe(t):void 0,n=r?r[0]:t.charAt(0),a=r?kfe(r,1).join(""):t.slice(1);return n[e]()+a}}var Rfe=Mfe,Ffe=Rfe,Lfe=Ffe("toUpperCase"),$fe=Lfe;const g1=yr($fe);function jr(e){return function(){return e}}const F$=Math.cos,sv=Math.sin,xi=Math.sqrt,iv=Math.PI,x1=2*iv,yN=Math.PI,wN=2*yN,Nc=1e-6,Bfe=wN-Nc;function L$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ufe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return L$;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Wfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?L$:Ufe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Nc)if(!(Math.abs(f*c-u*d)>Nc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=a-l,p=c*c+u*u,v=m*m+x*x,b=Math.sqrt(p),g=Math.sqrt(h),w=i*Math.tan((yN-Math.acos((p+h-v)/(2*b*g)))/2),y=w/g,j=w/b;Math.abs(y-1)>Nc&&this._append`L${t+y*d},${r+y*f}`,this._append`A${i},${i},0,0,${+(f*m>d*x)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Nc||Math.abs(this._y1-d)>Nc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%wN+wN),h>Bfe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Nc&&this._append`A${n},${n},0,${+(h>=yN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Wfe(t)}function wT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $$(e){this._context=e}$$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function v1(e){return new $$(e)}function B$(e){return e[0]}function U$(e){return e[1]}function W$(e,t){var r=jr(!0),n=null,a=v1,i=null,o=yT(l);e=typeof e=="function"?e:e===void 0?B$:jr(e),t=typeof t=="function"?t:t===void 0?U$:jr(t);function l(c){var u,d=(c=wT(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:jr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:jr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:jr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function hg(e,t,r){var n=null,a=jr(!0),i=null,o=v1,l=null,c=yT(u);e=typeof e=="function"?e:e===void 0?B$:jr(+e),t=typeof t=="function"?t:jr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?U$:jr(+r);function u(f){var h,m,x,p=(f=wT(f)).length,v,b=!1,g,w=new Array(p),y=new Array(p);for(i==null&&(l=o(g=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=m;--x)l.point(w[x],y[x]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),y[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):y[h]))}if(g)return l=null,g+""||null}function d(){return W$().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:jr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:jr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:jr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:jr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class V${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Vfe(e){return new V$(e,!0)}function Hfe(e){return new V$(e,!1)}const bT={draw(e,t){const r=xi(t/iv);e.moveTo(r,0),e.arc(0,0,r,0,x1)}},zfe={draw(e,t){const r=xi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},H$=xi(1/3),qfe=H$*2,Kfe={draw(e,t){const r=xi(t/qfe),n=r*H$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Gfe={draw(e,t){const r=xi(t),n=-r/2;e.rect(n,n,r,r)}},Yfe=.8908130915292852,z$=sv(iv/10)/sv(7*iv/10),Xfe=sv(x1/10)*z$,Qfe=-F$(x1/10)*z$,Zfe={draw(e,t){const r=xi(t*Yfe),n=Xfe*r,a=Qfe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=x1*i/5,l=F$(o),c=sv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},rb=xi(3),Jfe={draw(e,t){const r=-xi(t/(rb*3));e.moveTo(0,r*2),e.lineTo(-rb*r,-r),e.lineTo(rb*r,-r),e.closePath()}},us=-.5,ds=xi(3)/2,bN=1/xi(12),ehe=(bN/2+1)*3,the={draw(e,t){const r=xi(t/ehe),n=r/2,a=r*bN,i=n,o=r*bN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(us*n-ds*a,ds*n+us*a),e.lineTo(us*i-ds*o,ds*i+us*o),e.lineTo(us*l-ds*c,ds*l+us*c),e.lineTo(us*n+ds*a,us*a-ds*n),e.lineTo(us*i+ds*o,us*o-ds*i),e.lineTo(us*l+ds*c,us*c-ds*l),e.closePath()}};function rhe(e,t){let r=null,n=yT(a);e=typeof e=="function"?e:jr(e||bT),t=typeof t=="function"?t:jr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:jr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:jr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function ov(){}function lv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function q$(e){this._context=e}q$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nhe(e){return new q$(e)}function K$(e){this._context=e}K$.prototype={areaStart:ov,areaEnd:ov,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ahe(e){return new K$(e)}function G$(e){this._context=e}G$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function she(e){return new G$(e)}function Y$(e){this._context=e}Y$.prototype={areaStart:ov,areaEnd:ov,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ihe(e){return new Y$(e)}function XD(e){return e<0?-1:1}function QD(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(XD(i)+XD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function ZD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function nb(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function cv(e){this._context=e}cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nb(this,this._t0,ZD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nb(this,ZD(this,r=QD(this,e,t)),r);break;default:nb(this,this._t0,r=QD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function X$(e){this._context=new Q$(e)}(X$.prototype=Object.create(cv.prototype)).point=function(e,t){cv.prototype.point.call(this,t,e)};function Q$(e){this._context=e}Q$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ohe(e){return new cv(e)}function lhe(e){return new X$(e)}function Z$(e){this._context=e}Z$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=JD(e),a=JD(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function JD(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function che(e){return new Z$(e)}function y1(e,t){this._context=e,this._t=t}y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uhe(e){return new y1(e,.5)}function dhe(e){return new y1(e,0)}function fhe(e){return new y1(e,1)}function xf(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function jN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hhe(e,t){return e[t]}function mhe(e){const t=[];return t.key=e,t}function phe(){var e=jr([]),t=jN,r=xf,n=hhe;function a(i){var o=Array.from(e.apply(this,arguments),mhe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=wT(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:jr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:jr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?jN:typeof i=="function"?i:jr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??xf,a):r},a}function ghe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}xf(e,t)}}function xhe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}xf(e,t)}}function vhe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,x=0;x<l;++x){var p=e[t[x]],v=p[n][1]||0,b=p[n-1][1]||0;m+=v-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,xf(e,t)}}function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}var yhe=["type","size","sizeType"];function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(this,arguments)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){whe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function whe(e,t,r){return t=bhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bhe(e){var t=jhe(e,"string");return op(t)=="symbol"?t:t+""}function jhe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nhe(e,t){if(e==null)return{};var r=She(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function She(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var J$={symbolCircle:bT,symbolCross:zfe,symbolDiamond:Kfe,symbolSquare:Gfe,symbolStar:Zfe,symbolTriangle:Jfe,symbolWye:the},_he=Math.PI/180,The=function(t){var r="symbol".concat(g1(t));return J$[r]||bT},Ehe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*_he;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ahe=function(t,r){J$["symbol".concat(g1(t))]=r},jT=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Nhe(t,yhe),u=tk(tk({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=The(n),b=rhe().type(v).size(Ehe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,x=tr(u,!0);return h===+h&&m===+m&&i===+i?se.createElement("path",NN({},x,{className:Zt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};jT.registerSymbol=Ahe;function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SN.apply(this,arguments)}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Che(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function khe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t8(n.key),n)}}function Ohe(e,t,r){return t&&khe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Phe(e,t,r){return t=uv(t),Ihe(e,e8()?Reflect.construct(t,r||[],uv(e).constructor):t.apply(e,r))}function Ihe(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mhe(e)}function Mhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e8=function(){return!!e})()}function uv(e){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(e)}function Rhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_N(e,t)}function lp(e,t,r){return t=t8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=Fhe(e,"string");return vf(t)=="symbol"?t:t+""}function Fhe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fs=32,NT=function(e){function t(){return Dhe(this,t),Phe(this,t,arguments)}return Rhe(t,e),Ohe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=fs/2,o=fs/6,l=fs/3,c=n.inactive?a:n.color;if(n.type==="plainline")return se.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:fs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return se.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(fs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return se.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(fs/8,"h").concat(fs,"v").concat(fs*3/4,"h").concat(-fs,"z"),className:"recharts-legend-icon"});if(se.isValidElement(n.legendIcon)){var u=Che({},n);return delete u.legendIcon,se.cloneElement(n.legendIcon,u)}return se.createElement(jT,{fill:c,cx:i,cy:i,size:fs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:fs,height:fs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var p=m.formatter||c,v=Zt(lp(lp({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Vt(m.value)?null:m.value;_o(!Vt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=m.inactive?u:m.color;return se.createElement("li",SN({className:v,style:f,key:"legend-item-".concat(x)},av(n.props,m,x)),se.createElement(pN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),se.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},p?p(b,m,x):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return se.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(T.PureComponent);lp(NT,"displayName","Legend");lp(NT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lhe=r1;function $he(){this.__data__=new Lhe,this.size=0}var Bhe=$he;function Uhe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Whe=Uhe;function Vhe(e){return this.__data__.get(e)}var Hhe=Vhe;function zhe(e){return this.__data__.has(e)}var qhe=zhe,Khe=r1,Ghe=uT,Yhe=dT,Xhe=200;function Qhe(e,t){var r=this.__data__;if(r instanceof Khe){var n=r.__data__;if(!Ghe||n.length<Xhe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Yhe(n)}return r.set(e,t),this.size=r.size,this}var Zhe=Qhe,Jhe=r1,eme=Bhe,tme=Whe,rme=Hhe,nme=qhe,ame=Zhe;function ih(e){var t=this.__data__=new Jhe(e);this.size=t.size}ih.prototype.clear=eme;ih.prototype.delete=tme;ih.prototype.get=rme;ih.prototype.has=nme;ih.prototype.set=ame;var r8=ih,sme="__lodash_hash_undefined__";function ime(e){return this.__data__.set(e,sme),this}var ome=ime;function lme(e){return this.__data__.has(e)}var cme=lme,ume=dT,dme=ome,fme=cme;function dv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ume;++t<r;)this.add(e[t])}dv.prototype.add=dv.prototype.push=dme;dv.prototype.has=fme;var n8=dv;function hme(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var a8=hme;function mme(e,t){return e.has(t)}var s8=mme,pme=n8,gme=a8,xme=s8,vme=1,yme=2;function wme(e,t,r,n,a,i){var o=r&vme,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&yme?new pme:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],p=t[f];if(n)var v=o?n(p,x,f,t,e,i):n(x,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!gme(t,function(b,g){if(!xme(m,g)&&(x===b||a(x,b,r,n,i)))return m.push(g)})){h=!1;break}}else if(!(x===p||a(x,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var i8=wme,bme=Yi,jme=bme.Uint8Array,Nme=jme;function Sme(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var _me=Sme;function Tme(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ST=Tme,nk=w0,ak=Nme,Eme=cT,Ame=i8,Cme=_me,Dme=ST,kme=1,Ome=2,Pme="[object Boolean]",Ime="[object Date]",Mme="[object Error]",Rme="[object Map]",Fme="[object Number]",Lme="[object RegExp]",$me="[object Set]",Bme="[object String]",Ume="[object Symbol]",Wme="[object ArrayBuffer]",Vme="[object DataView]",sk=nk?nk.prototype:void 0,ab=sk?sk.valueOf:void 0;function Hme(e,t,r,n,a,i,o){switch(r){case Vme:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Wme:return!(e.byteLength!=t.byteLength||!i(new ak(e),new ak(t)));case Pme:case Ime:case Fme:return Eme(+e,+t);case Mme:return e.name==t.name&&e.message==t.message;case Lme:case Bme:return e==t+"";case Rme:var l=Cme;case $me:var c=n&kme;if(l||(l=Dme),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Ome,o.set(e,t);var d=Ame(l(e),l(t),n,a,i,o);return o.delete(e),d;case Ume:if(ab)return ab.call(e)==ab.call(t)}return!1}var zme=Hme;function qme(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var o8=qme,Kme=o8,Gme=Fa;function Yme(e,t,r){var n=t(e);return Gme(e)?n:Kme(n,r(e))}var Xme=Yme;function Qme(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Zme=Qme;function Jme(){return[]}var epe=Jme,tpe=Zme,rpe=epe,npe=Object.prototype,ape=npe.propertyIsEnumerable,ik=Object.getOwnPropertySymbols,spe=ik?function(e){return e==null?[]:(e=Object(e),tpe(ik(e),function(t){return ape.call(e,t)}))}:rpe,ipe=spe;function ope(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var lpe=ope,cpe=Vo,upe=Ho,dpe="[object Arguments]";function fpe(e){return upe(e)&&cpe(e)==dpe}var hpe=fpe,ok=hpe,mpe=Ho,l8=Object.prototype,ppe=l8.hasOwnProperty,gpe=l8.propertyIsEnumerable,xpe=ok(function(){return arguments}())?ok:function(e){return mpe(e)&&ppe.call(e,"callee")&&!gpe.call(e,"callee")},_T=xpe,fv={exports:{}};function vpe(){return!1}var ype=vpe;fv.exports;(function(e,t){var r=Yi,n=ype,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(fv,fv.exports);var c8=fv.exports,wpe=9007199254740991,bpe=/^(?:0|[1-9]\d*)$/;function jpe(e,t){var r=typeof e;return t=t??wpe,!!t&&(r=="number"||r!="symbol"&&bpe.test(e))&&e>-1&&e%1==0&&e<t}var TT=jpe,Npe=9007199254740991;function Spe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Npe}var ET=Spe,_pe=Vo,Tpe=ET,Epe=Ho,Ape="[object Arguments]",Cpe="[object Array]",Dpe="[object Boolean]",kpe="[object Date]",Ope="[object Error]",Ppe="[object Function]",Ipe="[object Map]",Mpe="[object Number]",Rpe="[object Object]",Fpe="[object RegExp]",Lpe="[object Set]",$pe="[object String]",Bpe="[object WeakMap]",Upe="[object ArrayBuffer]",Wpe="[object DataView]",Vpe="[object Float32Array]",Hpe="[object Float64Array]",zpe="[object Int8Array]",qpe="[object Int16Array]",Kpe="[object Int32Array]",Gpe="[object Uint8Array]",Ype="[object Uint8ClampedArray]",Xpe="[object Uint16Array]",Qpe="[object Uint32Array]",Er={};Er[Vpe]=Er[Hpe]=Er[zpe]=Er[qpe]=Er[Kpe]=Er[Gpe]=Er[Ype]=Er[Xpe]=Er[Qpe]=!0;Er[Ape]=Er[Cpe]=Er[Upe]=Er[Dpe]=Er[Wpe]=Er[kpe]=Er[Ope]=Er[Ppe]=Er[Ipe]=Er[Mpe]=Er[Rpe]=Er[Fpe]=Er[Lpe]=Er[$pe]=Er[Bpe]=!1;function Zpe(e){return Epe(e)&&Tpe(e.length)&&!!Er[_pe(e)]}var Jpe=Zpe;function e0e(e){return function(t){return e(t)}}var u8=e0e,hv={exports:{}};hv.exports;(function(e,t){var r=v$,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(hv,hv.exports);var t0e=hv.exports,r0e=Jpe,n0e=u8,lk=t0e,ck=lk&&lk.isTypedArray,a0e=ck?n0e(ck):r0e,d8=a0e,s0e=lpe,i0e=_T,o0e=Fa,l0e=c8,c0e=TT,u0e=d8,d0e=Object.prototype,f0e=d0e.hasOwnProperty;function h0e(e,t){var r=o0e(e),n=!r&&i0e(e),a=!r&&!n&&l0e(e),i=!r&&!n&&!a&&u0e(e),o=r||n||a||i,l=o?s0e(e.length,String):[],c=l.length;for(var u in e)(t||f0e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||c0e(u,c)))&&l.push(u);return l}var m0e=h0e,p0e=Object.prototype;function g0e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||p0e;return e===r}var x0e=g0e;function v0e(e,t){return function(r){return e(t(r))}}var f8=v0e,y0e=f8,w0e=y0e(Object.keys,Object),b0e=w0e,j0e=x0e,N0e=b0e,S0e=Object.prototype,_0e=S0e.hasOwnProperty;function T0e(e){if(!j0e(e))return N0e(e);var t=[];for(var r in Object(e))_0e.call(e,r)&&r!="constructor"&&t.push(r);return t}var E0e=T0e,A0e=lT,C0e=ET;function D0e(e){return e!=null&&C0e(e.length)&&!A0e(e)}var N0=D0e,k0e=m0e,O0e=E0e,P0e=N0;function I0e(e){return P0e(e)?k0e(e):O0e(e)}var w1=I0e,M0e=Xme,R0e=ipe,F0e=w1;function L0e(e){return M0e(e,F0e,R0e)}var $0e=L0e,uk=$0e,B0e=1,U0e=Object.prototype,W0e=U0e.hasOwnProperty;function V0e(e,t,r,n,a,i){var o=r&B0e,l=uk(e),c=l.length,u=uk(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:W0e.call(t,h)))return!1}var m=i.get(e),x=i.get(t);if(m&&x)return m==t&&x==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var b=e[h],g=t[h];if(n)var w=o?n(g,b,h,t,e,i):n(b,g,h,e,t,i);if(!(w===void 0?b===g||a(b,g,r,n,i):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var y=e.constructor,j=t.constructor;y!=j&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var H0e=V0e,z0e=Du,q0e=Yi,K0e=z0e(q0e,"DataView"),G0e=K0e,Y0e=Du,X0e=Yi,Q0e=Y0e(X0e,"Promise"),Z0e=Q0e,J0e=Du,ege=Yi,tge=J0e(ege,"Set"),h8=tge,rge=Du,nge=Yi,age=rge(nge,"WeakMap"),sge=age,TN=G0e,EN=uT,AN=Z0e,CN=h8,DN=sge,m8=Vo,oh=w$,dk="[object Map]",ige="[object Object]",fk="[object Promise]",hk="[object Set]",mk="[object WeakMap]",pk="[object DataView]",oge=oh(TN),lge=oh(EN),cge=oh(AN),uge=oh(CN),dge=oh(DN),Sc=m8;(TN&&Sc(new TN(new ArrayBuffer(1)))!=pk||EN&&Sc(new EN)!=dk||AN&&Sc(AN.resolve())!=fk||CN&&Sc(new CN)!=hk||DN&&Sc(new DN)!=mk)&&(Sc=function(e){var t=m8(e),r=t==ige?e.constructor:void 0,n=r?oh(r):"";if(n)switch(n){case oge:return pk;case lge:return dk;case cge:return fk;case uge:return hk;case dge:return mk}return t});var fge=Sc,sb=r8,hge=i8,mge=zme,pge=H0e,gk=fge,xk=Fa,vk=c8,gge=d8,xge=1,yk="[object Arguments]",wk="[object Array]",mg="[object Object]",vge=Object.prototype,bk=vge.hasOwnProperty;function yge(e,t,r,n,a,i){var o=xk(e),l=xk(t),c=o?wk:gk(e),u=l?wk:gk(t);c=c==yk?mg:c,u=u==yk?mg:u;var d=c==mg,f=u==mg,h=c==u;if(h&&vk(e)){if(!vk(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new sb),o||gge(e)?hge(e,t,r,n,a,i):mge(e,t,c,r,n,a,i);if(!(r&xge)){var m=d&&bk.call(e,"__wrapped__"),x=f&&bk.call(t,"__wrapped__");if(m||x){var p=m?e.value():e,v=x?t.value():t;return i||(i=new sb),a(p,v,r,n,i)}}return h?(i||(i=new sb),pge(e,t,r,n,a,i)):!1}var wge=yge,bge=wge,jk=Ho;function p8(e,t,r,n,a){return e===t?!0:e==null||t==null||!jk(e)&&!jk(t)?e!==e&&t!==t:bge(e,t,r,n,p8,a)}var AT=p8,jge=r8,Nge=AT,Sge=1,_ge=2;function Tge(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new jge;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Nge(d,u,Sge|_ge,n,f):h))return!1}}return!0}var Ege=Tge,Age=cc;function Cge(e){return e===e&&!Age(e)}var g8=Cge,Dge=g8,kge=w1;function Oge(e){for(var t=kge(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Dge(a)]}return t}var Pge=Oge;function Ige(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var x8=Ige,Mge=Ege,Rge=Pge,Fge=x8;function Lge(e){var t=Rge(e);return t.length==1&&t[0][2]?Fge(t[0][0],t[0][1]):function(r){return r===e||Mge(r,e,t)}}var $ge=Lge;function Bge(e,t){return e!=null&&t in Object(e)}var Uge=Bge,Wge=_$,Vge=_T,Hge=Fa,zge=TT,qge=ET,Kge=a1;function Gge(e,t,r){t=Wge(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Kge(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&qge(a)&&zge(o,a)&&(Hge(e)||Vge(e)))}var Yge=Gge,Xge=Uge,Qge=Yge;function Zge(e,t){return e!=null&&Qge(e,t,Xge)}var Jge=Zge,exe=AT,txe=T$,rxe=Jge,nxe=oT,axe=g8,sxe=x8,ixe=a1,oxe=1,lxe=2;function cxe(e,t){return nxe(e)&&axe(t)?sxe(ixe(e),t):function(r){var n=txe(r,e);return n===void 0&&n===t?rxe(r,e):exe(t,n,oxe|lxe)}}var uxe=cxe;function dxe(e){return e}var lh=dxe;function fxe(e){return function(t){return t==null?void 0:t[e]}}var hxe=fxe,mxe=mT;function pxe(e){return function(t){return mxe(t,e)}}var gxe=pxe,xxe=hxe,vxe=gxe,yxe=oT,wxe=a1;function bxe(e){return yxe(e)?xxe(wxe(e)):vxe(e)}var jxe=bxe,Nxe=$ge,Sxe=uxe,_xe=lh,Txe=Fa,Exe=jxe;function Axe(e){return typeof e=="function"?e:e==null?_xe:typeof e=="object"?Txe(e)?Sxe(e[0],e[1]):Nxe(e):Exe(e)}var uc=Axe;function Cxe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var v8=Cxe;function Dxe(e){return e!==e}var kxe=Dxe;function Oxe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Pxe=Oxe,Ixe=v8,Mxe=kxe,Rxe=Pxe;function Fxe(e,t,r){return t===t?Rxe(e,t,r):Ixe(e,Mxe,r)}var Lxe=Fxe,$xe=Lxe;function Bxe(e,t){var r=e==null?0:e.length;return!!r&&$xe(e,t,0)>-1}var Uxe=Bxe;function Wxe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Vxe=Wxe;function Hxe(){}var zxe=Hxe,ib=h8,qxe=zxe,Kxe=ST,Gxe=1/0,Yxe=ib&&1/Kxe(new ib([,-0]))[1]==Gxe?function(e){return new ib(e)}:qxe,Xxe=Yxe,Qxe=n8,Zxe=Uxe,Jxe=Vxe,eve=s8,tve=Xxe,rve=ST,nve=200;function ave(e,t,r){var n=-1,a=Zxe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Jxe;else if(i>=nve){var u=t?null:tve(e);if(u)return rve(u);o=!1,a=eve,c=new Qxe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var sve=ave,ive=uc,ove=sve;function lve(e,t){return e&&e.length?ove(e,ive(t)):[]}var cve=lve;const Nk=yr(cve);function y8(e,t,r){return t===!0?Nk(e,r):Vt(t)?Nk(e,t):e}function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}var uve=["ref"];function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(n){b1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b8(n.key),n)}}function fve(e,t,r){return t&&_k(e.prototype,t),r&&_k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hve(e,t,r){return t=mv(t),mve(e,w8()?Reflect.construct(t,r||[],mv(e).constructor):t.apply(e,r))}function mve(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pve(e)}function pve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w8=function(){return!!e})()}function mv(e){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(e)}function gve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kN(e,t)}function b1(e,t,r){return t=b8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b8(e){var t=xve(e,"string");return yf(t)=="symbol"?t:t+""}function xve(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vve(e,t){if(e==null)return{};var r=yve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wve(e){return e.value}function bve(e,t){if(se.isValidElement(e))return se.cloneElement(e,t);if(typeof e=="function")return se.createElement(e,t);t.ref;var r=vve(t,uve);return se.createElement(NT,r)}var Tk=1,Rd=function(e){function t(){var r;dve(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=hve(this,t,[].concat(a)),b1(r,"lastBoundingBox",{width:-1,height:-1}),r}return gve(t,e),fve(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Tk||Math.abs(a.height-this.lastBoundingBox.height)>Tk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?to({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return to(to({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=to(to({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return se.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},bve(i,to(to({},this.props),{},{payload:y8(d,u,wve)})))}}],[{key:"getWithHeight",value:function(n,a){var i=to(to({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Xe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(T.PureComponent);b1(Rd,"displayName","Legend");b1(Rd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ek=w0,jve=_T,Nve=Fa,Ak=Ek?Ek.isConcatSpreadable:void 0;function Sve(e){return Nve(e)||jve(e)||!!(Ak&&e&&e[Ak])}var _ve=Sve,Tve=o8,Eve=_ve;function j8(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Eve),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?j8(l,t-1,r,n,a):Tve(a,l):n||(a[a.length]=l)}return a}var N8=j8;function Ave(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Cve=Ave,Dve=Cve,kve=Dve(),Ove=kve,Pve=Ove,Ive=w1;function Mve(e,t){return e&&Pve(e,t,Ive)}var S8=Mve,Rve=N0;function Fve(e,t){return function(r,n){if(r==null)return r;if(!Rve(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Lve=Fve,$ve=S8,Bve=Lve,Uve=Bve($ve),CT=Uve,Wve=CT,Vve=N0;function Hve(e,t){var r=-1,n=Vve(e)?Array(e.length):[];return Wve(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var _8=Hve;function zve(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var qve=zve,Ck=th;function Kve(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Ck(e),o=t!==void 0,l=t===null,c=t===t,u=Ck(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Gve=Kve,Yve=Gve;function Xve(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Yve(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Qve=Xve,ob=hT,Zve=mT,Jve=uc,eye=_8,tye=qve,rye=u8,nye=Qve,aye=lh,sye=Fa;function iye(e,t,r){t.length?t=ob(t,function(i){return sye(i)?function(o){return Zve(o,i.length===1?i[0]:i)}:i}):t=[aye];var n=-1;t=ob(t,rye(Jve));var a=eye(e,function(i,o,l){var c=ob(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return tye(a,function(i,o){return nye(i,o,r)})}var oye=iye;function lye(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var cye=lye,uye=cye,Dk=Math.max;function dye(e,t,r){return t=Dk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=Dk(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),uye(e,this,l)}}var fye=dye;function hye(e){return function(){return e}}var mye=hye,pye=Du,gye=function(){try{var e=pye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),T8=gye,xye=mye,kk=T8,vye=lh,yye=kk?function(e,t){return kk(e,"toString",{configurable:!0,enumerable:!1,value:xye(t),writable:!0})}:vye,wye=yye,bye=800,jye=16,Nye=Date.now;function Sye(e){var t=0,r=0;return function(){var n=Nye(),a=jye-(n-r);if(r=n,a>0){if(++t>=bye)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _ye=Sye,Tye=wye,Eye=_ye,Aye=Eye(Tye),Cye=Aye,Dye=lh,kye=fye,Oye=Cye;function Pye(e,t){return Oye(kye(e,t,Dye),e+"")}var Iye=Pye,Mye=cT,Rye=N0,Fye=TT,Lye=cc;function $ye(e,t,r){if(!Lye(r))return!1;var n=typeof t;return(n=="number"?Rye(r)&&Fye(t,r.length):n=="string"&&t in r)?Mye(r[t],e):!1}var j1=$ye,Bye=N8,Uye=oye,Wye=Iye,Ok=j1,Vye=Wye(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ok(e,t[0],t[1])?t=[]:r>2&&Ok(t[0],t[1],t[2])&&(t=[t[0]]),Uye(e,Bye(t,1),[])}),Hye=Vye;const DT=yr(Hye);function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(this,arguments)}function zye(e,t){return Yye(e)||Gye(e,t)||Kye(e,t)||qye()}function qye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kye(e,t){if(e){if(typeof e=="string")return Pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(e,t)}}function Pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Yye(e){if(Array.isArray(e))return e}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){Xye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xye(e,t,r){return t=Qye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qye(e){var t=Zye(e,"string");return cp(t)=="symbol"?t:t+""}function Zye(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jye(e){return Array.isArray(e)&&cn(e[0])&&cn(e[1])?e.join(" ~ "):e}var e1e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,p=t.label,v=t.labelFormatter,b=t.accessibilityLayer,g=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},L=(h?DT(d,h):d).map(function(k,P){if(k.type==="none")return null;var I=lb({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},l),M=k.formatter||f||Jye,C=k.value,R=k.name,z=C,J=R;if(M&&z!=null&&J!=null){var U=M(C,R,k,P,d);if(Array.isArray(U)){var q=zye(U,2);z=q[0],J=q[1]}else z=U}return se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:I},cn(J)?se.createElement("span",{className:"recharts-tooltip-item-name"},J):null,cn(J)?se.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,se.createElement("span",{className:"recharts-tooltip-item-value"},z),se.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return se.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},y=lb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=lb({margin:0},u),N=!sr(p),E=N?p:"",S=Zt("recharts-default-tooltip",m),_=Zt("recharts-tooltip-label",x);N&&v&&d!==void 0&&d!==null&&(E=v(p,d));var D=g?{role:"status","aria-live":"assertive"}:{};return se.createElement("div",ON({className:S,style:y},D),se.createElement("p",{className:_,style:j},se.isValidElement(E)?E:"".concat(E)),w())};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function pg(e,t,r){return t=t1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t1e(e){var t=r1e(e,"string");return up(t)=="symbol"?t:t+""}function r1e(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dh="recharts-tooltip-wrapper",n1e={visibility:"hidden"};function a1e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Zt(Dh,pg(pg(pg(pg({},"".concat(Dh,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(Dh,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(Dh,"-bottom"),Xe(n)&&t&&Xe(t.y)&&n>=t.y),"".concat(Dh,"-top"),Xe(n)&&t&&Xe(t.y)&&n<t.y))}function Mk(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Xe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+l,p=c[n]+u;return x>p?Math.max(d,c[n]):Math.max(f,c[n])}function s1e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function i1e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Mk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Mk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=s1e({translateX:d,translateY:f,useTranslate3d:l})):u=n1e,{cssProperties:u,cssClasses:a1e({translateX:d,translateY:f,coordinate:r})}}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function Rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(r),!0).forEach(function(n){IN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A8(n.key),n)}}function c1e(e,t,r){return t&&l1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u1e(e,t,r){return t=pv(t),d1e(e,E8()?Reflect.construct(t,r||[],pv(e).constructor):t.apply(e,r))}function d1e(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f1e(e)}function f1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!e})()}function pv(e){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pv(e)}function h1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PN(e,t)}function IN(e,t,r){return t=A8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A8(e){var t=m1e(e,"string");return wf(t)=="symbol"?t:t+""}function m1e(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lk=1,p1e=function(e){function t(){var r;o1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=u1e(this,t,[].concat(a)),IN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),IN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return h1e(t,e),c1e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Lk||Math.abs(n.height-this.state.lastBoundingBox.height)>Lk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,x=a.position,p=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,g=a.wrapperStyle,w=i1e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),y=w.cssClasses,j=w.cssProperties,N=Fk(Fk({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return se.createElement("div",{tabIndex:-1,className:y,style:N,ref:function(S){n.wrapperNode=S}},u)}}])}(T.PureComponent),g1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rl={isSsr:g1e(),get:function(t){return Rl[t]},set:function(t,r){if(typeof t=="string")Rl[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Rl[a]=t[a]})}}};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){kT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D8(n.key),n)}}function y1e(e,t,r){return t&&v1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w1e(e,t,r){return t=gv(t),b1e(e,C8()?Reflect.construct(t,r||[],gv(e).constructor):t.apply(e,r))}function b1e(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j1e(e)}function j1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C8=function(){return!!e})()}function gv(e){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gv(e)}function N1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}function MN(e,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MN(e,t)}function kT(e,t,r){return t=D8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D8(e){var t=S1e(e,"string");return bf(t)=="symbol"?t:t+""}function S1e(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _1e(e){return e.dataKey}function T1e(e,t){return se.isValidElement(e)?se.cloneElement(e,t):typeof e=="function"?se.createElement(e,t):se.createElement(e1e,t)}var so=function(e){function t(){return x1e(this,t),w1e(this,t,arguments)}return N1e(t,e),y1e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,x=a.payload,p=a.payloadUniqBy,v=a.position,b=a.reverseDirection,g=a.useTranslate3d,w=a.viewBox,y=a.wrapperStyle,j=x??[];f&&j.length&&(j=y8(x.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),p,_1e));var N=j.length>0;return se.createElement(p1e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:b,useTranslate3d:g,viewBox:w,wrapperStyle:y},T1e(u,Bk(Bk({},this.props),{},{payload:j})))}}])}(T.PureComponent);kT(so,"displayName","Tooltip");kT(so,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var E1e=Yi,A1e=function(){return E1e.Date.now()},C1e=A1e,D1e=/\s/;function k1e(e){for(var t=e.length;t--&&D1e.test(e.charAt(t)););return t}var O1e=k1e,P1e=O1e,I1e=/^\s+/;function M1e(e){return e&&e.slice(0,P1e(e)+1).replace(I1e,"")}var R1e=M1e,F1e=R1e,Uk=cc,L1e=th,Wk=NaN,$1e=/^[-+]0x[0-9a-f]+$/i,B1e=/^0b[01]+$/i,U1e=/^0o[0-7]+$/i,W1e=parseInt;function V1e(e){if(typeof e=="number")return e;if(L1e(e))return Wk;if(Uk(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Uk(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=F1e(e);var r=B1e.test(e);return r||U1e.test(e)?W1e(e.slice(2),r?2:8):$1e.test(e)?Wk:+e}var k8=V1e,H1e=cc,cb=C1e,Vk=k8,z1e="Expected a function",q1e=Math.max,K1e=Math.min;function G1e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(z1e);t=Vk(t)||0,H1e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?q1e(Vk(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(N){var E=n,S=a;return n=a=void 0,u=N,o=e.apply(S,E),o}function x(N){return u=N,l=setTimeout(b,t),d?m(N):o}function p(N){var E=N-c,S=N-u,_=t-E;return f?K1e(_,i-S):_}function v(N){var E=N-c,S=N-u;return c===void 0||E>=t||E<0||f&&S>=i}function b(){var N=cb();if(v(N))return g(N);l=setTimeout(b,p(N))}function g(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function y(){return l===void 0?o:g(cb())}function j(){var N=cb(),E=v(N);if(n=arguments,a=this,c=N,E){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=y,j}var Y1e=G1e,X1e=Y1e,Q1e=cc,Z1e="Expected a function";function J1e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Z1e);return Q1e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),X1e(e,t,{leading:n,maxWait:t,trailing:a})}var ewe=J1e;const O8=yr(ewe);function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){twe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function twe(e,t,r){return t=rwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rwe(e){var t=nwe(e,"string");return dp(t)=="symbol"?t:t+""}function nwe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function awe(e,t){return lwe(e)||owe(e,t)||iwe(e,t)||swe()}function swe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iwe(e,t){if(e){if(typeof e=="string")return zk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(e,t)}}function zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function owe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lwe(e){if(Array.isArray(e))return e}var cwe=T.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,p=x===void 0?0:x,v=e.id,b=e.className,g=e.onResize,w=e.style,y=w===void 0?{}:w,j=T.useRef(null),N=T.useRef();N.current=g,T.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var E=T.useState({containerWidth:a.width,containerHeight:a.height}),S=awe(E,2),_=S[0],D=S[1],F=T.useCallback(function(L,k){D(function(P){var I=Math.round(L),M=Math.round(k);return P.containerWidth===I&&P.containerHeight===M?P:{containerWidth:I,containerHeight:M}})},[]);T.useEffect(function(){var L=function(R){var z,J=R[0].contentRect,U=J.width,q=J.height;F(U,q),(z=N.current)===null||z===void 0||z.call(N,U,q)};p>0&&(L=O8(L,p,{trailing:!0,leading:!1}));var k=new ResizeObserver(L),P=j.current.getBoundingClientRect(),I=P.width,M=P.height;return F(I,M),k.observe(j.current),function(){k.disconnect()}},[F,p]);var O=T.useMemo(function(){var L=_.containerWidth,k=_.containerHeight;if(L<0||k<0)return null;_o(Pc(o)||Pc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),_o(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=Pc(o)?L:o,I=Pc(c)?k:c;r&&r>0&&(P?I=P/r:I&&(P=I*r),h&&I>h&&(I=h)),_o(P>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,I,o,c,d,f,r);var M=!Array.isArray(m)&&So(m.type).endsWith("Chart");return se.Children.map(m,function(C){return se.isValidElement(C)?T.cloneElement(C,gg({width:P,height:I},M?{style:gg({height:"100%",width:"100%",maxHeight:I,maxWidth:P},C.props.style)}:{})):C})},[r,m,c,h,f,d,_,o]);return se.createElement("div",{id:v?"".concat(v):void 0,className:Zt("recharts-responsive-container",b),style:gg(gg({},y),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},O)}),P8=function(t){return null};P8.displayName="Cell";function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){uwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uwe(e,t,r){return t=dwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dwe(e){var t=fwe(e,"string");return fp(t)=="symbol"?t:t+""}function fwe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qu={widthCache:{},cacheCount:0},hwe=2e3,mwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kk="recharts_measurement_span";function pwe(e){var t=RN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var mm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rl.isSsr)return{width:0,height:0};var n=pwe(r),a=JSON.stringify({text:t,copyStyle:n});if(Qu.widthCache[a])return Qu.widthCache[a];try{var i=document.getElementById(Kk);i||(i=document.createElement("span"),i.setAttribute("id",Kk),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=RN(RN({},mwe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Qu.widthCache[a]=c,++Qu.cacheCount>hwe&&(Qu.cacheCount=0,Qu.widthCache={}),c}catch{return{width:0,height:0}}},gwe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function xv(e,t){return wwe(e)||ywe(e,t)||vwe(e,t)||xwe()}function xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwe(e,t){if(e){if(typeof e=="string")return Gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(e,t)}}function Gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ywe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wwe(e){if(Array.isArray(e))return e}function bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nwe(n.key),n)}}function jwe(e,t,r){return t&&Yk(e.prototype,t),r&&Yk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nwe(e){var t=Swe(e,"string");return hp(t)=="symbol"?t:t+""}function Swe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_we=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Twe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,I8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ewe=Object.keys(I8),gd="NaN";function Awe(e,t){return e*I8[t]}var xg=function(){function e(t,r){bwe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!_we.test(r)&&(this.num=NaN,this.unit=""),Ewe.includes(r)&&(this.num=Awe(t,r),this.unit="px")}return jwe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Twe.exec(r))!==null&&n!==void 0?n:[],i=xv(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function M8(e){if(e.includes(gd))return gd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=Xk.exec(t))!==null&&r!==void 0?r:[],a=xv(n,4),i=a[1],o=a[2],l=a[3],c=xg.parse(i??""),u=xg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return gd;t=t.replace(Xk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Qk.exec(t))!==null&&f!==void 0?f:[],m=xv(h,4),x=m[1],p=m[2],v=m[3],b=xg.parse(x??""),g=xg.parse(v??""),w=p==="+"?b.add(g):b.subtract(g);if(w.isNaN())return gd;t=t.replace(Qk,w.toString())}return t}var Zk=/\(([^()]*)\)/;function Cwe(e){for(var t=e;t.includes("(");){var r=Zk.exec(t),n=xv(r,2),a=n[1];t=t.replace(Zk,M8(a))}return t}function Dwe(e){var t=e.replace(/\s+/g,"");return t=Cwe(t),t=M8(t),t}function kwe(e){try{return Dwe(e)}catch{return gd}}function ub(e){var t=kwe(e.slice(5,-1));return t===gd?"":t}var Owe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pwe=["dx","dy","angle","className","breakAll"];function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FN.apply(this,arguments)}function Jk(e,t){if(e==null)return{};var r=Iwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Iwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eO(e,t){return Lwe(e)||Fwe(e,t)||Rwe(e,t)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(e,t){if(e){if(typeof e=="string")return tO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(e,t)}}function tO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Lwe(e){if(Array.isArray(e))return e}var R8=/[ \f\n\r\t\v\u2028\u2029]+/,F8=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];sr(r)||(n?i=r.toString().split(""):i=r.toString().split(R8));var o=i.map(function(c){return{word:c,width:mm(c,a).width}}),l=n?0:mm(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$we=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Xe(o),f=l,h=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce(function(I,M){var C=M.word,R=M.width,z=I[I.length-1];if(z&&(a==null||i||z.width+R+n<Number(a)))z.words.push(C),z.width+=R+n;else{var J={words:[C],width:R};I.push(J)}return I},[])},m=h(r),x=function(P){return P.reduce(function(I,M){return I.width>M.width?I:M})};if(!d)return m;for(var p="…",v=function(P){var I=f.slice(0,P),M=F8({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,C=h(M),R=C.length>o||x(C).width>Number(a);return[R,C]},b=0,g=f.length-1,w=0,y;b<=g&&w<=f.length-1;){var j=Math.floor((b+g)/2),N=j-1,E=v(N),S=eO(E,2),_=S[0],D=S[1],F=v(j),O=eO(F,1),L=O[0];if(!_&&!L&&(b=j+1),_&&L&&(g=j-1),!_&&L){y=D;break}w++}return y||m},rO=function(t){var r=sr(t)?[]:t.toString().split(R8);return[{words:r}]},Bwe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Rl.isSsr){var c,u,d=F8({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return rO(a);return $we({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return rO(a)},nO="#808080",vv=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,p=x===void 0?"end":x,v=t.fill,b=v===void 0?nO:v,g=Jk(t,Owe),w=T.useMemo(function(){return Bwe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),y=g.dx,j=g.dy,N=g.angle,E=g.className,S=g.breakAll,_=Jk(g,Pwe);if(!cn(n)||!cn(i))return null;var D=n+(Xe(y)?y:0),F=i+(Xe(j)?j:0),O;switch(p){case"start":O=ub("calc(".concat(u,")"));break;case"middle":O=ub("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=ub("calc(".concat(w.length-1," * -").concat(l,")"));break}var L=[];if(f){var k=w[0].width,P=g.width;L.push("scale(".concat((Xe(P)?P/k:1)/k,")"))}return N&&L.push("rotate(".concat(N,", ").concat(D,", ").concat(F,")")),L.length&&(_.transform=L.join(" ")),se.createElement("text",FN({},tr(_,!0),{x:D,y:F,className:Zt("recharts-text",E),textAnchor:m,fill:b.includes("url")?nO:b}),w.map(function(I,M){var C=I.words.join(S?"":" ");return se.createElement("tspan",{x:D,dy:M===0?O:l,key:"".concat(C,"-").concat(M)},C)}))};function Fl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OT(e){let t,r,n;e.length!==2?(t=Fl,r=(l,c)=>Fl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Fl||e===Uwe?e:Wwe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Wwe(){return 0}function L8(e){return e===null?NaN:+e}function*Vwe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Hwe=OT(Fl),S0=Hwe.right;OT(L8).center;class aO extends Map{constructor(t,r=Kwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(sO(this,t))}has(t){return super.has(sO(this,t))}set(t,r){return super.set(zwe(this,t),r)}delete(t){return super.delete(qwe(this,t))}}function sO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function zwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Kwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Gwe(e=Fl){if(e===Fl)return $8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ywe=Math.sqrt(50),Xwe=Math.sqrt(10),Qwe=Math.sqrt(2);function yv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Ywe?10:i>=Xwe?5:i>=Qwe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?yv(e,t,r*2):[l,c,u]}function LN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?yv(t,e,r):yv(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function $N(e,t,r){return t=+t,e=+e,r=+r,yv(e,t,r)[2]}function BN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?$N(t,e,r):$N(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function iO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function oO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function B8(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?$8:Gwe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),x=Math.min(n,Math.floor(t+(c-u)*f/c+h));B8(e,t,m,x,a)}const i=e[t];let o=r,l=n;for(kh(e,r,t),a(e[n],i)>0&&kh(e,r,n);o<l;){for(kh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?kh(e,r,l):(++l,kh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function kh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Zwe(e,t,r){if(e=Float64Array.from(Vwe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return oO(e);if(t>=1)return iO(e);var n,a=(n-1)*t,i=Math.floor(a),o=iO(B8(e,i).subarray(0,i+1)),l=oO(e.subarray(i+1));return o+(l-o)*(a-i)}}function Jwe(e,t,r=L8){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function ebe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ps(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const UN=Symbol("implicit");function PT(){var e=new aO,t=[],r=[],n=UN;function a(i){let o=e.get(i);if(o===void 0){if(n!==UN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new aO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return PT(t,r).unknown(n)},Ps.apply(a,arguments),a}function mp(){var e=PT().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,x=m?a:n,p=m?n:a;i=(p-x)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),x+=(p-x-i*(h-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=ebe(h).map(function(b){return x+i*b});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return mp(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ps.apply(f(),arguments)}function U8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return U8(t())},e}function pm(){return U8(mp.apply(null,arguments).paddingInner(1))}function IT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function W8(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function _0(){}var pp=.7,wv=1/pp,Fd="\\s*([+-]?\\d+)\\s*",gp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tbe=/^#([0-9a-f]{3,8})$/,rbe=new RegExp(`^rgb\\(${Fd},${Fd},${Fd}\\)$`),nbe=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),abe=new RegExp(`^rgba\\(${Fd},${Fd},${Fd},${gp}\\)$`),sbe=new RegExp(`^rgba\\(${Li},${Li},${Li},${gp}\\)$`),ibe=new RegExp(`^hsl\\(${gp},${Li},${Li}\\)$`),obe=new RegExp(`^hsla\\(${gp},${Li},${Li},${gp}\\)$`),lO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IT(_0,xp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cO,formatHex:cO,formatHex8:lbe,formatHsl:cbe,formatRgb:uO,toString:uO});function cO(){return this.rgb().formatHex()}function lbe(){return this.rgb().formatHex8()}function cbe(){return V8(this).formatHsl()}function uO(){return this.rgb().formatRgb()}function xp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?dO(t):r===3?new Ca(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rbe.exec(e))?new Ca(t[1],t[2],t[3],1):(t=nbe.exec(e))?new Ca(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=abe.exec(e))?vg(t[1],t[2],t[3],t[4]):(t=sbe.exec(e))?vg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ibe.exec(e))?mO(t[1],t[2]/100,t[3]/100,1):(t=obe.exec(e))?mO(t[1],t[2]/100,t[3]/100,t[4]):lO.hasOwnProperty(e)?dO(lO[e]):e==="transparent"?new Ca(NaN,NaN,NaN,0):null}function dO(e){return new Ca(e>>16&255,e>>8&255,e&255,1)}function vg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ca(e,t,r,n)}function ube(e){return e instanceof _0||(e=xp(e)),e?(e=e.rgb(),new Ca(e.r,e.g,e.b,e.opacity)):new Ca}function WN(e,t,r,n){return arguments.length===1?ube(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}IT(Ca,WN,W8(_0,{brighter(e){return e=e==null?wv:Math.pow(wv,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pp:Math.pow(pp,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ca(Gc(this.r),Gc(this.g),Gc(this.b),bv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fO,formatHex:fO,formatHex8:dbe,formatRgb:hO,toString:hO}));function fO(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}`}function dbe(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}${Ic((isNaN(this.opacity)?1:this.opacity)*255)}`}function hO(){const e=bv(this.opacity);return`${e===1?"rgb(":"rgba("}${Gc(this.r)}, ${Gc(this.g)}, ${Gc(this.b)}${e===1?")":`, ${e})`}`}function bv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ic(e){return e=Gc(e),(e<16?"0":"")+e.toString(16)}function mO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Js(e,t,r,n)}function V8(e){if(e instanceof Js)return new Js(e.h,e.s,e.l,e.opacity);if(e instanceof _0||(e=xp(e)),!e)return new Js;if(e instanceof Js)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Js(o,l,c,e.opacity)}function fbe(e,t,r,n){return arguments.length===1?V8(e):new Js(e,t,r,n??1)}function Js(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}IT(Js,fbe,W8(_0,{brighter(e){return e=e==null?wv:Math.pow(wv,e),new Js(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pp:Math.pow(pp,e),new Js(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ca(db(e>=240?e-240:e+120,a,n),db(e,a,n),db(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Js(pO(this.h),yg(this.s),yg(this.l),bv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bv(this.opacity);return`${e===1?"hsl(":"hsla("}${pO(this.h)}, ${yg(this.s)*100}%, ${yg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pO(e){return e=(e||0)%360,e<0?e+360:e}function yg(e){return Math.max(0,Math.min(1,e||0))}function db(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const MT=e=>()=>e;function hbe(e,t){return function(r){return e+r*t}}function mbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pbe(e){return(e=+e)==1?H8:function(t,r){return r-t?mbe(t,r,e):MT(isNaN(t)?r:t)}}function H8(e,t){var r=t-e;return r?hbe(e,r):MT(isNaN(e)?t:e)}const gO=function e(t){var r=pbe(t);function n(a,i){var o=r((a=WN(a)).r,(i=WN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=H8(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function gbe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function xbe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vbe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ch(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function ybe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function jv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function wbe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ch(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var VN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fb=new RegExp(VN.source,"g");function bbe(e){return function(){return e}}function jbe(e){return function(t){return e(t)+""}}function Nbe(e,t){var r=VN.lastIndex=fb.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=VN.exec(e))&&(a=fb.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:jv(n,a)})),r=fb.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jbe(c[0].x):bbe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ch(e,t){var r=typeof t,n;return t==null||r==="boolean"?MT(t):(r==="number"?jv:r==="string"?(n=xp(t))?(t=n,gO):Nbe:t instanceof xp?gO:t instanceof Date?ybe:xbe(t)?gbe:Array.isArray(t)?vbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wbe:jv)(e,t)}function RT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Sbe(e,t){t===void 0&&(t=e,e=ch);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function _be(e){return function(){return e}}function Nv(e){return+e}var xO=[0,1];function ga(e){return e}function HN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_be(isNaN(t)?NaN:.5)}function Tbe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ebe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=HN(a,n),i=r(o,i)):(n=HN(n,a),i=r(i,o)),function(l){return i(n(l))}}function Abe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=HN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=S0(e,l,1,n)-1;return i[c](a[c](l))}}function T0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function N1(){var e=xO,t=xO,r=ch,n,a,i,o=ga,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==ga&&(o=Tbe(e[0],e[h-1])),l=h>2?Abe:Ebe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),jv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Nv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=RT,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ga,d()):o!==ga},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function FT(){return N1()(ga,ga)}function Cbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function jf(e){return e=Sv(Math.abs(e)),e?e[1]:NaN}function Dbe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kbe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Obe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vp(e){if(!(t=Obe.exec(e)))throw new Error("invalid format: "+e);var t;return new LT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vp.prototype=LT.prototype;function LT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}LT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pbe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var z8;function Ibe(e,t){var r=Sv(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(z8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Sv(e,Math.max(0,t+i-1))[0]}function vO(e,t){var r=Sv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const yO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Cbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vO(e*100,t),r:vO,s:Ibe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wO(e){return e}var bO=Array.prototype.map,jO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Mbe(e){var t=e.grouping===void 0||e.thousands===void 0?wO:Dbe(bO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?wO:kbe(bO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=vp(f);var h=f.fill,m=f.align,x=f.sign,p=f.symbol,v=f.zero,b=f.width,g=f.comma,w=f.precision,y=f.trim,j=f.type;j==="n"?(g=!0,j="g"):yO[j]||(w===void 0&&(w=12),y=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",E=p==="$"?n:/[%p]/.test(j)?o:"",S=yO[j],_=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(F){var O=N,L=E,k,P,I;if(j==="c")L=S(F)+L,F="";else{F=+F;var M=F<0||1/F<0;if(F=isNaN(F)?c:S(Math.abs(F),w),y&&(F=Pbe(F)),M&&+F==0&&x!=="+"&&(M=!1),O=(M?x==="("?x:l:x==="-"||x==="("?"":x)+O,L=(j==="s"?jO[8+z8/3]:"")+L+(M&&x==="("?")":""),_){for(k=-1,P=F.length;++k<P;)if(I=F.charCodeAt(k),48>I||I>57){L=(I===46?a+F.slice(k+1):F.slice(k))+L,F=F.slice(0,k);break}}}g&&!v&&(F=t(F,1/0));var C=O.length+F.length+L.length,R=C<b?new Array(b-C+1).join(h):"";switch(g&&v&&(F=t(R+F,R.length?b-L.length:1/0),R=""),m){case"<":F=O+F+L+R;break;case"=":F=O+R+F+L;break;case"^":F=R.slice(0,C=R.length>>1)+O+F+L+R.slice(C);break;default:F=R+O+F+L;break}return i(F)}return D.toString=function(){return f+""},D}function d(f,h){var m=u((f=vp(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(jf(h)/3)))*3,p=Math.pow(10,-x),v=jO[8+x/3];return function(b){return m(p*b)+v}}return{format:u,formatPrefix:d}}var wg,$T,q8;Rbe({thousands:",",grouping:[3],currency:["$",""]});function Rbe(e){return wg=Mbe(e),$T=wg.format,q8=wg.formatPrefix,wg}function Fbe(e){return Math.max(0,-jf(Math.abs(e)))}function Lbe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jf(t)/3)))*3-jf(Math.abs(e)))}function $be(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jf(t)-jf(e))+1}function K8(e,t,r,n){var a=BN(e,t,r),i;switch(n=vp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Lbe(a,o))&&(n.precision=i),q8(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=$be(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Fbe(a))&&(n.precision=i-(n.type==="%")*2);break}}return $T(n)}function dc(e){var t=e.domain;return e.ticks=function(r){var n=t();return LN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return K8(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=$N(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _v(){var e=FT();return e.copy=function(){return T0(e,_v())},Ps.apply(e,arguments),dc(e)}function G8(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Nv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return G8(e).unknown(t)},e=arguments.length?Array.from(e,Nv):[0,1],dc(r)}function Y8(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function NO(e){return Math.log(e)}function SO(e){return Math.exp(e)}function Bbe(e){return-Math.log(-e)}function Ube(e){return-Math.exp(-e)}function Wbe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vbe(e){return e===10?Wbe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Hbe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _O(e){return(t,r)=>-e(-t,r)}function BT(e){const t=e(NO,SO),r=t.domain;let n=10,a,i;function o(){return a=Hbe(n),i=Vbe(n),r()[0]<0?(a=_O(a),i=_O(i),e(Bbe,Ube)):e(NO,SO),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),x,p;const v=l==null?10:+l;let b=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(p=h<0?x/i(-h):x*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(p=h>0?x/i(-h):x*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<v&&(b=LN(u,d,v))}else b=LN(h,m,Math.min(m-h,v)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=vp(c)).precision==null&&(c.trim=!0),c=$T(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Y8(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function X8(){const e=BT(N1()).domain([1,10]);return e.copy=()=>T0(e,X8()).base(e.base()),Ps.apply(e,arguments),e}function TO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function EO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UT(e){var t=1,r=e(TO(t),EO(t));return r.constant=function(n){return arguments.length?e(TO(t=+n),EO(t)):t},dc(r)}function Q8(){var e=UT(N1());return e.copy=function(){return T0(e,Q8()).constant(e.constant())},Ps.apply(e,arguments)}function AO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zbe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qbe(e){return e<0?-e*e:e*e}function WT(e){var t=e(ga,ga),r=1;function n(){return r===1?e(ga,ga):r===.5?e(zbe,qbe):e(AO(r),AO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},dc(t)}function VT(){var e=WT(N1());return e.copy=function(){return T0(e,VT()).exponent(e.exponent())},Ps.apply(e,arguments),e}function Kbe(){return VT.apply(null,arguments).exponent(.5)}function CO(e){return Math.sign(e)*e*e}function Gbe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Z8(){var e=FT(),t=[0,1],r=!1,n;function a(i){var o=Gbe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(CO(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Nv)).map(CO)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Z8(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ps.apply(a,arguments),dc(a)}function J8(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Jwe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[S0(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Fl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return J8().domain(e).range(t).unknown(n)},Ps.apply(i,arguments)}function eB(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[S0(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return eB().domain([e,t]).range(a).unknown(i)},Ps.apply(dc(o),arguments)}function tB(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[S0(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return tB().domain(e).range(t).unknown(r)},Ps.apply(a,arguments)}const hb=new Date,mb=new Date;function fn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>fn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(hb.setTime(+i),mb.setTime(+o),e(hb),e(mb),Math.floor(r(hb,mb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Tv=fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Tv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Tv);Tv.range;const go=1e3,js=go*60,xo=js*60,Lo=xo*24,HT=Lo*7,DO=Lo*30,pb=Lo*365,Mc=fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*go)},(e,t)=>(t-e)/go,e=>e.getUTCSeconds());Mc.range;const zT=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*go)},(e,t)=>{e.setTime(+e+t*js)},(e,t)=>(t-e)/js,e=>e.getMinutes());zT.range;const qT=fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*js)},(e,t)=>(t-e)/js,e=>e.getUTCMinutes());qT.range;const KT=fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*go-e.getMinutes()*js)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getHours());KT.range;const GT=fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getUTCHours());GT.range;const E0=fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*js)/Lo,e=>e.getDate()-1);E0.range;const S1=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lo,e=>e.getUTCDate()-1);S1.range;const rB=fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Lo,e=>Math.floor(e/Lo));rB.range;function ku(e){return fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*js)/HT)}const _1=ku(0),Ev=ku(1),Ybe=ku(2),Xbe=ku(3),Nf=ku(4),Qbe=ku(5),Zbe=ku(6);_1.range;Ev.range;Ybe.range;Xbe.range;Nf.range;Qbe.range;Zbe.range;function Ou(e){return fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/HT)}const T1=Ou(0),Av=Ou(1),Jbe=Ou(2),eje=Ou(3),Sf=Ou(4),tje=Ou(5),rje=Ou(6);T1.range;Av.range;Jbe.range;eje.range;Sf.range;tje.range;rje.range;const YT=fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());YT.range;const XT=fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());XT.range;const $o=fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$o.range;const Bo=fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bo.range;function nB(e,t,r,n,a,i){const o=[[Mc,1,go],[Mc,5,5*go],[Mc,15,15*go],[Mc,30,30*go],[i,1,js],[i,5,5*js],[i,15,15*js],[i,30,30*js],[a,1,xo],[a,3,3*xo],[a,6,6*xo],[a,12,12*xo],[n,1,Lo],[n,2,2*Lo],[r,1,HT],[t,1,DO],[t,3,3*DO],[e,1,pb]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),x=m?m.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,m=OT(([,,v])=>v).right(o,h);if(m===o.length)return e.every(BN(u/pb,d/pb,f));if(m===0)return Tv.every(Math.max(BN(u,d,f),1));const[x,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(p)}return[l,c]}const[nje,aje]=nB(Bo,XT,T1,rB,GT,qT),[sje,ije]=nB($o,YT,_1,E0,KT,zT);function gb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Oh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oje(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ph(a),d=Ih(a),f=Ph(i),h=Ih(i),m=Ph(o),x=Ih(o),p=Ph(l),v=Ih(l),b=Ph(c),g=Ih(c),w={a:M,A:C,b:R,B:z,c:null,d:RO,e:RO,f:Dje,g:Bje,G:Wje,H:Eje,I:Aje,j:Cje,L:aB,m:kje,M:Oje,p:J,q:U,Q:$O,s:BO,S:Pje,u:Ije,U:Mje,V:Rje,w:Fje,W:Lje,x:null,X:null,y:$je,Y:Uje,Z:Vje,"%":LO},y={a:q,A:Y,b:Q,B:Z,c:null,d:FO,e:FO,f:Kje,g:nNe,G:sNe,H:Hje,I:zje,j:qje,L:iB,m:Gje,M:Yje,p:ue,q:he,Q:$O,s:BO,S:Xje,u:Qje,U:Zje,V:Jje,w:eNe,W:tNe,x:null,X:null,y:rNe,Y:aNe,Z:iNe,"%":LO},j={a:D,A:F,b:O,B:L,c:k,d:IO,e:IO,f:Nje,g:PO,G:OO,H:MO,I:MO,j:yje,L:jje,m:vje,M:wje,p:_,q:xje,Q:_je,s:Tje,S:bje,u:fje,U:hje,V:mje,w:dje,W:pje,x:P,X:I,y:PO,Y:OO,Z:gje,"%":Sje};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),y.x=N(r,y),y.X=N(n,y),y.c=N(t,y);function N(G,re){return function(de){var ne=[],Ee=-1,Ce=0,De=G.length,Pe,ce,$e;for(de instanceof Date||(de=new Date(+de));++Ee<De;)G.charCodeAt(Ee)===37&&(ne.push(G.slice(Ce,Ee)),(ce=kO[Pe=G.charAt(++Ee)])!=null?Pe=G.charAt(++Ee):ce=Pe==="e"?" ":"0",($e=re[Pe])&&(Pe=$e(de,ce)),ne.push(Pe),Ce=Ee+1);return ne.push(G.slice(Ce,Ee)),ne.join("")}}function E(G,re){return function(de){var ne=Oh(1900,void 0,1),Ee=S(ne,G,de+="",0),Ce,De;if(Ee!=de.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(re&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ce=xb(Oh(ne.y,0,1)),De=Ce.getUTCDay(),Ce=De>4||De===0?Av.ceil(Ce):Av(Ce),Ce=S1.offset(Ce,(ne.V-1)*7),ne.y=Ce.getUTCFullYear(),ne.m=Ce.getUTCMonth(),ne.d=Ce.getUTCDate()+(ne.w+6)%7):(Ce=gb(Oh(ne.y,0,1)),De=Ce.getDay(),Ce=De>4||De===0?Ev.ceil(Ce):Ev(Ce),Ce=E0.offset(Ce,(ne.V-1)*7),ne.y=Ce.getFullYear(),ne.m=Ce.getMonth(),ne.d=Ce.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),De="Z"in ne?xb(Oh(ne.y,0,1)).getUTCDay():gb(Oh(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(De+5)%7:ne.w+ne.U*7-(De+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,xb(ne)):gb(ne)}}function S(G,re,de,ne){for(var Ee=0,Ce=re.length,De=de.length,Pe,ce;Ee<Ce;){if(ne>=De)return-1;if(Pe=re.charCodeAt(Ee++),Pe===37){if(Pe=re.charAt(Ee++),ce=j[Pe in kO?re.charAt(Ee++):Pe],!ce||(ne=ce(G,de,ne))<0)return-1}else if(Pe!=de.charCodeAt(ne++))return-1}return ne}function _(G,re,de){var ne=u.exec(re.slice(de));return ne?(G.p=d.get(ne[0].toLowerCase()),de+ne[0].length):-1}function D(G,re,de){var ne=m.exec(re.slice(de));return ne?(G.w=x.get(ne[0].toLowerCase()),de+ne[0].length):-1}function F(G,re,de){var ne=f.exec(re.slice(de));return ne?(G.w=h.get(ne[0].toLowerCase()),de+ne[0].length):-1}function O(G,re,de){var ne=b.exec(re.slice(de));return ne?(G.m=g.get(ne[0].toLowerCase()),de+ne[0].length):-1}function L(G,re,de){var ne=p.exec(re.slice(de));return ne?(G.m=v.get(ne[0].toLowerCase()),de+ne[0].length):-1}function k(G,re,de){return S(G,t,re,de)}function P(G,re,de){return S(G,r,re,de)}function I(G,re,de){return S(G,n,re,de)}function M(G){return o[G.getDay()]}function C(G){return i[G.getDay()]}function R(G){return c[G.getMonth()]}function z(G){return l[G.getMonth()]}function J(G){return a[+(G.getHours()>=12)]}function U(G){return 1+~~(G.getMonth()/3)}function q(G){return o[G.getUTCDay()]}function Y(G){return i[G.getUTCDay()]}function Q(G){return c[G.getUTCMonth()]}function Z(G){return l[G.getUTCMonth()]}function ue(G){return a[+(G.getUTCHours()>=12)]}function he(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var re=N(G+="",w);return re.toString=function(){return G},re},parse:function(G){var re=E(G+="",!1);return re.toString=function(){return G},re},utcFormat:function(G){var re=N(G+="",y);return re.toString=function(){return G},re},utcParse:function(G){var re=E(G+="",!0);return re.toString=function(){return G},re}}}var kO={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,lje=/^%/,cje=/[\\^$*+?|[\]().{}]/g;function Jt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function uje(e){return e.replace(cje,"\\$&")}function Ph(e){return new RegExp("^(?:"+e.map(uje).join("|")+")","i")}function Ih(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function dje(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function fje(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hje(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function mje(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pje(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function OO(e,t,r){var n=_n.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function PO(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function xje(e,t,r){var n=_n.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function vje(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function IO(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function yje(e,t,r){var n=_n.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function MO(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function wje(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function bje(e,t,r){var n=_n.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jje(e,t,r){var n=_n.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Nje(e,t,r){var n=_n.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Sje(e,t,r){var n=lje.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _je(e,t,r){var n=_n.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Tje(e,t,r){var n=_n.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function RO(e,t){return Jt(e.getDate(),t,2)}function Eje(e,t){return Jt(e.getHours(),t,2)}function Aje(e,t){return Jt(e.getHours()%12||12,t,2)}function Cje(e,t){return Jt(1+E0.count($o(e),e),t,3)}function aB(e,t){return Jt(e.getMilliseconds(),t,3)}function Dje(e,t){return aB(e,t)+"000"}function kje(e,t){return Jt(e.getMonth()+1,t,2)}function Oje(e,t){return Jt(e.getMinutes(),t,2)}function Pje(e,t){return Jt(e.getSeconds(),t,2)}function Ije(e){var t=e.getDay();return t===0?7:t}function Mje(e,t){return Jt(_1.count($o(e)-1,e),t,2)}function sB(e){var t=e.getDay();return t>=4||t===0?Nf(e):Nf.ceil(e)}function Rje(e,t){return e=sB(e),Jt(Nf.count($o(e),e)+($o(e).getDay()===4),t,2)}function Fje(e){return e.getDay()}function Lje(e,t){return Jt(Ev.count($o(e)-1,e),t,2)}function $je(e,t){return Jt(e.getFullYear()%100,t,2)}function Bje(e,t){return e=sB(e),Jt(e.getFullYear()%100,t,2)}function Uje(e,t){return Jt(e.getFullYear()%1e4,t,4)}function Wje(e,t){var r=e.getDay();return e=r>=4||r===0?Nf(e):Nf.ceil(e),Jt(e.getFullYear()%1e4,t,4)}function Vje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jt(t/60|0,"0",2)+Jt(t%60,"0",2)}function FO(e,t){return Jt(e.getUTCDate(),t,2)}function Hje(e,t){return Jt(e.getUTCHours(),t,2)}function zje(e,t){return Jt(e.getUTCHours()%12||12,t,2)}function qje(e,t){return Jt(1+S1.count(Bo(e),e),t,3)}function iB(e,t){return Jt(e.getUTCMilliseconds(),t,3)}function Kje(e,t){return iB(e,t)+"000"}function Gje(e,t){return Jt(e.getUTCMonth()+1,t,2)}function Yje(e,t){return Jt(e.getUTCMinutes(),t,2)}function Xje(e,t){return Jt(e.getUTCSeconds(),t,2)}function Qje(e){var t=e.getUTCDay();return t===0?7:t}function Zje(e,t){return Jt(T1.count(Bo(e)-1,e),t,2)}function oB(e){var t=e.getUTCDay();return t>=4||t===0?Sf(e):Sf.ceil(e)}function Jje(e,t){return e=oB(e),Jt(Sf.count(Bo(e),e)+(Bo(e).getUTCDay()===4),t,2)}function eNe(e){return e.getUTCDay()}function tNe(e,t){return Jt(Av.count(Bo(e)-1,e),t,2)}function rNe(e,t){return Jt(e.getUTCFullYear()%100,t,2)}function nNe(e,t){return e=oB(e),Jt(e.getUTCFullYear()%100,t,2)}function aNe(e,t){return Jt(e.getUTCFullYear()%1e4,t,4)}function sNe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sf(e):Sf.ceil(e),Jt(e.getUTCFullYear()%1e4,t,4)}function iNe(){return"+0000"}function LO(){return"%"}function $O(e){return+e}function BO(e){return Math.floor(+e/1e3)}var Zu,lB,cB;oNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oNe(e){return Zu=oje(e),lB=Zu.format,Zu.parse,cB=Zu.utcFormat,Zu.utcParse,Zu}function lNe(e){return new Date(e)}function cNe(e){return e instanceof Date?+e:+new Date(+e)}function QT(e,t,r,n,a,i,o,l,c,u){var d=FT(),f=d.invert,h=d.domain,m=u(".%L"),x=u(":%S"),p=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),g=u("%b %d"),w=u("%B"),y=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?x:o(N)<N?p:i(N)<N?v:n(N)<N?a(N)<N?b:g:r(N)<N?w:y)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,cNe)):h().map(lNe)},d.ticks=function(N){var E=h();return e(E[0],E[E.length-1],N??10)},d.tickFormat=function(N,E){return E==null?j:u(E)},d.nice=function(N){var E=h();return(!N||typeof N.range!="function")&&(N=t(E[0],E[E.length-1],N??10)),N?h(Y8(E,N)):d},d.copy=function(){return T0(d,QT(e,t,r,n,a,i,o,l,c,u))},d}function uNe(){return Ps.apply(QT(sje,ije,$o,YT,_1,E0,KT,zT,Mc,lB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dNe(){return Ps.apply(QT(nje,aje,Bo,XT,T1,S1,GT,qT,Mc,cB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function E1(){var e=0,t=1,r,n,a,i,o=ga,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,x;return arguments.length?([m,x]=h,o=f(m,x),u):[o(0),o(1)]}}return u.range=d(ch),u.rangeRound=d(RT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function fc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uB(){var e=dc(E1()(ga));return e.copy=function(){return fc(e,uB())},zo.apply(e,arguments)}function dB(){var e=BT(E1()).domain([1,10]);return e.copy=function(){return fc(e,dB()).base(e.base())},zo.apply(e,arguments)}function fB(){var e=UT(E1());return e.copy=function(){return fc(e,fB()).constant(e.constant())},zo.apply(e,arguments)}function ZT(){var e=WT(E1());return e.copy=function(){return fc(e,ZT()).exponent(e.exponent())},zo.apply(e,arguments)}function fNe(){return ZT.apply(null,arguments).exponent(.5)}function hB(){var e=[],t=ga;function r(n){if(n!=null&&!isNaN(n=+n))return t((S0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Zwe(e,i/n))},r.copy=function(){return hB(t).domain(e)},zo.apply(r,arguments)}function A1(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=ga,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function x(p){return function(v){var b,g,w;return arguments.length?([b,g,w]=v,u=Sbe(p,[b,g,w]),m):[u(0),u(.5),u(1)]}}return m.range=x(ch),m.rangeRound=x(RT),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function mB(){var e=dc(A1()(ga));return e.copy=function(){return fc(e,mB())},zo.apply(e,arguments)}function pB(){var e=BT(A1()).domain([.1,1,10]);return e.copy=function(){return fc(e,pB()).base(e.base())},zo.apply(e,arguments)}function gB(){var e=UT(A1());return e.copy=function(){return fc(e,gB()).constant(e.constant())},zo.apply(e,arguments)}function JT(){var e=WT(A1());return e.copy=function(){return fc(e,JT()).exponent(e.exponent())},zo.apply(e,arguments)}function hNe(){return JT.apply(null,arguments).exponent(.5)}const UO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mp,scaleDiverging:mB,scaleDivergingLog:pB,scaleDivergingPow:JT,scaleDivergingSqrt:hNe,scaleDivergingSymlog:gB,scaleIdentity:G8,scaleImplicit:UN,scaleLinear:_v,scaleLog:X8,scaleOrdinal:PT,scalePoint:pm,scalePow:VT,scaleQuantile:J8,scaleQuantize:eB,scaleRadial:Z8,scaleSequential:uB,scaleSequentialLog:dB,scaleSequentialPow:ZT,scaleSequentialQuantile:hB,scaleSequentialSqrt:fNe,scaleSequentialSymlog:fB,scaleSqrt:Kbe,scaleSymlog:Q8,scaleThreshold:tB,scaleTime:uNe,scaleUtc:dNe,tickFormat:K8},Symbol.toStringTag,{value:"Module"}));var mNe=th;function pNe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!mNe(o):r(o,l)))var l=o,c=i}return c}var xB=pNe;function gNe(e,t){return e>t}var xNe=gNe,vNe=xB,yNe=xNe,wNe=lh;function bNe(e){return e&&e.length?vNe(e,wNe,yNe):void 0}var jNe=bNe;const C1=yr(jNe);function NNe(e,t){return e<t}var SNe=NNe,_Ne=xB,TNe=SNe,ENe=lh;function ANe(e){return e&&e.length?_Ne(e,ENe,TNe):void 0}var CNe=ANe;const D1=yr(CNe);var DNe=hT,kNe=uc,ONe=_8,PNe=Fa;function INe(e,t){var r=PNe(e)?DNe:ONe;return r(e,kNe(t))}var MNe=INe,RNe=N8,FNe=MNe;function LNe(e,t){return RNe(FNe(e,t),1)}var $Ne=LNe;const BNe=yr($Ne);var UNe=AT;function WNe(e,t){return UNe(e,t)}var VNe=WNe;const eE=yr(VNe);var uh=1e9,HNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rE,Or=!0,As="[DecimalError] ",Yc=As+"Invalid argument: ",tE=As+"Exponent out of range: ",dh=Math.floor,_c=Math.pow,zNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xa,mn=1e7,Ar=7,vB=9007199254740991,Cv=dh(vB/Ar),lt={};lt.absoluteValue=lt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lt.comparedTo=lt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ar;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};lt.dividedBy=lt.div=function(e){return To(this,new this.constructor(e))};lt.dividedToIntegerBy=lt.idiv=function(e){var t=this,r=t.constructor;return br(To(t,new r(e),0,1),r.precision)};lt.equals=lt.eq=function(e){return!this.cmp(e)};lt.exponent=function(){return en(this)};lt.greaterThan=lt.gt=function(e){return this.cmp(e)>0};lt.greaterThanOrEqualTo=lt.gte=function(e){return this.cmp(e)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(e){return this.cmp(e)<0};lt.lessThanOrEqualTo=lt.lte=function(e){return this.cmp(e)<1};lt.logarithm=lt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xa))throw Error(As+"NaN");if(r.s<1)throw Error(As+(r.s?"NaN":"-Infinity"));return r.eq(Xa)?new n(0):(Or=!1,t=To(yp(r,i),yp(e,i),i),Or=!0,br(t,a))};lt.minus=lt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bB(t,e):yB(t,(e.s=-e.s,e))};lt.modulo=lt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(As+"NaN");return r.s?(Or=!1,t=To(r,e,0,1).times(e),Or=!0,r.minus(t)):br(new n(r),a)};lt.naturalExponential=lt.exp=function(){return wB(this)};lt.naturalLogarithm=lt.ln=function(){return yp(this)};lt.negated=lt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lt.plus=lt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yB(t,e):bB(t,(e.s=-e.s,e))};lt.precision=lt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yc+e);if(t=en(a)+1,n=a.d.length-1,r=n*Ar+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};lt.squareRoot=lt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(As+"NaN")}for(e=en(l),Or=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Oi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=dh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(To(l,i,o+2)).times(.5),Oi(i.d).slice(0,o)===(t=Oi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(br(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Or=!0,br(n,r)};lt.times=lt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%mn|0,t=l/mn|0;i[a]=(i[a]+t)%mn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Or?br(e,f.precision):e};lt.toDecimalPlaces=lt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zi(e,0,uh),t===void 0?t=n.rounding:zi(t,0,8),br(r,e+en(r)+1,t))};lt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=gu(n,!0):(zi(e,0,uh),t===void 0?t=a.rounding:zi(t,0,8),n=br(new a(n),e+1,t),r=gu(n,!0,e+1)),r};lt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?gu(a):(zi(e,0,uh),t===void 0?t=i.rounding:zi(t,0,8),n=br(new i(a),e+en(a)+1,t),r=gu(n.abs(),!1,e+en(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};lt.toInteger=lt.toint=function(){var e=this,t=e.constructor;return br(new t(e),en(e)+1,t.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Xa);if(l=new c(l),!l.s){if(e.s<1)throw Error(As+"Infinity");return l}if(l.eq(Xa))return l;if(n=c.precision,e.eq(Xa))return br(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=vB){for(a=new c(Xa),t=Math.ceil(n/Ar+4),Or=!1;r%2&&(a=a.times(l),VO(a.d,t)),r=dh(r/2),r!==0;)l=l.times(l),VO(l.d,t);return Or=!0,e.s<0?new c(Xa).div(a):br(a,n)}}else if(i<0)throw Error(As+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Or=!1,a=e.times(yp(l,n+u)),Or=!0,a=wB(a),a.s=i,a};lt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=en(a),n=gu(a,r<=i.toExpNeg||r>=i.toExpPos)):(zi(e,1,uh),t===void 0?t=i.rounding:zi(t,0,8),a=br(new i(a),e,t),r=en(a),n=gu(a,e<=r||r<=i.toExpNeg,e)),n};lt.toSignificantDigits=lt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zi(e,1,uh),t===void 0?t=n.rounding:zi(t,0,8)),br(new n(r),e,t)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=en(e),r=e.constructor;return gu(e,t<=r.toExpNeg||t>=r.toExpPos)};function yB(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Or?br(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Ar),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/mn|0,c[i]%=mn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Or?br(t,f):t}function zi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yc+e)}function Oi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ar-n.length,r&&(i+=al(r)),i+=n;o=e[t],n=o+"",r=Ar-n.length,r&&(i+=al(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var To=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%mn|0,o=i/mn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*mn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,x,p,v,b,g,w,y,j,N,E,S,_=n.constructor,D=n.s==a.s?1:-1,F=n.d,O=a.d;if(!n.s)return new _(n);if(!a.s)throw Error(As+"Division by zero");for(c=n.e-a.e,E=O.length,j=F.length,m=new _(D),x=m.d=[],u=0;O[u]==(F[u]||0);)++u;if(O[u]>(F[u]||0)&&--c,i==null?g=i=_.precision:o?g=i+(en(n)-en(a))+1:g=i,g<0)return new _(0);if(g=g/Ar+2|0,u=0,E==1)for(d=0,O=O[0],g++;(u<j||d)&&g--;u++)w=d*mn+(F[u]||0),x[u]=w/O|0,d=w%O|0;else{for(d=mn/(O[0]+1)|0,d>1&&(O=e(O,d),F=e(F,d),E=O.length,j=F.length),y=E,p=F.slice(0,E),v=p.length;v<E;)p[v++]=0;S=O.slice(),S.unshift(0),N=O[0],O[1]>=mn/2&&++N;do d=0,l=t(O,p,E,v),l<0?(b=p[0],E!=v&&(b=b*mn+(p[1]||0)),d=b/N|0,d>1?(d>=mn&&(d=mn-1),f=e(O,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,E<h?S:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(O,p,E,v),l<1&&(d++,r(p,E<v?S:O,v))),v=p.length):l===0&&(d++,p=[0]),x[u++]=d,l&&p[0]?p[v++]=F[y]||0:(p=[F[y]],v=1);while((y++<j||p[0]!==void 0)&&g--)}return x[0]||x.shift(),m.e=c,br(m,o?i+en(m)+1:i)}}();function wB(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(en(e)>16)throw Error(tE+en(e));if(!e.s)return new d(Xa);for(t==null?(Or=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(_c(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Xa),d.precision=l;;){if(a=br(a.times(e),l),r=r.times(++c),o=i.plus(To(a,r,l)),Oi(o.d).slice(0,l)===Oi(i.d).slice(0,l)){for(;u--;)i=br(i.times(i),l);return d.precision=f,t==null?(Or=!0,br(i,f)):i}i=o}}function en(e){for(var t=e.e*Ar,r=e.d[0];r>=10;r/=10)t++;return t}function vb(e,t,r){if(t>e.LN10.sd())throw Or=!0,r&&(e.precision=r),Error(As+"LN10 precision limit exceeded");return br(new e(e.LN10),t)}function al(e){for(var t="";e--;)t+="0";return t}function yp(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,x=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(As+(m.s?"NaN":"-Infinity"));if(m.eq(Xa))return new p(0);if(t==null?(Or=!1,u=v):u=t,m.eq(10))return t==null&&(Or=!0),vb(p,u);if(u+=h,p.precision=u,r=Oi(x),n=r.charAt(0),i=en(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Oi(m.d),n=r.charAt(0),f++;i=en(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=vb(p,u+2,v).times(i+""),m=yp(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(Or=!0,br(m,v)):m;for(l=o=m=To(m.minus(Xa),m.plus(Xa),u),d=br(m.times(m),u),a=3;;){if(o=br(o.times(d),u),c=l.plus(To(o,new p(a),u)),Oi(c.d).slice(0,u)===Oi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(vb(p,u+2,v).times(i+""))),l=To(l,new p(f),u),p.precision=v,t==null?(Or=!0,br(l,v)):l;l=c,a+=2}}function WO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=dh(r/Ar),e.d=[],n=(r+1)%Ar,r<0&&(n+=Ar),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ar;n<a;)e.d.push(+t.slice(n,n+=Ar));t=t.slice(n),n=Ar-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Or&&(e.e>Cv||e.e<-Cv))throw Error(tE+r)}else e.s=0,e.e=0,e.d=[0];return e}function br(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ar,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ar),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ar,a=n-Ar+o}if(r!==void 0&&(i=_c(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/_c(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=en(e),f.length=1,t=t-i-1,f[0]=_c(10,(Ar-t%Ar)%Ar),e.e=dh(-t/Ar)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=_c(10,Ar-n),f[d]=a>0?(u/_c(10,o-a)%_c(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==mn&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=mn)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Or&&(e.e>Cv||e.e<-Cv))throw Error(tE+en(e));return e}function bB(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Or?br(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Ar),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=mn-1;--c[i],c[a]+=mn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Or?br(t,m):t):new h(0)}function gu(e,t,r){var n,a=en(e),i=Oi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+al(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+al(-a-1)+i,r&&(n=r-o)>0&&(i+=al(n))):a>=o?(i+=al(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+al(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=al(n))),e.s<0?"-"+i:i}function VO(e,t){if(e.length>t)return e.length=t,!0}function jB(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Yc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return WO(o,i.toString())}else if(typeof i!="string")throw Error(Yc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,zNe.test(i))WO(o,i);else throw Error(Yc+i)}if(a.prototype=lt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=jB,a.config=a.set=qNe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function qNe(e){if(!e||typeof e!="object")throw Error(As+"Object expected");var t,r,n,a=["precision",1,uh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(dh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Yc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yc+r+": "+n);return this}var rE=jB(HNe);Xa=new rE(1);const vr=rE;function KNe(e){return QNe(e)||XNe(e)||YNe(e)||GNe()}function GNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YNe(e,t){if(e){if(typeof e=="string")return zN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(e,t)}}function XNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QNe(e){if(Array.isArray(e))return zN(e)}function zN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ZNe=function(t){return t},NB={"@@functional/placeholder":!0},SB=function(t){return t===NB},HO=function(t){return function r(){return arguments.length===0||arguments.length===1&&SB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},JNe=function e(t,r){return t===1?r:HO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==NB}).length;return o>=t?r.apply(void 0,a):e(t-o,HO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return SB(f)?c.shift():f});return r.apply(void 0,KNe(d).concat(c))}))})},k1=function(t){return JNe(t.length,t)},qN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},eSe=k1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),tSe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ZNe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},KN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},_B=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function rSe(e){var t;return e===0?t=1:t=Math.floor(new vr(e).abs().log(10).toNumber())+1,t}function nSe(e,t,r){for(var n=new vr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var aSe=k1(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),sSe=k1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),iSe=k1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const O1={rangeStep:nSe,getDigitCount:rSe,interpolateNumber:aSe,uninterpolateNumber:sSe,uninterpolateTruncation:iSe};function GN(e){return cSe(e)||lSe(e)||TB(e)||oSe()}function oSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lSe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cSe(e){if(Array.isArray(e))return YN(e)}function wp(e,t){return fSe(e)||dSe(e,t)||TB(e,t)||uSe()}function uSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TB(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dSe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function fSe(e){if(Array.isArray(e))return e}function EB(e){var t=wp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function AB(e,t,r){if(e.lte(0))return new vr(0);var n=O1.getDigitCount(e.toNumber()),a=new vr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new vr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new vr(Math.ceil(c))}function hSe(e,t,r){var n=1,a=new vr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new vr(10).pow(O1.getDigitCount(e)-1),a=new vr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new vr(Math.floor(e)))}else e===0?a=new vr(Math.floor((t-1)/2)):r||(a=new vr(Math.floor(e)));var o=Math.floor((t-1)/2),l=tSe(eSe(function(c){return a.add(new vr(c-o).mul(n)).toNumber()}),qN);return l(0,t)}function CB(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var i=AB(new vr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new vr(0):(o=new vr(e).add(t).div(2),o=o.sub(new vr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new vr(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?CB(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new vr(l).mul(i)),tickMax:o.add(new vr(c).mul(i))})}function mSe(e){var t=wp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=EB([r,n]),c=wp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(GN(qN(0,a-1).map(function(){return 1/0}))):[].concat(GN(qN(0,a-1).map(function(){return-1/0})),[d]);return r>n?KN(f):f}if(u===d)return hSe(u,a,i);var h=CB(u,d,o,i),m=h.step,x=h.tickMin,p=h.tickMax,v=O1.rangeStep(x,p.add(new vr(.1).mul(m)),m);return r>n?KN(v):v}function pSe(e,t){var r=wp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EB([n,a]),l=wp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=AB(new vr(u).sub(c).div(d-1),i,0),h=[].concat(GN(O1.rangeStep(new vr(c),new vr(u).sub(new vr(.99).mul(f)),f)),[u]);return n>a?KN(h):h}var gSe=_B(mSe),xSe=_B(pSe),vSe="Invariant failed";function xu(e,t){throw new Error(vSe)}var ySe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function wSe(e,t){return SSe(e)||NSe(e,t)||jSe(e,t)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jSe(e,t){if(e){if(typeof e=="string")return zO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(e,t)}}function zO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SSe(e){if(Array.isArray(e))return e}function _Se(e,t){if(e==null)return{};var r=TSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ESe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ASe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OB(n.key),n)}}function CSe(e,t,r){return t&&ASe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DSe(e,t,r){return t=kv(t),kSe(e,DB()?Reflect.construct(t,r||[],kv(e).constructor):t.apply(e,r))}function kSe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OSe(e)}function OSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!e})()}function kv(e){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(e)}function PSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XN(e,t)}function kB(e,t,r){return t=OB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=ISe(e,"string");return _f(t)=="symbol"?t:t+""}function ISe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P1=function(e){function t(){return ESe(this,t),DSe(this,t,arguments)}return PSe(t,e),CSe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=_Se(n,ySe),m=tr(h,!1);this.props.direction==="x"&&d.type!=="number"&&xu();var x=c.map(function(p){var v=u(p,l),b=v.x,g=v.y,w=v.value,y=v.errorVal;if(!y)return null;var j=[],N,E;if(Array.isArray(y)){var S=wSe(y,2);N=S[0],E=S[1]}else N=E=y;if(i==="vertical"){var _=d.scale,D=g+a,F=D+o,O=D-o,L=_(w-N),k=_(w+E);j.push({x1:k,y1:F,x2:k,y2:O}),j.push({x1:L,y1:D,x2:k,y2:D}),j.push({x1:L,y1:F,x2:L,y2:O})}else if(i==="horizontal"){var P=f.scale,I=b+a,M=I-o,C=I+o,R=P(w-N),z=P(w+E);j.push({x1:M,y1:z,x2:C,y2:z}),j.push({x1:I,y1:R,x2:I,y2:z}),j.push({x1:M,y1:R,x2:C,y2:R})}return se.createElement(vn,Dv({className:"recharts-errorBar",key:"bar-".concat(j.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),j.map(function(J){return se.createElement("line",Dv({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return se.createElement(vn,{className:"recharts-errorBars"},x)}}])}(se.Component);kB(P1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});kB(P1,"displayName","ErrorBar");function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){MSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MSe(e,t,r){return t=RSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RSe(e){var t=FSe(e,"string");return bp(t)=="symbol"?t:t+""}function FSe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PB=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ha(r,Rd);if(!o)return null;var l=Rd.defaultProps,c=l!==void 0?yc(yc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?yc(yc({},h),f.props):{},x=m.dataKey,p=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:x,type:c.iconType||v||"square",color:nE(f),value:p||x,payload:m}}),yc(yc(yc({},c),Rd.getWithHeight(o,a)),{},{payload:u,item:o})};function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function KO(e){return USe(e)||BSe(e)||$Se(e)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Se(e,t){if(e){if(typeof e=="string")return QN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(e,t)}}function BSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function USe(e){if(Array.isArray(e))return QN(e)}function QN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){Ld(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ld(e,t,r){return t=WSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WSe(e){var t=VSe(e,"string");return jp(t)=="symbol"?t:t+""}function VSe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(e,t,r){return sr(e)||sr(t)?r:cn(t)?_s(e,t,r):Vt(t)?t(e):r}function gm(e,t,r,n){var a=BNe(e,function(l){return qi(l,t)});if(r==="number"){var i=a.filter(function(l){return Xe(l)||parseFloat(l)});return i.length?[D1(i),C1(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!sr(l)}):a;return o.map(function(l){return cn(l)||l instanceof Date?l:""})}var HSe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(ai(f-d)!==ai(h-f)){var x=[];if(ai(h-f)===ai(c[1]-c[0])){m=h;var p=f+c[1]-c[0];x[0]=Math.min(p,(p+d)/2),x[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];x[0]=Math.min(f,(v+f)/2),x[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){o=a[u].index;break}}else{var g=Math.min(d,h),w=Math.max(d,h);if(t>(g+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var y=0;y<l;y++)if(y===0&&t<=(n[y].coordinate+n[y+1].coordinate)/2||y>0&&y<l-1&&t>(n[y].coordinate+n[y-1].coordinate)/2&&t<=(n[y].coordinate+n[y+1].coordinate)/2||y===l-1&&t>(n[y].coordinate+n[y-1].coordinate)/2){o=n[y].index;break}return o},nE=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Wr(Wr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},zSe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var x=d[f[h]],p=x.items,v=x.cateAxisId,b=p.filter(function(E){return So(E.type).indexOf("Bar")>=0});if(b&&b.length){var g=b[0].type.defaultProps,w=g!==void 0?Wr(Wr({},g),b[0].props):b[0].props,y=w.barSize,j=w[v];o[j]||(o[j]=[]);var N=sr(y)?r:y;o[j].push({item:b[0],stackList:b.slice(1),barSize:sr(N)?void 0:pu(N,n,0)})}}return o},qSe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=pu(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,x=o.reduce(function(y,j){return y+j.barSize||0},0);x+=(c-1)*u,x>=a&&(x-=(c-1)*u,u=0),x>=a&&m>0&&(h=!0,m*=.9,x=c*m);var p=(a-x)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(y,j){var N={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},E=[].concat(KO(y),[N]);return v=E[E.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){E.push({item:S,position:v})}),E},f)}else{var b=pu(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var g=(a-2*b-(c-1)*u)/c;g>1&&(g>>=0);var w=l===+l?Math.min(g,l):g;d=o.reduce(function(y,j,N){var E=[].concat(KO(y),[{item:j.item,position:{offset:b+(g+u)*N+(g-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return d},KSe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=PB({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,x=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&m!=="center"&&Xe(t[m]))return Wr(Wr({},t),{},Ld({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&x!=="middle"&&Xe(t[x]))return Wr(Wr({},t),{},Ld({},x,t[x]+(h||0)))}return t},GSe=function(t,r,n){return sr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},IB=function(t,r,n,a,i){var o=r.props.children,l=ci(o,P1).filter(function(u){return GSe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=qi(d,n);if(sr(f))return u;var h=Array.isArray(f)?[D1(f),C1(f)]:[f,f],m=c.reduce(function(x,p){var v=qi(d,p,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),g=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,x[0]),Math.max(g,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},YSe=function(t,r,n,a,i){var o=r.map(function(l){return IB(t,l,n,i,a)}).filter(function(l){return!sr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},MB=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&IB(t,c,u,a)||gm(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},RB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},FB=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},vo=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ai(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!j0(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},yb=new WeakMap,bg=function(t,r){if(typeof r!="function")return t;yb.has(t)||yb.set(t,new WeakMap);var n=yb.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},XSe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:mp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:_v(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pm(),realScaleType:"point"}:i==="category"?{scale:mp(),realScaleType:"band"}:{scale:_v(),realScaleType:"linear"};if(b0(a)){var c="scale".concat(g1(a));return{scale:(UO[c]||pm)(),realScaleType:UO[c]?c:"point"}}return Vt(a)?{scale:a}:{scale:pm(),realScaleType:"point"}},YO=1e-4,QSe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-YO,o=Math.max(a[0],a[1])+YO,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},ZSe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},JSe=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Xe(t[0])||t[0]<n)&&(i[0]=n),(!Xe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},e2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=j0(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},t2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=j0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},r2e={sign:e2e,expand:ghe,none:xf,silhouette:xhe,wiggle:vhe,positive:t2e},n2e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=r2e[n],o=phe().keys(a).value(function(l,c){return+qi(l,c,0)}).order(jN).offset(i);return o(t)},a2e=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Wr(Wr({},h.type.defaultProps),h.props):h.props,p=x.stackId,v=x.hide;if(v)return f;var b=x[n],g=f[b]||{hasStack:!1,stackGroups:{}};if(cn(p)){var w=g.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),g.hasStack=!0,g.stackGroups[p]=w}else g.stackGroups[p1("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Wr(Wr({},f),{},Ld({},b,g))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var b=m.stackGroups[v];return Wr(Wr({},p),{},Ld({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:n2e(t,b.items,i)}))},x)}return Wr(Wr({},f),{},Ld({},h,m))},d)},s2e=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=gSe(u,i,l);return t.domain([D1(d),C1(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=xSe(f,i,l);return{niceTicks:h}}return null},XO=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=qi(o,r.dataKey,r.domain[l]);return sr(c)?null:r.scale(c)-i/2+a},i2e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},o2e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Wr(Wr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(cn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},l2e=function(t){return t.reduce(function(r,n){return[D1(n.concat([r[0]]).filter(Xe)),C1(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},LB=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=l2e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},QO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZN=function(t,r,n){if(Vt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(QO.test(t[0])){var i=+QO.exec(t[0])[1];a[0]=r[0]-i}else Vt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(ZO.test(t[1])){var o=+ZO.exec(t[1])[1];a[1]=r[1]+o}else Vt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ov=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=DT(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},JO=function(t,r,n){return!t||!t.length||eE(t,_s(n,"type.defaultProps.domain"))?r:t},$B=function(t,r){var n=t.type.defaultProps?Wr(Wr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Wr(Wr({},tr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:nE(t),value:qi(r,a),type:c,payload:r,chartType:u,hide:d})};function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){c2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c2e(e,t,r){return t=u2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u2e(e){var t=d2e(e,"string");return Np(t)=="symbol"?t:t+""}function d2e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pv=Math.PI/180,f2e=function(t){return t*180/Math.PI},Mn=function(t,r,n,a){return{x:t+Math.cos(-Pv*a)*n,y:r+Math.sin(-Pv*a)*n}},h2e=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},m2e=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=h2e({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:f2e(u),angleInRadian:u}},p2e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},g2e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},rP=function(t,r){var n=t.x,a=t.y,i=m2e({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=p2e(r),f=d.startAngle,h=d.endAngle,m=l,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?tP(tP({},r),{},{radius:o,angle:g2e(m,r)}):null};function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}var x2e=["offset"];function v2e(e){return j2e(e)||b2e(e)||w2e(e)||y2e()}function y2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2e(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function b2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j2e(e){if(Array.isArray(e))return JN(e)}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N2e(e,t){if(e==null)return{};var r=S2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){_2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _2e(e,t,r){return t=T2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T2e(e){var t=E2e(e,"string");return Sp(t)=="symbol"?t:t+""}function E2e(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}var A2e=function(t){var r=t.value,n=t.formatter,a=sr(t.children)?r:t.children;return Vt(n)?n(a):a},C2e=function(t,r){var n=ai(r-t),a=Math.min(Math.abs(r-t),360);return n*a},D2e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,x=c.endAngle,p=c.clockWise,v=(f+h)/2,b=C2e(m,x),g=b>=0?1:-1,w,y;a==="insideStart"?(w=m+g*o,y=p):a==="insideEnd"?(w=x-g*o,y=!p):a==="end"&&(w=x+g*o,y=p),y=b<=0?y:!y;var j=Mn(u,d,v,w),N=Mn(u,d,v,w+(y?1:-1)*359),E="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(y?0:1,`,
    `).concat(N.x,",").concat(N.y),S=sr(t.id)?p1("recharts-radial-line-"):t.id;return se.createElement("text",_p({},n,{dominantBaseline:"central",className:Zt("recharts-radial-bar-label",l)}),se.createElement("defs",null,se.createElement("path",{id:S,d:E})),se.createElement("textPath",{xlinkHref:"#".concat(S)},r))},k2e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Mn(o,l,u+n,h),x=m.x,p=m.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Mn(o,l,v,h),g=b.x,w=b.y;return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},O2e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",x=f>0?"start":"end",p=u>=0?1:-1,v=p*a,b=p>0?"end":"start",g=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return rn(rn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var y={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return rn(rn({},y),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return rn(rn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return rn(rn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return i==="insideLeft"?rn({x:l+v,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},E):i==="insideRight"?rn({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideTop"?rn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},E):i==="insideBottom"?rn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},E):i==="insideTopLeft"?rn({x:l+v,y:c+h,textAnchor:g,verticalAnchor:x},E):i==="insideTopRight"?rn({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:x},E):i==="insideBottomLeft"?rn({x:l+v,y:c+d-h,textAnchor:g,verticalAnchor:m},E):i==="insideBottomRight"?rn({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:m},E):rh(i)&&(Xe(i.x)||Pc(i.x))&&(Xe(i.y)||Pc(i.y))?rn({x:l+pu(i.x,u),y:c+pu(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):rn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},P2e=function(t){return"cx"in t&&Xe(t.cx)};function Kn(e){var t=e.offset,r=t===void 0?5:t,n=N2e(e,x2e),a=rn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||sr(l)&&sr(c)&&!T.isValidElement(u)&&!Vt(u))return null;if(T.isValidElement(u))return T.cloneElement(u,a);var m;if(Vt(u)){if(m=T.createElement(u,a),T.isValidElement(m))return m}else m=A2e(a);var x=P2e(i),p=tr(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return D2e(a,m,p);var v=x?k2e(a):O2e(a);return se.createElement(vv,_p({className:Zt("recharts-label",f)},p,v,{breakAll:h}),m)}Kn.displayName="Label";var BB=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,x=t.left,p=t.width,v=t.height,b=t.clockWise,g=t.labelViewBox;if(g)return g;if(Xe(p)&&Xe(v)){if(Xe(f)&&Xe(h))return{x:f,y:h,width:p,height:v};if(Xe(m)&&Xe(x))return{x:m,y:x,width:p,height:v}}return Xe(f)&&Xe(h)?{x:f,y:h,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},I2e=function(t,r){return t?t===!0?se.createElement(Kn,{key:"label-implicit",viewBox:r}):cn(t)?se.createElement(Kn,{key:"label-implicit",viewBox:r,value:t}):T.isValidElement(t)?t.type===Kn?T.cloneElement(t,{key:"label-implicit",viewBox:r}):se.createElement(Kn,{key:"label-implicit",content:t,viewBox:r}):Vt(t)?se.createElement(Kn,{key:"label-implicit",content:t,viewBox:r}):rh(t)?se.createElement(Kn,_p({viewBox:r},t,{key:"label-implicit"})):null:null},M2e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=BB(t),o=ci(a,Kn).map(function(c,u){return T.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=I2e(t.label,r||i);return[l].concat(v2e(o))};Kn.parseViewBox=BB;Kn.renderCallByParent=M2e;function R2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var F2e=R2e;const L2e=yr(F2e);function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}var $2e=["valueAccessor"],B2e=["data","dataKey","clockWise","id","textBreakAll"];function U2e(e){return z2e(e)||H2e(e)||V2e(e)||W2e()}function W2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V2e(e,t){if(e){if(typeof e=="string")return eS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(e,t)}}function H2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z2e(e){if(Array.isArray(e))return eS(e)}function eS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(this,arguments)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){q2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q2e(e,t,r){return t=K2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2e(e){var t=G2e(e,"string");return Tp(t)=="symbol"?t:t+""}function G2e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iP(e,t){if(e==null)return{};var r=Y2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var X2e=function(t){return Array.isArray(t.value)?L2e(t.value):t.value};function Xc(e){var t=e.valueAccessor,r=t===void 0?X2e:t,n=iP(e,$2e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=iP(n,B2e);return!a||!a.length?null:se.createElement(vn,{className:"recharts-label-list"},a.map(function(d,f){var h=sr(i)?r(d,f):qi(d&&d.payload,i),m=sr(l)?{}:{id:"".concat(l,"-").concat(f)};return se.createElement(Kn,Iv({},tr(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Kn.parseViewBox(sr(o)?d:sP(sP({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Xc.displayName="LabelList";function Q2e(e,t){return e?e===!0?se.createElement(Xc,{key:"labelList-implicit",data:t}):se.isValidElement(e)||Vt(e)?se.createElement(Xc,{key:"labelList-implicit",data:t,content:e}):rh(e)?se.createElement(Xc,Iv({data:t},e,{key:"labelList-implicit"})):null:null}function Z2e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ci(n,Xc).map(function(o,l){return T.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Q2e(e.label,t);return[i].concat(U2e(a))}Xc.renderCallByParent=Z2e;function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tS.apply(this,arguments)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){J2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J2e(e,t,r){return t=e_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_e(e){var t=t_e(e,"string");return Ep(t)=="symbol"?t:t+""}function t_e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r_e=function(t,r){var n=ai(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},jg=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Pv,h=u?i:i+o*f,m=Mn(r,n,d,h),x=Mn(r,n,a,h),p=u?i-o*f:i,v=Mn(r,n,d*Math.cos(f*Pv),p);return{center:m,circleTangency:x,lineTangency:v,theta:f}},UB=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=r_e(o,l),u=o+c,d=Mn(r,n,i,o),f=Mn(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Mn(r,n,a,o),x=Mn(r,n,a,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},n_e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ai(d-u),h=jg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,x=h.lineTangency,p=h.theta,v=jg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,g=v.lineTangency,w=v.theta,y=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(y<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):UB({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(a>0){var N=jg({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=N.circleTangency,S=N.lineTangency,_=N.theta,D=jg({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),F=D.circleTangency,O=D.lineTangency,L=D.theta,k=c?Math.abs(u-d):Math.abs(u-d)-_-L;if(k<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},a_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WB=function(t){var r=lP(lP({},a_e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=Zt("recharts-sector",h),x=o-i,p=pu(l,x,0,!0),v;return p>0&&Math.abs(d-f)<360?v=n_e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=UB({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),se.createElement("path",tS({},tr(r,!0),{className:m,d:v,role:"img"}))};function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){s_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s_e(e,t,r){return t=i_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i_e(e){var t=o_e(e,"string");return Ap(t)=="symbol"?t:t+""}function o_e(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dP={curveBasisClosed:ahe,curveBasisOpen:she,curveBasis:nhe,curveBumpX:Vfe,curveBumpY:Hfe,curveLinearClosed:ihe,curveLinear:v1,curveMonotoneX:ohe,curveMonotoneY:lhe,curveNatural:che,curveStep:uhe,curveStepAfter:fhe,curveStepBefore:dhe},Ng=function(t){return t.x===+t.x&&t.y===+t.y},Mh=function(t){return t.x},Rh=function(t){return t.y},l_e=function(t,r){if(Vt(t))return t;var n="curve".concat(g1(t));return(n==="curveMonotone"||n==="curveBump")&&r?dP["".concat(n).concat(r==="vertical"?"Y":"X")]:dP[n]||v1},c_e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=l_e(n,l),f=u?i.filter(function(p){return Ng(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Ng(p)}):o,x=f.map(function(p,v){return uP(uP({},p),{},{base:m[v]})});return l==="vertical"?h=hg().y(Rh).x1(Mh).x0(function(p){return p.base.x}):h=hg().x(Mh).y1(Rh).y0(function(p){return p.base.y}),h.defined(Ng).curve(d),h(x)}return l==="vertical"&&Xe(o)?h=hg().y(Rh).x1(Mh).x0(o):Xe(o)?h=hg().x(Mh).y1(Rh).y0(o):h=W$().x(Mh).y(Rh),h.defined(Ng).curve(d),h(f)},fP=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?c_e(t):a;return se.createElement("path",rS({},tr(t,!1),nv(t),{className:Zt("recharts-curve",r),d:o,ref:i}))},VB={exports:{}},u_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",d_e=u_e,f_e=d_e;function HB(){}function zB(){}zB.resetWarningCache=HB;var h_e=function(){function e(n,a,i,o,l,c){if(c!==f_e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zB,resetWarningCache:HB};return r.PropTypes=r,r};VB.exports=h_e();var m_e=VB.exports;const nr=yr(m_e);var p_e=Object.getOwnPropertyNames,g_e=Object.getOwnPropertySymbols,x_e=Object.prototype.hasOwnProperty;function hP(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Sg(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function mP(e){return p_e(e).concat(g_e(e))}var v_e=Object.hasOwn||function(e,t){return x_e.call(e,t)};function Pu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var y_e="__v",w_e="__o",b_e="_owner",pP=Object.getOwnPropertyDescriptor,gP=Object.keys;function j_e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function N_e(e,t){return Pu(e.getTime(),t.getTime())}function S_e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function __e(e,t){return e===t}function xP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var T_e=Pu;function E_e(e,t,r){var n=gP(e),a=n.length;if(gP(t).length!==a)return!1;for(;a-- >0;)if(!qB(e,t,r,n[a]))return!1;return!0}function Fh(e,t,r){var n=mP(e),a=n.length;if(mP(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!qB(e,t,r,i)||(o=pP(e,i),l=pP(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function A_e(e,t){return Pu(e.valueOf(),t.valueOf())}function C_e(e,t){return e.source===t.source&&e.flags===t.flags}function vP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function D_e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function k_e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function qB(e,t,r,n){return(n===b_e||n===w_e||n===y_e)&&(e.$$typeof||t.$$typeof)?!0:v_e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var O_e="[object Arguments]",P_e="[object Boolean]",I_e="[object Date]",M_e="[object Error]",R_e="[object Map]",F_e="[object Number]",L_e="[object Object]",$_e="[object RegExp]",B_e="[object Set]",U_e="[object String]",W_e="[object URL]",V_e=Array.isArray,yP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wP=Object.assign,H_e=Object.prototype.toString.call.bind(Object.prototype.toString);function z_e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(x,p,v){if(x===p)return!0;if(x==null||p==null)return!1;var b=typeof x;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?o(x,p,v):b==="function"?a(x,p,v):!1;var g=x.constructor;if(g!==p.constructor)return!1;if(g===Object)return l(x,p,v);if(V_e(x))return t(x,p,v);if(yP!=null&&yP(x))return f(x,p,v);if(g===Date)return r(x,p,v);if(g===RegExp)return u(x,p,v);if(g===Map)return i(x,p,v);if(g===Set)return d(x,p,v);var w=H_e(x);return w===I_e?r(x,p,v):w===$_e?u(x,p,v):w===R_e?i(x,p,v):w===B_e?d(x,p,v):w===L_e?typeof x.then!="function"&&typeof p.then!="function"&&l(x,p,v):w===W_e?h(x,p,v):w===M_e?n(x,p,v):w===O_e?l(x,p,v):w===P_e||w===F_e||w===U_e?c(x,p,v):!1}}function q_e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Fh:j_e,areDatesEqual:N_e,areErrorsEqual:S_e,areFunctionsEqual:__e,areMapsEqual:n?hP(xP,Fh):xP,areNumbersEqual:T_e,areObjectsEqual:n?Fh:E_e,arePrimitiveWrappersEqual:A_e,areRegExpsEqual:C_e,areSetsEqual:n?hP(vP,Fh):vP,areTypedArraysEqual:n?Fh:D_e,areUrlsEqual:k_e};if(r&&(a=wP({},a,r(a))),t){var i=Sg(a.areArraysEqual),o=Sg(a.areMapsEqual),l=Sg(a.areObjectsEqual),c=Sg(a.areSetsEqual);a=wP({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function K_e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function G_e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Y_e=hc();hc({strict:!0});hc({circular:!0});hc({circular:!0,strict:!0});hc({createInternalComparator:function(){return Pu}});hc({strict:!0,createInternalComparator:function(){return Pu}});hc({circular:!0,createInternalComparator:function(){return Pu}});hc({circular:!0,createInternalComparator:function(){return Pu},strict:!0});function hc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=q_e(e),c=z_e(l),u=n?n(c):K_e(c);return G_e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function X_e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function bP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):X_e(a)};requestAnimationFrame(n)}function nS(e){"@babel/helpers - typeof";return nS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nS(e)}function Q_e(e){return tTe(e)||eTe(e)||J_e(e)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J_e(e,t){if(e){if(typeof e=="string")return jP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jP(e,t)}}function jP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tTe(e){if(Array.isArray(e))return e}function rTe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Q_e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){bP(a.bind(null,u),c);return}a(c),bP(a.bind(null,u));return}nS(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){KB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KB(e,t,r){return t=nTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nTe(e){var t=aTe(e,"string");return Cp(t)==="symbol"?t:String(t)}function aTe(e,t){if(Cp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sTe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},iTe=function(t){return t},oTe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xm=function(t,r){return Object.keys(r).reduce(function(n,a){return SP(SP({},n),{},KB({},a,t(a,r[a])))},{})},_P=function(t,r,n){return t.map(function(a){return"".concat(oTe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lTe(e,t){return dTe(e)||uTe(e,t)||GB(e,t)||cTe()}function cTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dTe(e){if(Array.isArray(e))return e}function fTe(e){return pTe(e)||mTe(e)||GB(e)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GB(e,t){if(e){if(typeof e=="string")return aS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(e,t)}}function mTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pTe(e){if(Array.isArray(e))return aS(e)}function aS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mv=1e-4,YB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},XB=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},TP=function(t,r){return function(n){var a=YB(t,r);return XB(a,n)}},gTe=function(t,r){return function(n){var a=YB(t,r),i=[].concat(fTe(a.map(function(o,l){return o*l}).slice(1)),[0]);return XB(i,n)}},EP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=lTe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=TP(a,o),h=TP(i,l),m=gTe(a,o),x=function(b){return b>1?1:b<0?0:b},p=function(b){for(var g=b>1?1:b,w=g,y=0;y<8;++y){var j=f(w)-g,N=m(w);if(Math.abs(j-g)<Mv||N<Mv)return h(w);w=x(w-j/N)}return h(w)};return p.isStepper=!1,p},xTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,x=h*i,p=h+(m-x)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Mv&&Math.abs(p)<Mv?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},vTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EP(a);case"spring":return xTe();default:if(a.split("(")[0]==="cubic-bezier")return EP(a)}return typeof a=="function"?a:null};function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function AP(e){return bTe(e)||wTe(e)||QB(e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bTe(e){if(Array.isArray(e))return iS(e)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){sS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sS(e,t,r){return t=jTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jTe(e){var t=NTe(e,"string");return Dp(t)==="symbol"?t:String(t)}function NTe(e,t){if(Dp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function STe(e,t){return ETe(e)||TTe(e,t)||QB(e,t)||_Te()}function _Te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QB(e,t){if(e){if(typeof e=="string")return iS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iS(e,t)}}function iS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ETe(e){if(Array.isArray(e))return e}var Rv=function(t,r,n){return t+(r-t)*n},oS=function(t){var r=t.from,n=t.to;return r!==n},ATe=function e(t,r,n){var a=xm(function(i,o){if(oS(o)){var l=t(o.from,o.to,o.velocity),c=STe(l,2),u=c[0],d=c[1];return Dn(Dn({},o),{},{from:u,velocity:d})}return o},r);return n<1?xm(function(i,o){return oS(o)?Dn(Dn({},o),{},{velocity:Rv(o.velocity,a[i].velocity,n),from:Rv(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const CTe=function(e,t,r,n,a){var i=sTe(e,t),o=i.reduce(function(v,b){return Dn(Dn({},v),{},sS({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return Dn(Dn({},v),{},sS({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return xm(function(b,g){return g.from},l)},m=function(){return!Object.values(l).filter(oS).length},x=function(b){u||(u=b);var g=b-u,w=g/r.dt;l=ATe(r,l,w),a(Dn(Dn(Dn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var g=(b-d)/n,w=xm(function(j,N){return Rv.apply(void 0,AP(N).concat([r(g)]))},o);if(a(Dn(Dn(Dn({},e),t),w)),g<1)c=requestAnimationFrame(f);else{var y=xm(function(j,N){return Rv.apply(void 0,AP(N).concat([r(1)]))},o);a(Dn(Dn(Dn({},e),t),y))}};return f=r.isStepper?x:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}var DTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kTe(e,t){if(e==null)return{};var r=OTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function wb(e){return RTe(e)||MTe(e)||ITe(e)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ITe(e,t){if(e){if(typeof e=="string")return lS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(e,t)}}function MTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RTe(e){if(Array.isArray(e))return lS(e)}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yh(e,t,r){return t=ZB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZB(n.key),n)}}function $Te(e,t,r){return t&&LTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZB(e){var t=BTe(e,"string");return Tf(t)==="symbol"?t:String(t)}function BTe(e,t){if(Tf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cS(e,t)}function WTe(e){var t=VTe();return function(){var n=Fv(e),a;if(t){var i=Fv(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return uS(this,a)}}function uS(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dS(e)}function dS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(e)}var ec=function(e){UTe(r,e);var t=WTe(r);function r(n,a){var i;FTe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(dS(i)),i.changeStyle=i.changeStyle.bind(dS(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),uS(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},uS(i);i.state={style:c?Yh({},c,u):u}}else i.state={style:{}};return i}return $Te(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Yh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Y_e(a.to,d)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||u?f:a.to;if(this.state&&h){var v={style:c?Yh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Bs(Bs({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=CTe(o,l,vTe(u),c,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([h,d,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,b){if(b===0)return p;var g=v.duration,w=v.easing,y=w===void 0?"ease":w,j=v.style,N=v.properties,E=v.onAnimationEnd,S=b>0?o[b-1]:v,_=N||Object.keys(j);if(typeof y=="function"||y==="spring")return[].concat(wb(p),[i.runJSAnimation.bind(i,{from:S.style,to:j,duration:g,easing:y}),g]);var D=_P(_,g,y),F=Bs(Bs(Bs({},S.style),j),{},{transition:D});return[].concat(wb(p),[F,g,E]).filter(iTe)};return this.manager.start([c].concat(wb(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rTe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Yh({},l,c):c,v=_P(Object.keys(p),o,u);x.start([d,i,Bs(Bs({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=kTe(a,DTe),u=T.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var x=m.props,p=x.style,v=p===void 0?{}:p,b=x.className,g=T.cloneElement(m,Bs(Bs({},c),{},{style:Bs(Bs({},v),d),className:b}));return g};return u===1?f(T.Children.only(i)):se.createElement("div",null,T.Children.map(i,function(h){return f(h)}))}}]),r}(T.PureComponent);ec.displayName="Animate";ec.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ec.propTypes={from:nr.oneOfType([nr.object,nr.string]),to:nr.oneOfType([nr.object,nr.string]),attributeName:nr.string,duration:nr.number,begin:nr.number,easing:nr.oneOfType([nr.string,nr.func]),steps:nr.arrayOf(nr.shape({duration:nr.number.isRequired,style:nr.object.isRequired,easing:nr.oneOfType([nr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nr.func]),properties:nr.arrayOf("string"),onAnimationEnd:nr.func})),children:nr.oneOfType([nr.node,nr.func]),isActive:nr.bool,canBegin:nr.bool,onAnimationEnd:nr.func,shouldReAnimate:nr.bool,onAnimationStart:nr.func,onAnimationReStart:nr.func};function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(this,arguments)}function HTe(e,t){return GTe(e)||KTe(e,t)||qTe(e,t)||zTe()}function zTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qTe(e,t){if(e){if(typeof e=="string")return kP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kP(e,t)}}function kP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GTe(e){if(Array.isArray(e))return e}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){YTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YTe(e,t,r){return t=XTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XTe(e){var t=QTe(e,"string");return kp(t)=="symbol"?t:t+""}function QTe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IP=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},ZTe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},JTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aE=function(t){var r=PP(PP({},JTe),t),n=T.useRef(),a=T.useState(-1),i=HTe(a,2),o=i[0],l=i[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Zt("recharts-rectangle",m);return g?se.createElement(ec,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:x,isActive:g},function(y){var j=y.width,N=y.height,E=y.x,S=y.y;return se.createElement(ec,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:b,easing:x},se.createElement("path",Lv({},tr(r,!0),{className:w,d:IP(E,S,j,N,h),ref:n})))}):se.createElement("path",Lv({},tr(r,!0),{className:w,d:IP(c,u,d,f,h)}))};function fS(){return fS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fS.apply(this,arguments)}var JB=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Zt("recharts-dot",i);return r===+r&&n===+n&&a===+a?se.createElement("circle",fS({},tr(t,!1),nv(t),{className:o,cx:r,cy:n,r:a})):null};function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}var eEe=["x","y","top","left","width","height","className"];function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(this,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tEe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){rEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rEe(e,t,r){return t=nEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nEe(e){var t=aEe(e,"string");return Op(t)=="symbol"?t:t+""}function aEe(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sEe(e,t){if(e==null)return{};var r=iEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oEe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},lEe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,x=t.className,p=sEe(t,eEe),v=tEe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!Xe(n)||!Xe(i)||!Xe(f)||!Xe(m)||!Xe(l)||!Xe(u)?null:se.createElement("path",hS({},tr(v,!0),{className:Zt("recharts-cross",x),d:oEe(n,i,f,m,l,u)}))},cEe=f8,uEe=cEe(Object.getPrototypeOf,Object),dEe=uEe,fEe=Vo,hEe=dEe,mEe=Ho,pEe="[object Object]",gEe=Function.prototype,xEe=Object.prototype,e9=gEe.toString,vEe=xEe.hasOwnProperty,yEe=e9.call(Object);function wEe(e){if(!mEe(e)||fEe(e)!=pEe)return!1;var t=hEe(e);if(t===null)return!0;var r=vEe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&e9.call(r)==yEe}var bEe=wEe;const jEe=yr(bEe);var NEe=Vo,SEe=Ho,_Ee="[object Boolean]";function TEe(e){return e===!0||e===!1||SEe(e)&&NEe(e)==_Ee}var EEe=TEe;const AEe=yr(EEe);function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}function CEe(e,t){return PEe(e)||OEe(e,t)||kEe(e,t)||DEe()}function DEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kEe(e,t){if(e){if(typeof e=="string")return RP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RP(e,t)}}function RP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PEe(e){if(Array.isArray(e))return e}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){IEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IEe(e,t,r){return t=MEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MEe(e){var t=REe(e,"string");return Pp(t)=="symbol"?t:t+""}function REe(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $P=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},FEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LEe=function(t){var r=LP(LP({},FEe),t),n=T.useRef(),a=T.useState(-1),i=CEe(a,2),o=i[0],l=i[1];T.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=Zt("recharts-trapezoid",m);return b?se.createElement(ec,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:x,isActive:b},function(w){var y=w.upperWidth,j=w.lowerWidth,N=w.height,E=w.x,S=w.y;return se.createElement(ec,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:x},se.createElement("path",$v({},tr(r,!0),{className:g,d:$P(E,S,y,j,N),ref:n})))}):se.createElement("g",null,se.createElement("path",$v({},tr(r,!0),{className:g,d:$P(c,u,d,f,h)})))},$Ee=["option","shapeType","propTransformer","activeClassName","isActive"];function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function BEe(e,t){if(e==null)return{};var r=UEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){WEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WEe(e,t,r){return t=VEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VEe(e){var t=HEe(e,"string");return Ip(t)=="symbol"?t:t+""}function HEe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zEe(e,t){return Bv(Bv({},t),e)}function qEe(e,t){return e==="symbols"}function UP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return se.createElement(aE,r);case"trapezoid":return se.createElement(LEe,r);case"sector":return se.createElement(WB,r);case"symbols":if(qEe(t))return se.createElement(jT,r);break;default:return null}}function KEe(e){return T.isValidElement(e)?e.props:e}function GEe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?zEe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=BEe(e,$Ee),u;if(T.isValidElement(t))u=T.cloneElement(t,Bv(Bv({},c),KEe(t)));else if(Vt(t))u=t(c);else if(jEe(t)&&!AEe(t)){var d=a(t,c);u=se.createElement(UP,{shapeType:r,elementProps:d})}else{var f=c;u=se.createElement(UP,{shapeType:r,elementProps:f})}return l?se.createElement(vn,{className:o},u):u}function I1(e,t){return t!=null&&"trapezoids"in e.props}function M1(e,t){return t!=null&&"sectors"in e.props}function Mp(e,t){return t!=null&&"points"in e.props}function YEe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function XEe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function QEe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ZEe(e,t){var r;return I1(e,t)?r=YEe:M1(e,t)?r=XEe:Mp(e,t)&&(r=QEe),r}function JEe(e,t){var r;return I1(e,t)?r="trapezoids":M1(e,t)?r="sectors":Mp(e,t)&&(r="points"),r}function eAe(e,t){if(I1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(M1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Mp(e,t)?t.payload:{}}function tAe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=JEe(r,t),i=eAe(r,t),o=n.filter(function(c,u){var d=eE(i,c),f=r.props[a].filter(function(x){var p=ZEe(r,t);return p(x,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var rAe=Math.ceil,nAe=Math.max;function aAe(e,t,r,n){for(var a=-1,i=nAe(rAe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var sAe=aAe,iAe=k8,WP=1/0,oAe=17976931348623157e292;function lAe(e){if(!e)return e===0?e:0;if(e=iAe(e),e===WP||e===-WP){var t=e<0?-1:1;return t*oAe}return e===e?e:0}var t9=lAe,cAe=sAe,uAe=j1,bb=t9;function dAe(e){return function(t,r,n){return n&&typeof n!="number"&&uAe(t,r,n)&&(r=n=void 0),t=bb(t),r===void 0?(r=t,t=0):r=bb(r),n=n===void 0?t<r?1:-1:bb(n),cAe(t,r,n,e)}}var fAe=dAe,hAe=fAe,mAe=hAe(),pAe=mAe;const Uv=yr(pAe);function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){r9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r9(e,t,r){return t=gAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gAe(e){var t=xAe(e,"string");return Rp(t)=="symbol"?t:t+""}function xAe(e,t){if(Rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vAe=["Webkit","Moz","O","ms"],yAe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=vAe.reduce(function(i,o){return HP(HP({},i),{},r9({},o+n,r))},{});return a[t]=r,a};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(this,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a9(n.key),n)}}function bAe(e,t,r){return t&&qP(e.prototype,t),r&&qP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jAe(e,t,r){return t=Vv(t),NAe(e,n9()?Reflect.construct(t,r||[],Vv(e).constructor):t.apply(e,r))}function NAe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SAe(e)}function SAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(e)}function _Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(e,t)}function Ba(e,t,r){return t=a9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=TAe(e,"string");return Ef(t)=="symbol"?t:t+""}function TAe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EAe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=pm().domain(Uv(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},KP=function(t){return t.changedTouches&&!!t.changedTouches.length},Af=function(e){function t(r){var n;return wAe(this,t),n=jAe(this,t,[r]),Ba(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ba(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ba(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Ba(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ba(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ba(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ba(n,"handleSlideDragStart",function(a){var i=KP(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _Ae(t,e),bAe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=qi(i[n],l,n);return Vt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,x=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=KP(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,x=d.onChange,p=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},g=n.pageX-i;g>0?g=Math.min(g,f+h-m-u):g<0&&(g=Math.max(g,f-u)),b[o]=u+g;var w=this.getIndex(b),y=w.startIndex,j=w.endIndex,N=function(){var S=v.length-1;return o==="startX"&&(l>c?y%p===0:j%p===0)||l<c&&j===S||o==="endX"&&(l>c?j%p===0:y%p===0)||l>c&&j===S};this.setState(Ba(Ba({},o,u+g),"brushMoveStartX",n.pageX),function(){x&&N()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Ba({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return se.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=T.Children.only(u);return f?se.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,p=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),g=jb(jb({},tr(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return se.createElement(vn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,x={pointerEvents:"none",fill:u};return se.createElement(vn,{className:"recharts-brush-texts"},se.createElement(vv,Wv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},x),this.getTextOfTick(a)),se.createElement(vv,Wv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,p=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,g=h.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(u)||!Xe(d)||u<=0||d<=0)return null;var w=Zt("recharts-brush",i),y=se.Children.count(o)===1,j=yAe("userSelect","none");return se.createElement(vn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(p||v||b||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return se.createElement(se.Fragment,null,se.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),se.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),se.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return se.isValidElement(n)?i=se.cloneElement(n,a):Vt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return jb({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?EAe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(T.PureComponent);Ba(Af,"displayName","Brush");Ba(Af,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AAe=CT;function CAe(e,t){var r;return AAe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var DAe=CAe,kAe=a8,OAe=uc,PAe=DAe,IAe=Fa,MAe=j1;function RAe(e,t,r){var n=IAe(e)?kAe:PAe;return r&&MAe(e,t,r)&&(t=void 0),n(e,OAe(t))}var FAe=RAe;const LAe=yr(FAe);var $i=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},GP=T8;function $Ae(e,t,r){t=="__proto__"&&GP?GP(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var BAe=$Ae,UAe=BAe,WAe=S8,VAe=uc;function HAe(e,t){var r={};return t=VAe(t),WAe(e,function(n,a,i){UAe(r,a,t(n,a,i))}),r}var zAe=HAe;const qAe=yr(zAe);function KAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var GAe=KAe,YAe=CT;function XAe(e,t){var r=!0;return YAe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var QAe=XAe,ZAe=GAe,JAe=QAe,eCe=uc,tCe=Fa,rCe=j1;function nCe(e,t,r){var n=tCe(e)?ZAe:JAe;return r&&rCe(e,t,r)&&(t=void 0),n(e,eCe(t))}var aCe=nCe;const s9=yr(aCe);var sCe=["x","y"];function Fp(e){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){iCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iCe(e,t,r){return t=oCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oCe(e){var t=lCe(e,"string");return Fp(t)=="symbol"?t:t+""}function lCe(e,t){if(Fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cCe(e,t){if(e==null)return{};var r=uCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dCe(e,t){var r=e.x,n=e.y,a=cCe(e,sCe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Lh(Lh(Lh(Lh(Lh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function XP(e){return se.createElement(GEe,pS({shapeType:"rectangle",propTransformer:dCe,activeClassName:"recharts-active-bar"},e))}var fCe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||xu(),r)}},hCe=["value","background"],i9;function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function mCe(e,t){if(e==null)return{};var r=pCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(this,arguments)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){Sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l9(n.key),n)}}function xCe(e,t,r){return t&&ZP(e.prototype,t),r&&ZP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vCe(e,t,r){return t=zv(t),yCe(e,o9()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function yCe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wCe(e)}function wCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(e)}function bCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gS(e,t)}function Sl(e,t,r){return t=l9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l9(e){var t=jCe(e,"string");return Cf(t)=="symbol"?t:t+""}function jCe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iu=function(e){function t(){var r;gCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vCe(this,t,[].concat(a)),Sl(r,"state",{isAnimationFinished:!1}),Sl(r,"id",p1("recharts-bar-")),Sl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Sl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return bCe(t,e),xCe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=tr(this.props,!1);return n&&n.map(function(f,h){var m=h===c,x=m?u:o,p=Xr(Xr(Xr({},d),f),{},{isActive:m,option:x,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return se.createElement(vn,Hv({className:"recharts-bar-rectangle"},av(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),se.createElement(XP,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return se.createElement(ec,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,p=i.map(function(v,b){var g=h&&h[b];if(g){var w=Xu(g.x,v.x),y=Xu(g.y,v.y),j=Xu(g.width,v.width),N=Xu(g.height,v.height);return Xr(Xr({},v),{},{x:w(x),y:y(x),width:j(x),height:N(x)})}if(o==="horizontal"){var E=Xu(0,v.height),S=E(x);return Xr(Xr({},v),{},{y:v.y+v.height-S,height:S})}var _=Xu(0,v.width),D=_(x);return Xr(Xr({},v),{},{width:D})});return se.createElement(vn,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!eE(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=tr(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=mCe(u,hCe);if(!f)return null;var m=Xr(Xr(Xr(Xr(Xr({},h),{},{fill:"#eee"},f),c),av(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return se.createElement(XP,Hv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ci(d,P1);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,b){var g=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:g,errorVal:qi(v,b)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return se.createElement(vn,x,f.map(function(p){return se.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,x=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=Zt("recharts-bar",o),g=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,y=g||w,j=sr(p)?this.id:p;return se.createElement(vn,{className:b},g||w?se.createElement("defs",null,se.createElement("clipPath",{id:"clipPath-".concat(j)},se.createElement("rect",{x:g?u:u-f/2,y:w?d:d-h/2,width:g?f:f*2,height:w?h:h*2}))):null,se.createElement(vn,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(j,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,j),(!m||v)&&Xc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(T.PureComponent);i9=Iu;Sl(Iu,"displayName","Bar");Sl(Iu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Sl(Iu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=ZSe(n,r);if(!m)return null;var x=t.layout,p=r.type.defaultProps,v=p!==void 0?Xr(Xr({},p),r.props):r.props,b=v.dataKey,g=v.children,w=v.minPointSize,y=x==="horizontal"?o:i,j=u?y.scale.domain():null,N=i2e({numericAxis:y}),E=ci(g,P8),S=f.map(function(_,D){var F,O,L,k,P,I;u?F=JSe(u[d+D],j):(F=qi(_,b),Array.isArray(F)||(F=[N,F]));var M=fCe(w,i9.defaultProps.minPointSize)(F[1],D);if(x==="horizontal"){var C,R=[o.scale(F[0]),o.scale(F[1])],z=R[0],J=R[1];O=XO({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:_,index:D}),L=(C=J??z)!==null&&C!==void 0?C:void 0,k=m.size;var U=z-J;if(P=Number.isNaN(U)?0:U,I={x:O,y:o.y,width:k,height:o.height},Math.abs(M)>0&&Math.abs(P)<Math.abs(M)){var q=ai(P||M)*(Math.abs(M)-Math.abs(P));L-=q,P+=q}}else{var Y=[i.scale(F[0]),i.scale(F[1])],Q=Y[0],Z=Y[1];if(O=Q,L=XO({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:_,index:D}),k=Z-Q,P=m.size,I={x:i.x,y:L,width:i.width,height:P},Math.abs(M)>0&&Math.abs(k)<Math.abs(M)){var ue=ai(k||M)*(Math.abs(M)-Math.abs(k));k+=ue}}return Xr(Xr(Xr({},_),{},{x:O,y:L,width:k,height:P,value:u?F:F[1],payload:_,background:I},E&&E[D]&&E[D].props),{},{tooltipPayload:[$B(r,_)],tooltipPosition:{x:O+k/2,y:L+P/2}})});return Xr({data:S,layout:x},h)});function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function NCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c9(n.key),n)}}function SCe(e,t,r){return t&&JP(e.prototype,t),r&&JP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){R1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R1(e,t,r){return t=c9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c9(e){var t=_Ce(e,"string");return Lp(t)=="symbol"?t:t+""}function _Ce(e,t){if(Lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TCe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ha(u,Iu);return d.reduce(function(m,x){var p=r[x],v=p.orientation,b=p.domain,g=p.padding,w=g===void 0?{}:g,y=p.mirror,j=p.reversed,N="".concat(v).concat(y?"Mirror":""),E,S,_,D,F;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],L=1/0,k=p.categoricalDomain.sort();if(k.forEach(function(Y,Q){Q>0&&(L=Math.min((Y||0)-(k[Q-1]||0),L))}),Number.isFinite(L)){var P=L/O,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(E=P*I/2),p.padding==="no-gap"){var M=pu(t.barCategoryGap,P*I),C=P*I/2;E=C-M-(C-M)/I*M}}}a==="xAxis"?S=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:a==="yAxis"?S=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:S=p.range,j&&(S=[S[1],S[0]]);var R=XSe(p,i,h),z=R.scale,J=R.realScaleType;z.domain(b).range(S),QSe(z);var U=s2e(z,qs(qs({},p),{},{realScaleType:J}));a==="xAxis"?(F=v==="top"&&!y||v==="bottom"&&y,_=n.left,D=f[N]-F*p.height):a==="yAxis"&&(F=v==="left"&&!y||v==="right"&&y,_=f[N]-F*p.width,D=n.top);var q=qs(qs(qs({},p),U),{},{realScaleType:J,x:_,y:D,scale:z,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return q.bandSize=Ov(q,U),!p.hide&&a==="xAxis"?f[N]+=(F?-1:1)*q.height:p.hide||(f[N]+=(F?-1:1)*q.width),qs(qs({},m),{},R1({},x,q))},{})},u9=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},ECe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return u9({x:r,y:n},{x:a,y:i})},d9=function(){function e(t){NCe(this,e),this.scale=t}return SCe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();R1(d9,"EPS",1e-4);var sE=function(t){var r=Object.keys(t).reduce(function(n,a){return qs(qs({},n),{},R1({},a,d9.create(t[a])))},{});return qs(qs({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return qAe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return s9(a,function(i,o){return r[o].isInRange(i)})}})};function ACe(e){return(e%180+180)%180}var CCe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ACe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},DCe=uc,kCe=N0,OCe=w1;function PCe(e){return function(t,r,n){var a=Object(t);if(!kCe(t)){var i=DCe(r);t=OCe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var ICe=PCe,MCe=t9;function RCe(e){var t=MCe(e),r=t%1;return t===t?r?t-r:t:0}var FCe=RCe,LCe=v8,$Ce=uc,BCe=FCe,UCe=Math.max;function WCe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:BCe(r);return a<0&&(a=UCe(n+a,0)),LCe(e,$Ce(t),a)}var VCe=WCe,HCe=ICe,zCe=VCe,qCe=HCe(zCe),KCe=qCe;const GCe=yr(KCe);var YCe=Mue(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),iE=T.createContext(void 0),oE=T.createContext(void 0),f9=T.createContext(void 0),h9=T.createContext({}),m9=T.createContext(void 0),p9=T.createContext(0),g9=T.createContext(0),t4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=YCe(i);return se.createElement(iE.Provider,{value:n},se.createElement(oE.Provider,{value:a},se.createElement(h9.Provider,{value:i},se.createElement(f9.Provider,{value:d},se.createElement(m9.Provider,{value:o},se.createElement(p9.Provider,{value:u},se.createElement(g9.Provider,{value:c},l)))))))},XCe=function(){return T.useContext(m9)},x9=function(t){var r=T.useContext(iE);r==null&&xu();var n=r[t];return n==null&&xu(),n},QCe=function(){var t=T.useContext(iE);return ll(t)},ZCe=function(){var t=T.useContext(oE),r=GCe(t,function(n){return s9(n.domain,Number.isFinite)});return r||ll(t)},v9=function(t){var r=T.useContext(oE);r==null&&xu();var n=r[t];return n==null&&xu(),n},JCe=function(){var t=T.useContext(f9);return t},eDe=function(){return T.useContext(h9)},lE=function(){return T.useContext(g9)},cE=function(){return T.useContext(p9)};function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function tDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w9(n.key),n)}}function nDe(e,t,r){return t&&rDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aDe(e,t,r){return t=qv(t),sDe(e,y9()?Reflect.construct(t,r||[],qv(e).constructor):t.apply(e,r))}function sDe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iDe(e)}function iDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!e})()}function qv(e){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qv(e)}function oDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xS(e,t)}function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){uE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uE(e,t,r){return t=w9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=lDe(e,"string");return Df(t)=="symbol"?t:t+""}function lDe(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cDe(e,t){return hDe(e)||fDe(e,t)||dDe(e,t)||uDe()}function uDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dDe(e,t){if(e){if(typeof e=="string")return a4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a4(e,t)}}function a4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hDe(e){if(Array.isArray(e))return e}function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}var mDe=function(t,r){var n;return se.isValidElement(t)?n=se.cloneElement(t,r):Vt(t)?n=t(r):n=se.createElement("line",vS({},r,{className:"recharts-reference-line-line"})),n},pDe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var x=u.y,p=t.y.apply(x,{position:o});if($i(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var b=u.x,g=t.x.apply(b,{position:o});if($i(u,"discard")&&!t.x.isInRange(g))return null;var w=[{x:g,y:f+m},{x:g,y:f}];return l==="top"?w.reverse():w}if(a){var y=u.segment,j=y.map(function(N){return t.apply(N,{position:o})});return $i(u,"discard")&&LAe(j,function(N){return!t.isInRange(N)})?null:j}return null};function gDe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=XCe(),d=x9(a),f=v9(i),h=JCe();if(!u||!h)return null;_o(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=sE({x:d.scale,y:f.scale}),x=cn(t),p=cn(r),v=n&&n.length===2,b=pDe(m,x,p,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var g=cDe(b,2),w=g[0],y=w.x,j=w.y,N=g[1],E=N.x,S=N.y,_=$i(e,"hidden")?"url(#".concat(u,")"):void 0,D=n4(n4({clipPath:_},tr(e,!0)),{},{x1:y,y1:j,x2:E,y2:S});return se.createElement(vn,{className:Zt("recharts-reference-line",l)},mDe(o,D),Kn.renderCallByParent(e,ECe({x1:y,y1:j,x2:E,y2:S})))}var dE=function(e){function t(){return tDe(this,t),aDe(this,t,arguments)}return oDe(t,e),nDe(t,[{key:"render",value:function(){return se.createElement(gDe,this.props)}}])}(se.Component);uE(dE,"displayName","ReferenceLine");uE(dE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yS.apply(this,arguments)}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(n){F1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j9(n.key),n)}}function yDe(e,t,r){return t&&vDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wDe(e,t,r){return t=Kv(t),bDe(e,b9()?Reflect.construct(t,r||[],Kv(e).constructor):t.apply(e,r))}function bDe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jDe(e)}function jDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b9=function(){return!!e})()}function Kv(e){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kv(e)}function NDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wS(e,t)}function wS(e,t){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wS(e,t)}function F1(e,t,r){return t=j9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j9(e){var t=SDe(e,"string");return kf(t)=="symbol"?t:t+""}function SDe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _De=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=sE({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return $i(t,"discard")&&!o.isInRange(l)?null:l},L1=function(e){function t(){return xDe(this,t),wDe(this,t,arguments)}return NDe(t,e),yDe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=cn(a),d=cn(i);if(_o(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_De(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,p=x.shape,v=x.className,b=$i(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=i4(i4({clipPath:b},tr(this.props,!0)),{},{cx:h,cy:m});return se.createElement(vn,{className:Zt("recharts-reference-dot",v)},t.renderDot(p,g),Kn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(se.Component);F1(L1,"displayName","ReferenceDot");F1(L1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});F1(L1,"renderDot",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):Vt(e)?r=e(t):r=se.createElement(JB,yS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bS.apply(this,arguments)}function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){$1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S9(n.key),n)}}function ADe(e,t,r){return t&&EDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CDe(e,t,r){return t=Gv(t),DDe(e,N9()?Reflect.construct(t,r||[],Gv(e).constructor):t.apply(e,r))}function DDe(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kDe(e)}function kDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(e)}function ODe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jS(e,t)}function jS(e,t){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jS(e,t)}function $1(e,t,r){return t=S9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=PDe(e,"string");return Of(t)=="symbol"?t:t+""}function PDe(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IDe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=sE({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return $i(i,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:u9(m,x)},B1=function(e){function t(){return TDe(this,t),CDe(this,t,arguments)}return ODe(t,e),ADe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;_o(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=cn(a),h=cn(i),m=cn(o),x=cn(l),p=this.props.shape;if(!f&&!h&&!m&&!x&&!p)return null;var v=IDe(f,h,m,x,this.props);if(!v&&!p)return null;var b=$i(this.props,"hidden")?"url(#".concat(d,")"):void 0;return se.createElement(vn,{className:Zt("recharts-reference-area",c)},t.renderRect(p,l4(l4({clipPath:b},tr(this.props,!0)),v)),Kn.renderCallByParent(this.props,v))}}])}(se.Component);$1(B1,"displayName","ReferenceArea");$1(B1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$1(B1,"renderRect",function(e,t){var r;return se.isValidElement(e)?r=se.cloneElement(e,t):Vt(e)?r=e(t):r=se.createElement(aE,bS({},t,{className:"recharts-reference-area-rect"})),r});function _9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function MDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return CCe(n,r)}function RDe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Yv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function FDe(e,t){return _9(e,t+1)}function LDe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:_9(n,u)};var p=c,v,b=function(){return v===void 0&&(v=r(x,p)),v},g=x.coordinate,w=c===0||Yv(e,g,b,d,l);w||(c=0,d=o,u+=1),w&&(d=g+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){$De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $De(e,t,r){return t=BDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BDe(e){var t=UDe(e,"string");return $p(t)=="symbol"?t:t+""}function UDe(e,t){if($p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WDe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],x,p=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);i[h]=m=Hn(Hn({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=Hn(Hn({},m),{},{tickCoord:m.coordinate});var b=Yv(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),i[h]=Hn(Hn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function VDe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Hn(Hn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Yv(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Hn(Hn({},d),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(g){var w=o[g],y,j=function(){return y===void 0&&(y=r(w,g)),y};if(g===0){var N=e*(w.coordinate-e*j()/2-c);o[g]=w=Hn(Hn({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[g]=w=Hn(Hn({},w),{},{tickCoord:w.coordinate});var E=Yv(e,w.tickCoord,j,c,u);E&&(c=w.tickCoord+e*(j()/2+a),o[g]=Hn(Hn({},w),{},{isShow:!0}))},v=0;v<x;v++)p(v);return o}function fE(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Xe(c)||Rl.isSsr)return FDe(a,typeof c=="number"&&Xe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",x=d&&m==="width"?mm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,y){var j=Vt(u)?u(w.value,y):w.value;return m==="width"?MDe(mm(j,{fontSize:t,letterSpacing:r}),x,f):mm(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?ai(a[1].coordinate-a[0].coordinate):1,b=RDe(i,v,m);return c==="equidistantPreserveStart"?LDe(v,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=VDe(v,b,p,a,o,c==="preserveStartEnd"):h=WDe(v,b,p,a,o),h.filter(function(g){return g.isShow}))}var HDe=["viewBox"],zDe=["viewBox"],qDe=["ticks"];function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){hE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nb(e,t){if(e==null)return{};var r=KDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E9(n.key),n)}}function YDe(e,t,r){return t&&d4(e.prototype,t),r&&d4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XDe(e,t,r){return t=Xv(t),QDe(e,T9()?Reflect.construct(t,r||[],Xv(e).constructor):t.apply(e,r))}function QDe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZDe(e)}function ZDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T9=function(){return!!e})()}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(e)}function JDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NS(e,t)}function NS(e,t){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NS(e,t)}function hE(e,t,r){return t=E9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=eke(e,"string");return Pf(t)=="symbol"?t:t+""}function eke(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fh=function(e){function t(r){var n;return GDe(this,t),n=XDe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return JDe(t,e),YDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Nb(n,HDe),l=this.props,c=l.viewBox,u=Nb(l,zDe);return!Md(i,c)||!Md(o,u)||!Md(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,x,p,v,b,g,w=f?-1:1,y=n.tickSize||d,j=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=x=n.coordinate,v=o+ +!f*c,p=v-w*y,g=p-w*h,b=j;break;case"left":p=v=n.coordinate,x=i+ +!f*l,m=x-w*y,b=m-w*h,g=j;break;case"right":p=v=n.coordinate,x=i+ +f*l,m=x+w*y,b=m+w*h,g=j;break;default:m=x=n.coordinate,v=o+ +f*c,p=v+w*y,g=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:x,y2:v},tick:{x:b,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=oa(oa(oa({},tr(this.props,!1)),tr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=oa(oa({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=oa(oa({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return se.createElement("line",xd({},f,{className:Zt("recharts-cartesian-axis-line",_s(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=fE(oa(oa({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=tr(this.props,!1),b=tr(d,!1),g=oa(oa({},v),{},{fill:"none"},tr(c,!1)),w=m.map(function(y,j){var N=o.getTickLineCoord(y),E=N.line,S=N.tick,_=oa(oa(oa(oa({textAnchor:x,verticalAnchor:p},v),{},{stroke:"none",fill:u},b),S),{},{index:j,payload:y,visibleTicksCount:m.length,tickFormatter:f});return se.createElement(vn,xd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},av(o.props,y,j)),c&&se.createElement("line",xd({},g,E,{className:Zt("recharts-cartesian-axis-tick-line",_s(c,"className"))})),d&&t.renderTickItem(d,_,"".concat(Vt(f)?f(y.value,j):y.value).concat(h||"")))});return se.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Nb(f,qDe),x=h;return Vt(c)&&(x=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:se.createElement(vn,{className:Zt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Kn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return se.isValidElement(n)?o=se.cloneElement(n,a):Vt(n)?o=n(a):o=se.createElement(vv,xd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(T.Component);hE(fh,"displayName","CartesianAxis");hE(fh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tke=["x1","y1","x2","y2","key"],rke=["offset"];function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){nke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nke(e,t,r){return t=ake(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ake(e){var t=ske(e,"string");return vu(t)=="symbol"?t:t+""}function ske(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}function h4(e,t){if(e==null)return{};var r=ike(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ike(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oke=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return se.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function A9(e,t){var r;if(se.isValidElement(e))r=se.cloneElement(e,t);else if(Vt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=h4(t,tke),u=tr(c,!1);u.offset;var d=h4(u,rke);r=se.createElement("line",Rc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function lke(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Gn(Gn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return A9(a,u)});return se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function cke(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Gn(Gn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return A9(a,u)});return se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uke(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],p=x?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return se.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dke(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var x=!d[m+1],p=x?i+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return se.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var fke=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return FB(fE(Gn(Gn(Gn({},fh.defaultProps),n),{},{ticks:vo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},hke=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return FB(fE(Gn(Gn(Gn({},fh.defaultProps),n),{},{ticks:vo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Ju={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function C9(e){var t,r,n,a,i,o,l=lE(),c=cE(),u=eDe(),d=Gn(Gn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ju.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ju.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ju.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ju.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ju.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ju.verticalFill,x:Xe(e.x)?e.x:u.left,y:Xe(e.y)?e.y:u.top,width:Xe(e.width)?e.width:u.width,height:Xe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,x=d.height,p=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,g=QCe(),w=ZCe();if(!Xe(m)||m<=0||!Xe(x)||x<=0||!Xe(f)||f!==+f||!Xe(h)||h!==+h)return null;var y=d.verticalCoordinatesGenerator||fke,j=d.horizontalCoordinatesGenerator||hke,N=d.horizontalPoints,E=d.verticalPoints;if((!N||!N.length)&&Vt(j)){var S=v&&v.length,_=j({yAxis:w?Gn(Gn({},w),{},{ticks:S?v:w.ticks}):void 0,width:l,height:c,offset:u},S?!0:p);_o(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vu(_),"]")),Array.isArray(_)&&(N=_)}if((!E||!E.length)&&Vt(y)){var D=b&&b.length,F=y({xAxis:g?Gn(Gn({},g),{},{ticks:D?b:g.ticks}):void 0,width:l,height:c,offset:u},D?!0:p);_o(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vu(F),"]")),Array.isArray(F)&&(E=F)}return se.createElement("g",{className:"recharts-cartesian-grid"},se.createElement(oke,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),se.createElement(lke,Rc({},d,{offset:u,horizontalPoints:N,xAxis:g,yAxis:w})),se.createElement(cke,Rc({},d,{offset:u,verticalPoints:E,xAxis:g,yAxis:w})),se.createElement(uke,Rc({},d,{horizontalPoints:N})),se.createElement(dke,Rc({},d,{verticalPoints:E})))}C9.displayName="CartesianGrid";function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function mke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O9(n.key),n)}}function gke(e,t,r){return t&&pke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xke(e,t,r){return t=Qv(t),vke(e,D9()?Reflect.construct(t,r||[],Qv(e).constructor):t.apply(e,r))}function vke(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yke(e)}function yke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D9=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(e)}function wke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SS(e,t)}function k9(e,t,r){return t=O9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9(e){var t=bke(e,"string");return If(t)=="symbol"?t:t+""}function bke(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_S.apply(this,arguments)}function jke(e){var t=e.xAxisId,r=lE(),n=cE(),a=x9(t);return a==null?null:se.createElement(fh,_S({},a,{className:Zt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return vo(o,!0)}}))}var U1=function(e){function t(){return mke(this,t),xke(this,t,arguments)}return wke(t,e),gke(t,[{key:"render",value:function(){return se.createElement(jke,this.props)}}])}(se.Component);k9(U1,"displayName","XAxis");k9(U1,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function Nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ske(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M9(n.key),n)}}function _ke(e,t,r){return t&&Ske(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tke(e,t,r){return t=Zv(t),Eke(e,P9()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function Eke(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ake(e)}function Ake(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function Cke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TS(e,t)}function I9(e,t,r){return t=M9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M9(e){var t=Dke(e,"string");return Mf(t)=="symbol"?t:t+""}function Dke(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ES.apply(this,arguments)}var kke=function(t){var r=t.yAxisId,n=lE(),a=cE(),i=v9(r);return i==null?null:se.createElement(fh,ES({},i,{className:Zt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return vo(l,!0)}}))},W1=function(e){function t(){return Nke(this,t),Tke(this,t,arguments)}return Cke(t,e),_ke(t,[{key:"render",value:function(){return se.createElement(kke,this.props)}}])}(se.Component);I9(W1,"displayName","YAxis");I9(W1,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function m4(e){return Mke(e)||Ike(e)||Pke(e)||Oke()}function Oke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pke(e,t){if(e){if(typeof e=="string")return AS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AS(e,t)}}function Ike(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mke(e){if(Array.isArray(e))return AS(e)}function AS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CS=function(t,r,n,a,i){var o=ci(t,dE),l=ci(t,L1),c=[].concat(m4(o),m4(l)),u=ci(t,B1),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&$i(v.props,"extendDomain")&&Xe(v.props[f])){var b=v.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&$i(v.props,"extendDomain")&&Xe(v.props[m])&&Xe(v.props[x])){var b=v.props[m],g=v.props[x];return[Math.min(p[0],b,g),Math.max(p[1],b,g)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return Xe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},R9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,x){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,g,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,x),!0}for(w=1,g=new Array(b-1);w<b;w++)g[w-1]=arguments[w];v.fn.apply(v.context,g)}else{var y=v.length,j;for(w=0;w<y;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!g)for(j=1,g=new Array(b-1);j<b;j++)g[j-1]=arguments[j];v[w].fn.apply(v[w].context,g)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var p=0,v=[],b=x.length;p<b;p++)(x[p].fn!==d||h&&!x[p].once||f&&x[p].context!==f)&&v.push(x[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(R9);var Rke=R9.exports;const Fke=yr(Rke);var Sb=new Fke,_b="recharts.syncMouseEvents";function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function Lke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F9(n.key),n)}}function Bke(e,t,r){return t&&$ke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tb(e,t,r){return t=F9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=Uke(e,"string");return Bp(t)=="symbol"?t:t+""}function Uke(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wke=function(){function e(){Lke(this,e),Tb(this,"activeIndex",0),Tb(this,"coordinateList",[]),Tb(this,"layout","horizontal")}return Bke(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Vke(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Xe(n)&&Xe(a))return!0}return!1}function Hke(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function L9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Mn(t,r,n,a),l=Mn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function zke(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Mn(l,c,u,f),m=Mn(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return L9(t);return[{x:n,y:a},{x:i,y:o}]}function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _g(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(n){qke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qke(e,t,r){return t=Kke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kke(e){var t=Gke(e,"string");return Up(t)=="symbol"?t:t+""}function Gke(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yke(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var x,p=fP;if(h==="ScatterChart")x=o,p=lEe;else if(h==="BarChart")x=Hke(f,o,c,d),p=aE;else if(f==="radial"){var v=L9(o),b=v.cx,g=v.cy,w=v.radius,y=v.startAngle,j=v.endAngle;x={cx:b,cy:g,startAngle:y,endAngle:j,innerRadius:w,outerRadius:w},p=WB}else x={points:zke(f,o,c)},p=fP;var N=_g(_g(_g(_g({stroke:"#ccc",pointerEvents:"none"},c),x),tr(m,!1)),{},{payload:l,payloadIndex:u,className:Zt("recharts-tooltip-cursor",m.className)});return T.isValidElement(m)?T.cloneElement(m,N):T.createElement(p,N)}var Xke=["item"],Qke=["children","className","width","height","style","compact","title","desc"];function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function g4(e,t){return eOe(e)||Jke(e,t)||B9(e,t)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eOe(e){if(Array.isArray(e))return e}function x4(e,t){if(e==null)return{};var r=tOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U9(n.key),n)}}function aOe(e,t,r){return t&&nOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sOe(e,t,r){return t=Jv(t),iOe(e,$9()?Reflect.construct(t,r||[],Jv(e).constructor):t.apply(e,r))}function iOe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oOe(e)}function oOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($9=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function lOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DS(e,t)}function DS(e,t){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DS(e,t)}function Ff(e){return dOe(e)||uOe(e)||B9(e)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9(e,t){if(e){if(typeof e=="string")return kS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kS(e,t)}}function uOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dOe(e){if(Array.isArray(e))return kS(e)}function kS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){At(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function At(e,t,r){return t=U9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=fOe(e,"string");return Rf(t)=="symbol"?t:t+""}function fOe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hOe={xAxis:["bottom","top"],yAxis:["left","right"]},mOe={width:"100%",height:"100%"},W9={x:0,y:0};function Tg(e){return e}var pOe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},gOe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Oe(Oe(Oe({},a),Mn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Oe(Oe(Oe({},a),Mn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return W9},V1=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ff(l),Ff(u)):l},[]);return o.length>0?o:t&&t.length&&Xe(a)&&Xe(i)?t.slice(a,i+1):[]};function V9(e){return e==="number"?[0,"auto"]:void 0}var OS=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=V1(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=dN(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Ff(c),[$B(u,h)]):c},[])},y4=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=pOe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=HSe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=OS(t,r,d,f),m=gOe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},xOe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=RB(d,i);return n.reduce(function(x,p){var v,b=p.type.defaultProps!==void 0?Oe(Oe({},p.type.defaultProps),p.props):p.props,g=b.type,w=b.dataKey,y=b.allowDataOverflow,j=b.allowDuplicatedCategory,N=b.scale,E=b.ticks,S=b.includeHidden,_=b[o];if(x[_])return x;var D=V1(t.data,{graphicalItems:a.filter(function(U){var q,Y=o in U.props?U.props[o]:(q=U.type.defaultProps)===null||q===void 0?void 0:q[o];return Y===_}),dataStartIndex:c,dataEndIndex:u}),F=D.length,O,L,k;Vke(b.domain,y,g)&&(O=ZN(b.domain,null,y),m&&(g==="number"||N!=="auto")&&(k=gm(D,w,"category")));var P=V9(g);if(!O||O.length===0){var I,M=(I=b.domain)!==null&&I!==void 0?I:P;if(w){if(O=gm(D,w,g),g==="category"&&m){var C=Ode(O);j&&C?(L=O,O=Uv(0,F)):j||(O=JO(M,O,p).reduce(function(U,q){return U.indexOf(q)>=0?U:[].concat(Ff(U),[q])},[]))}else if(g==="category")j?O=O.filter(function(U){return U!==""&&!sr(U)}):O=JO(M,O,p).reduce(function(U,q){return U.indexOf(q)>=0||q===""||sr(q)?U:[].concat(Ff(U),[q])},[]);else if(g==="number"){var R=YSe(D,a.filter(function(U){var q,Y,Q=o in U.props?U.props[o]:(q=U.type.defaultProps)===null||q===void 0?void 0:q[o],Z="hide"in U.props?U.props.hide:(Y=U.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return Q===_&&(S||!Z)}),w,i,d);R&&(O=R)}m&&(g==="number"||N!=="auto")&&(k=gm(D,w,"category"))}else m?O=Uv(0,F):l&&l[_]&&l[_].hasStack&&g==="number"?O=h==="expand"?[0,1]:LB(l[_].stackGroups,c,u):O=MB(D,a.filter(function(U){var q=o in U.props?U.props[o]:U.type.defaultProps[o],Y="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return q===_&&(S||!Y)}),g,d,!0);if(g==="number")O=CS(f,O,_,i,E),M&&(O=ZN(M,O,y));else if(g==="category"&&M){var z=M,J=O.every(function(U){return z.indexOf(U)>=0});J&&(O=z)}}return Oe(Oe({},x),{},At({},_,Oe(Oe({},b),{},{axisType:i,domain:O,categoricalDomain:k,duplicateDomain:L,originalDomain:(v=b.domain)!==null&&v!==void 0?v:P,isCategorical:m,layout:d})))},{})},vOe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=V1(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,x=RB(d,i),p=-1;return n.reduce(function(v,b){var g=b.type.defaultProps!==void 0?Oe(Oe({},b.type.defaultProps),b.props):b.props,w=g[o],y=V9("number");if(!v[w]){p++;var j;return x?j=Uv(0,m):l&&l[w]&&l[w].hasStack?(j=LB(l[w].stackGroups,c,u),j=CS(f,j,w,i)):(j=ZN(y,MB(h,n.filter(function(N){var E,S,_=o in N.props?N.props[o]:(E=N.type.defaultProps)===null||E===void 0?void 0:E[o],D="hide"in N.props?N.props.hide:(S=N.type.defaultProps)===null||S===void 0?void 0:S.hide;return _===w&&!D}),"number",d),a.defaultProps.allowDataOverflow),j=CS(f,j,w,i)),Oe(Oe({},v),{},At({},w,Oe(Oe({axisType:i},a.defaultProps),{},{hide:!0,orientation:_s(hOe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:y,isCategorical:x,layout:d})))}return v},{})},yOe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ci(d,i),m={};return h&&h.length?m=xOe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=vOe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},wOe=function(t){var r=ll(t),n=vo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:DT(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ov(r,n)}},w4=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ha(r,Af),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},bOe=function(t){return!t||!t.length?!1:t.some(function(r){var n=So(r&&r.type);return n&&n.indexOf("Bar")>=0})},b4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jOe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Ha(f,Af),x=Ha(f,Rd),p=Object.keys(c).reduce(function(j,N){var E=c[N],S=E.orientation;return!E.mirror&&!E.hide?Oe(Oe({},j),{},At({},S,j[S]+E.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,N){var E=o[N],S=E.orientation;return!E.mirror&&!E.hide?Oe(Oe({},j),{},At({},S,_s(j,"".concat(S))+E.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=Oe(Oe({},v),p),g=b.bottom;m&&(b.bottom+=m.props.height||Af.defaultProps.height),x&&r&&(b=KSe(b,a,n,r));var w=u-b.left-b.right,y=d-b.top-b.bottom;return Oe(Oe({brushBottom:g},b),{},{width:Math.max(w,0),height:Math.max(y,0)})},NOe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},SOe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,g){var w=g.graphicalItems,y=g.stackGroups,j=g.offset,N=g.updateId,E=g.dataStartIndex,S=g.dataEndIndex,_=b.barSize,D=b.layout,F=b.barGap,O=b.barCategoryGap,L=b.maxBarSize,k=b4(D),P=k.numericAxisName,I=k.cateAxisName,M=bOe(w),C=[];return w.forEach(function(R,z){var J=V1(b.data,{graphicalItems:[R],dataStartIndex:E,dataEndIndex:S}),U=R.type.defaultProps!==void 0?Oe(Oe({},R.type.defaultProps),R.props):R.props,q=U.dataKey,Y=U.maxBarSize,Q=U["".concat(P,"Id")],Z=U["".concat(I,"Id")],ue={},he=c.reduce(function(be,H){var te=g["".concat(H.axisType,"Map")],me=U["".concat(H.axisType,"Id")];te&&te[me]||H.axisType==="zAxis"||xu();var Re=te[me];return Oe(Oe({},be),{},At(At({},H.axisType,Re),"".concat(H.axisType,"Ticks"),vo(Re)))},ue),G=he[I],re=he["".concat(I,"Ticks")],de=y&&y[Q]&&y[Q].hasStack&&o2e(R,y[Q].stackGroups),ne=So(R.type).indexOf("Bar")>=0,Ee=Ov(G,re),Ce=[],De=M&&zSe({barSize:_,stackGroups:y,totalSize:NOe(he,I)});if(ne){var Pe,ce,$e=sr(Y)?L:Y,ct=(Pe=(ce=Ov(G,re,!0))!==null&&ce!==void 0?ce:$e)!==null&&Pe!==void 0?Pe:0;Ce=qSe({barGap:F,barCategoryGap:O,bandSize:ct!==Ee?ct:Ee,sizeList:De[Z],maxBarSize:$e}),ct!==Ee&&(Ce=Ce.map(function(be){return Oe(Oe({},be),{},{position:Oe(Oe({},be.position),{},{offset:be.position.offset-ct/2})})}))}var zt=R&&R.type&&R.type.getComposedData;zt&&C.push({props:Oe(Oe({},zt(Oe(Oe({},he),{},{displayedData:J,props:b,dataKey:q,item:R,bandSize:Ee,barPosition:Ce,offset:j,stackedData:de,layout:D,dataStartIndex:E,dataEndIndex:S}))),{},At(At(At({key:R.key||"item-".concat(z)},P,he[P]),I,he[I]),"animationId",N)),childIndex:Vde(R,b.children),item:R})}),C},m=function(b,g){var w=b.props,y=b.dataStartIndex,j=b.dataEndIndex,N=b.updateId;if(!KD({props:w}))return null;var E=w.children,S=w.layout,_=w.stackOffset,D=w.data,F=w.reverseStackOrder,O=b4(S),L=O.numericAxisName,k=O.cateAxisName,P=ci(E,n),I=a2e(D,P,"".concat(L,"Id"),"".concat(k,"Id"),_,F),M=c.reduce(function(U,q){var Y="".concat(q.axisType,"Map");return Oe(Oe({},U),{},At({},Y,yOe(w,Oe(Oe({},q),{},{graphicalItems:P,stackGroups:q.axisType===L&&I,dataStartIndex:y,dataEndIndex:j}))))},{}),C=jOe(Oe(Oe({},M),{},{props:w,graphicalItems:P}),g==null?void 0:g.legendBBox);Object.keys(M).forEach(function(U){M[U]=d(w,M[U],C,U.replace("Map",""),r)});var R=M["".concat(k,"Map")],z=wOe(R),J=h(w,Oe(Oe({},M),{},{dataStartIndex:y,dataEndIndex:j,updateId:N,graphicalItems:P,stackGroups:I,offset:C}));return Oe(Oe({formattedGraphicalItems:J,graphicalItems:P,offset:C,stackGroups:I},z),M)},x=function(v){function b(g){var w,y,j;return rOe(this,b),j=sOe(this,b,[g]),At(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(j,"accessibilityManager",new Wke),At(j,"handleLegendBBoxUpdate",function(N){if(N){var E=j.state,S=E.dataStartIndex,_=E.dataEndIndex,D=E.updateId;j.setState(Oe({legendBBox:N},m({props:j.props,dataStartIndex:S,dataEndIndex:_,updateId:D},Oe(Oe({},j.state),{},{legendBBox:N}))))}}),At(j,"handleReceiveSyncEvent",function(N,E,S){if(j.props.syncId===N){if(S===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(E)}}),At(j,"handleBrushChange",function(N){var E=N.startIndex,S=N.endIndex;if(E!==j.state.dataStartIndex||S!==j.state.dataEndIndex){var _=j.state.updateId;j.setState(function(){return Oe({dataStartIndex:E,dataEndIndex:S},m({props:j.props,dataStartIndex:E,dataEndIndex:S,updateId:_},j.state))}),j.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),At(j,"handleMouseEnter",function(N){var E=j.getMouseInfo(N);if(E){var S=Oe(Oe({},E),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var _=j.props.onMouseEnter;Vt(_)&&_(S,N)}}),At(j,"triggeredAfterMouseMove",function(N){var E=j.getMouseInfo(N),S=E?Oe(Oe({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var _=j.props.onMouseMove;Vt(_)&&_(S,N)}),At(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),At(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),At(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),At(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var S=j.props.onMouseLeave;Vt(S)&&S(E,N)}),At(j,"handleOuterEvent",function(N){var E=Wde(N),S=_s(j.props,"".concat(E));if(E&&Vt(S)){var _,D;/.*touch.*/i.test(E)?D=j.getMouseInfo(N.changedTouches[0]):D=j.getMouseInfo(N),S((_=D)!==null&&_!==void 0?_:{},N)}}),At(j,"handleClick",function(N){var E=j.getMouseInfo(N);if(E){var S=Oe(Oe({},E),{},{isTooltipActive:!0});j.setState(S),j.triggerSyncEvent(S);var _=j.props.onClick;Vt(_)&&_(S,N)}}),At(j,"handleMouseDown",function(N){var E=j.props.onMouseDown;if(Vt(E)){var S=j.getMouseInfo(N);E(S,N)}}),At(j,"handleMouseUp",function(N){var E=j.props.onMouseUp;if(Vt(E)){var S=j.getMouseInfo(N);E(S,N)}}),At(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),At(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),At(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),At(j,"handleDoubleClick",function(N){var E=j.props.onDoubleClick;if(Vt(E)){var S=j.getMouseInfo(N);E(S,N)}}),At(j,"handleContextMenu",function(N){var E=j.props.onContextMenu;if(Vt(E)){var S=j.getMouseInfo(N);E(S,N)}}),At(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&Sb.emit(_b,j.props.syncId,N,j.eventEmitterSymbol)}),At(j,"applySyncEvent",function(N){var E=j.props,S=E.layout,_=E.syncMethod,D=j.state.updateId,F=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(Oe({dataStartIndex:F,dataEndIndex:O},m({props:j.props,dataStartIndex:F,dataEndIndex:O,updateId:D},j.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,k=N.chartY,P=N.activeTooltipIndex,I=j.state,M=I.offset,C=I.tooltipTicks;if(!M)return;if(typeof _=="function")P=_(C,N);else if(_==="value"){P=-1;for(var R=0;R<C.length;R++)if(C[R].value===N.activeLabel){P=R;break}}var z=Oe(Oe({},M),{},{x:M.left,y:M.top}),J=Math.min(L,z.x+z.width),U=Math.min(k,z.y+z.height),q=C[P]&&C[P].value,Y=OS(j.state,j.props.data,P),Q=C[P]?{x:S==="horizontal"?C[P].coordinate:J,y:S==="horizontal"?U:C[P].coordinate}:W9;j.setState(Oe(Oe({},N),{},{activeLabel:q,activeCoordinate:Q,activePayload:Y,activeTooltipIndex:P}))}else j.setState(N)}),At(j,"renderCursor",function(N){var E,S=j.state,_=S.isTooltipActive,D=S.activeCoordinate,F=S.activePayload,O=S.offset,L=S.activeTooltipIndex,k=S.tooltipAxisBandSize,P=j.getTooltipEventType(),I=(E=N.props.active)!==null&&E!==void 0?E:_,M=j.props.layout,C=N.key||"_recharts-cursor";return se.createElement(Yke,{key:C,activeCoordinate:D,activePayload:F,activeTooltipIndex:L,chartName:r,element:N,isActive:I,layout:M,offset:O,tooltipAxisBandSize:k,tooltipEventType:P})}),At(j,"renderPolarAxis",function(N,E,S){var _=_s(N,"type.axisType"),D=_s(j.state,"".concat(_,"Map")),F=N.type.defaultProps,O=F!==void 0?Oe(Oe({},F),N.props):N.props,L=D&&D[O["".concat(_,"Id")]];return T.cloneElement(N,Oe(Oe({},L),{},{className:Zt(_,L.className),key:N.key||"".concat(E,"-").concat(S),ticks:vo(L,!0)}))}),At(j,"renderPolarGrid",function(N){var E=N.props,S=E.radialLines,_=E.polarAngles,D=E.polarRadius,F=j.state,O=F.radiusAxisMap,L=F.angleAxisMap,k=ll(O),P=ll(L),I=P.cx,M=P.cy,C=P.innerRadius,R=P.outerRadius;return T.cloneElement(N,{polarAngles:Array.isArray(_)?_:vo(P,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(D)?D:vo(k,!0).map(function(z){return z.coordinate}),cx:I,cy:M,innerRadius:C,outerRadius:R,key:N.key||"polar-grid",radialLines:S})}),At(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,E=j.props,S=E.children,_=E.width,D=E.height,F=j.props.margin||{},O=_-(F.left||0)-(F.right||0),L=PB({children:S,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!L)return null;var k=L.item,P=x4(L,Xke);return T.cloneElement(k,Oe(Oe({},P),{},{chartWidth:_,chartHeight:D,margin:F,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),At(j,"renderTooltip",function(){var N,E=j.props,S=E.children,_=E.accessibilityLayer,D=Ha(S,so);if(!D)return null;var F=j.state,O=F.isTooltipActive,L=F.activeCoordinate,k=F.activePayload,P=F.activeLabel,I=F.offset,M=(N=D.props.active)!==null&&N!==void 0?N:O;return T.cloneElement(D,{viewBox:Oe(Oe({},I),{},{x:I.left,y:I.top}),active:M,label:P,payload:M?k:[],coordinate:L,accessibilityLayer:_})}),At(j,"renderBrush",function(N){var E=j.props,S=E.margin,_=E.data,D=j.state,F=D.offset,O=D.dataStartIndex,L=D.dataEndIndex,k=D.updateId;return T.cloneElement(N,{key:N.key||"_recharts-brush",onChange:bg(j.handleBrushChange,N.props.onChange),data:_,x:Xe(N.props.x)?N.props.x:F.left,y:Xe(N.props.y)?N.props.y:F.top+F.height+F.brushBottom-(S.bottom||0),width:Xe(N.props.width)?N.props.width:F.width,startIndex:O,endIndex:L,updateId:"brush-".concat(k)})}),At(j,"renderReferenceElement",function(N,E,S){if(!N)return null;var _=j,D=_.clipPathId,F=j.state,O=F.xAxisMap,L=F.yAxisMap,k=F.offset,P=N.type.defaultProps||{},I=N.props,M=I.xAxisId,C=M===void 0?P.xAxisId:M,R=I.yAxisId,z=R===void 0?P.yAxisId:R;return T.cloneElement(N,{key:N.key||"".concat(E,"-").concat(S),xAxis:O[C],yAxis:L[z],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:D})}),At(j,"renderActivePoints",function(N){var E=N.item,S=N.activePoint,_=N.basePoint,D=N.childIndex,F=N.isRange,O=[],L=E.props.key,k=E.item.type.defaultProps!==void 0?Oe(Oe({},E.item.type.defaultProps),E.item.props):E.item.props,P=k.activeDot,I=k.dataKey,M=Oe(Oe({index:D,dataKey:I,cx:S.x,cy:S.y,r:4,fill:nE(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},tr(P,!1)),nv(P));return O.push(b.renderActiveDot(P,M,"".concat(L,"-activePoint-").concat(D))),_?O.push(b.renderActiveDot(P,Oe(Oe({},M),{},{cx:_.x,cy:_.y}),"".concat(L,"-basePoint-").concat(D))):F&&O.push(null),O}),At(j,"renderGraphicChild",function(N,E,S){var _=j.filterFormatItem(N,E,S);if(!_)return null;var D=j.getTooltipEventType(),F=j.state,O=F.isTooltipActive,L=F.tooltipAxis,k=F.activeTooltipIndex,P=F.activeLabel,I=j.props.children,M=Ha(I,so),C=_.props,R=C.points,z=C.isRange,J=C.baseLine,U=_.item.type.defaultProps!==void 0?Oe(Oe({},_.item.type.defaultProps),_.item.props):_.item.props,q=U.activeDot,Y=U.hide,Q=U.activeBar,Z=U.activeShape,ue=!!(!Y&&O&&M&&(q||Q||Z)),he={};D!=="axis"&&M&&M.props.trigger==="click"?he={onClick:bg(j.handleItemMouseEnter,N.props.onClick)}:D!=="axis"&&(he={onMouseLeave:bg(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:bg(j.handleItemMouseEnter,N.props.onMouseEnter)});var G=T.cloneElement(N,Oe(Oe({},_.props),he));function re(H){return typeof L.dataKey=="function"?L.dataKey(H.payload):null}if(ue)if(k>=0){var de,ne;if(L.dataKey&&!L.allowDuplicatedCategory){var Ee=typeof L.dataKey=="function"?re:"payload.".concat(L.dataKey.toString());de=dN(R,Ee,P),ne=z&&J&&dN(J,Ee,P)}else de=R==null?void 0:R[k],ne=z&&J&&J[k];if(Z||Q){var Ce=N.props.activeIndex!==void 0?N.props.activeIndex:k;return[T.cloneElement(N,Oe(Oe(Oe({},_.props),he),{},{activeIndex:Ce})),null,null]}if(!sr(de))return[G].concat(Ff(j.renderActivePoints({item:_,activePoint:de,basePoint:ne,childIndex:k,isRange:z})))}else{var De,Pe=(De=j.getItemByXY(j.state.activeCoordinate))!==null&&De!==void 0?De:{graphicalItem:G},ce=Pe.graphicalItem,$e=ce.item,ct=$e===void 0?N:$e,zt=ce.childIndex,be=Oe(Oe(Oe({},_.props),he),{},{activeIndex:zt});return[T.cloneElement(ct,be),null,null]}return z?[G,null,null]:[G,null]}),At(j,"renderCustomized",function(N,E,S){return T.cloneElement(N,Oe(Oe({key:"recharts-customized-".concat(S)},j.props),j.state))}),At(j,"renderMap",{CartesianGrid:{handler:Tg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Tg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Tg},YAxis:{handler:Tg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=g.id)!==null&&w!==void 0?w:p1("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=O8(j.triggeredAfterMouseMove,(y=g.throttleDelay)!==null&&y!==void 0?y:1e3/60),j.state={},j}return lOe(b,v),aOe(b,[{key:"componentDidMount",value:function(){var w,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,y=w.children,j=w.data,N=w.height,E=w.layout,S=Ha(y,so);if(S){var _=S.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,F=OS(this.state,j,_,D),O=this.state.tooltipTicks[_].coordinate,L=(this.state.offset.top+N)/2,k=E==="horizontal",P=k?{x:O,y:L}:{y:O,x:L},I=this.state.formattedGraphicalItems.find(function(C){var R=C.item;return R.type.name==="Scatter"});I&&(P=Oe(Oe({},P),I.props.points[_].tooltipPosition),F=I.props.points[_].tooltipPayload);var M={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:D,activePayload:F,activeCoordinate:P};this.setState(M),this.renderCursor(S),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){hN([Ha(w.children,so)],[Ha(this.props.children,so)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ha(this.props.children,so);if(w&&typeof w.props.shared=="boolean"){var y=w.props.shared?"axis":"item";return l.indexOf(y)>=0?y:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var y=this.container,j=y.getBoundingClientRect(),N=gwe(j),E={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},S=j.width/y.offsetWidth||1,_=this.inRange(E.chartX,E.chartY,S);if(!_)return null;var D=this.state,F=D.xAxisMap,O=D.yAxisMap,L=this.getTooltipEventType(),k=y4(this.state,this.props.data,this.props.layout,_);if(L!=="axis"&&F&&O){var P=ll(F).scale,I=ll(O).scale,M=P&&P.invert?P.invert(E.chartX):null,C=I&&I.invert?I.invert(E.chartY):null;return Oe(Oe({},E),{},{xValue:M,yValue:C},k)}return k?Oe(Oe({},E),k):null}},{key:"inRange",value:function(w,y){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,E=w/j,S=y/j;if(N==="horizontal"||N==="vertical"){var _=this.state.offset,D=E>=_.left&&E<=_.left+_.width&&S>=_.top&&S<=_.top+_.height;return D?{x:E,y:S}:null}var F=this.state,O=F.angleAxisMap,L=F.radiusAxisMap;if(O&&L){var k=ll(O);return rP({x:E,y:S},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,y=this.getTooltipEventType(),j=Ha(w,so),N={};j&&y==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=nv(this.props,this.handleOuterEvent);return Oe(Oe({},E),N)}},{key:"addListener",value:function(){Sb.on(_b,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sb.removeListener(_b,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,y,j){for(var N=this.state.formattedGraphicalItems,E=0,S=N.length;E<S;E++){var _=N[E];if(_.item===w||_.props.key===w.key||y===So(_.item.type)&&j===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,y=this.state.offset,j=y.left,N=y.top,E=y.height,S=y.width;return se.createElement("defs",null,se.createElement("clipPath",{id:w},se.createElement("rect",{x:j,y:N,height:E,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(y,j){var N=g4(j,2),E=N[0],S=N[1];return Oe(Oe({},y),{},At({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(y,j){var N=g4(j,2),E=N[0],S=N[1];return Oe(Oe({},y),{},At({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[w])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(w){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[w])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(w){var y=this.state,j=y.formattedGraphicalItems,N=y.activeItem;if(j&&j.length)for(var E=0,S=j.length;E<S;E++){var _=j[E],D=_.props,F=_.item,O=F.type.defaultProps!==void 0?Oe(Oe({},F.type.defaultProps),F.props):F.props,L=So(F.type);if(L==="Bar"){var k=(D.data||[]).find(function(C){return ZTe(w,C)});if(k)return{graphicalItem:_,payload:k}}else if(L==="RadialBar"){var P=(D.data||[]).find(function(C){return rP(w,C)});if(P)return{graphicalItem:_,payload:P}}else if(I1(_,N)||M1(_,N)||Mp(_,N)){var I=tAe({graphicalItem:_,activeTooltipItem:N,itemData:O.data}),M=O.activeIndex===void 0?I:O.activeIndex;return{graphicalItem:Oe(Oe({},_),{},{childIndex:M}),payload:Mp(_,N)?O.data[I]:_.props.data[I]}}}return null}},{key:"render",value:function(){var w=this;if(!KD(this))return null;var y=this.props,j=y.children,N=y.className,E=y.width,S=y.height,_=y.style,D=y.compact,F=y.title,O=y.desc,L=x4(y,Qke),k=tr(L,!1);if(D)return se.createElement(t4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement(pN,vd({},k,{width:E,height:S,title:F,desc:O}),this.renderClipPath(),YD(j,this.renderMap)));if(this.props.accessibilityLayer){var P,I;k.tabIndex=(P=this.props.tabIndex)!==null&&P!==void 0?P:0,k.role=(I=this.props.role)!==null&&I!==void 0?I:"application",k.onKeyDown=function(C){w.accessibilityManager.keyboardEvent(C)},k.onFocus=function(){w.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return se.createElement(t4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},se.createElement("div",vd({className:Zt("recharts-wrapper",N),style:Oe({position:"relative",cursor:"default",width:E,height:S},_)},M,{ref:function(R){w.container=R}}),se.createElement(pN,vd({},k,{width:E,height:S,title:F,desc:O,style:mOe}),this.renderClipPath(),YD(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);At(x,"displayName",r),At(x,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),At(x,"getDerivedStateFromProps",function(v,b){var g=v.dataKey,w=v.data,y=v.children,j=v.width,N=v.height,E=v.layout,S=v.stackOffset,_=v.margin,D=b.dataStartIndex,F=b.dataEndIndex;if(b.updateId===void 0){var O=w4(v);return Oe(Oe(Oe({},O),{},{updateId:0},m(Oe(Oe({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:g,prevData:w,prevWidth:j,prevHeight:N,prevLayout:E,prevStackOffset:S,prevMargin:_,prevChildren:y})}if(g!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||N!==b.prevHeight||E!==b.prevLayout||S!==b.prevStackOffset||!Md(_,b.prevMargin)){var L=w4(v),k={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},P=Oe(Oe({},y4(b,w,E)),{},{updateId:b.updateId+1}),I=Oe(Oe(Oe({},L),k),P);return Oe(Oe(Oe({},I),m(Oe({props:v},I),b)),{},{prevDataKey:g,prevData:w,prevWidth:j,prevHeight:N,prevLayout:E,prevStackOffset:S,prevMargin:_,prevChildren:y})}if(!hN(y,b.prevChildren)){var M,C,R,z,J=Ha(y,Af),U=J&&(M=(C=J.props)===null||C===void 0?void 0:C.startIndex)!==null&&M!==void 0?M:D,q=J&&(R=(z=J.props)===null||z===void 0?void 0:z.endIndex)!==null&&R!==void 0?R:F,Y=U!==D||q!==F,Q=!sr(w),Z=Q&&!Y?b.updateId:b.updateId+1;return Oe(Oe({updateId:Z},m(Oe(Oe({props:v},b),{},{updateId:Z,dataStartIndex:U,dataEndIndex:q}),b)),{},{prevChildren:y,dataStartIndex:U,dataEndIndex:q})}return null}),At(x,"renderActiveDot",function(v,b,g){var w;return T.isValidElement(v)?w=T.cloneElement(v,b):Vt(v)?w=v(b):w=se.createElement(JB,b),se.createElement(vn,{className:"recharts-active-dot",key:g},w)});var p=T.forwardRef(function(b,g){return se.createElement(x,vd({},b,{ref:g}))});return p.displayName=x.displayName,p},_Oe=SOe({chartName:"BarChart",GraphicalChild:Iu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:U1},{axisType:"yAxis",AxisComp:W1}],formatAxisMap:TCe});function H9(){const[e,t]=T.useState("2024"),[r,n]=T.useState("Yearly"),[a,i]=T.useState(new Date().getMonth()),[o,l]=T.useState(new Date().getFullYear()),c=localStorage.getItem("user_id")||"2161";console.log("[NewEmployeeOverview] Loading component for user:",c);const{data:u=[],isLoading:d}=Le({queryKey:[`/api/leave-requests?userId=${c}`],staleTime:0,refetchOnMount:!0}),{data:f=[],isLoading:h}=Le({queryKey:[`/api/employee-leave-balances/${c}`],staleTime:0,refetchOnMount:!0}),{data:m=[]}=Le({queryKey:[`/api/pto-requests?userId=${c}`],staleTime:0}),{data:x=[]}=Le({queryKey:[`/api/comp-off-requests?userId=${c}`],staleTime:0});Le({queryKey:[`/api/leave-balance-transactions/${c}`],staleTime:0});const p=u,v=f,b=m,g=x,w=p.length,y=p.filter(P=>P.status==="approved");y.length;const j=p.filter(P=>P.status==="pending").length;p.filter(P=>P.status==="rejected").length;const N=y.reduce((P,I)=>{const M=I.workingDays?parseFloat(I.workingDays.toString()):0;return P+(isNaN(M)?0:M)},0);console.log("[NewEmployeeOverview] Approved leaves for calendar:",y.map(P=>({id:P.id,startDate:P.startDate,endDate:P.endDate})));const E=v.reduce((P,I)=>{const M=I.currentBalance?parseFloat(I.currentBalance.toString())/2:0;return P+(isNaN(M)?0:M)},0),S=v.reduce((P,I)=>{const M=I.entitlement?parseFloat(I.entitlement.toString())/2:0;return P+(isNaN(M)?0:M)},0),D=(()=>{const P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];console.log("[UsageTrends] DEBUG - Total leave requests:",p.length),console.log("[UsageTrends] DEBUG - Approved leaves:",y.length),console.log("[UsageTrends] DEBUG - Pending leaves:",p.filter(M=>M.status==="pending").length);const I=p;return console.log("[UsageTrends] DEBUG - Using leaves for trends:",I.map(M=>({id:M.id,startDate:M.startDate,year:new Date(M.startDate).getFullYear(),month:new Date(M.startDate).getMonth(),workingDays:M.workingDays,status:M.status}))),P.map((M,C)=>{const R=I.filter(J=>{const U=new Date(J.startDate),q=U.getMonth(),Y=U.getFullYear();return q===C&&Y===2025});console.log(`[UsageTrends] ${M} (${C}) - Found ${R.length} leaves:`,R.map(J=>({startDate:J.startDate,workingDays:J.workingDays,status:J.status})));const z=R.reduce((J,U)=>{var Y;const q=parseFloat(((Y=U.workingDays)==null?void 0:Y.toString())||"0");return console.log(`[UsageTrends] Adding ${q} days from leave:`,U.startDate,U.status),J+q},0);return console.log(`[UsageTrends] ${M} total usage:`,z),{month:M,usage:z}})})();console.log("[NewEmployeeOverview] Usage trends data:",D),console.log("[NewEmployeeOverview] Total approved leaves:",y.length),console.log("[NewEmployeeOverview] Sample approved leave:",y[0]);const F=(P,I)=>new Date(I,P+1,0).getDate(),O=(P,I)=>new Date(I,P,1).getDay(),L=P=>{P==="prev"?a===0?(i(11),l(o-1)):i(a-1):a===11?(i(0),l(o+1)):i(a+1)},k=()=>{const P=F(a,o),I=O(a,o),M=[];for(let C=0;C<I;C++)M.push(s.jsx("div",{className:"h-8"},`empty-${C}`));for(let C=1;C<=P;C++){const R=new Date(o,a,C);R.toISOString().split("T")[0];const z=p.some(q=>{const Y=new Date(q.startDate),Q=new Date(q.endDate);return Y.setHours(0,0,0,0),Q.setHours(23,59,59,999),R.setHours(12,0,0,0),R>=Y&&R<=Q}),J=p.find(q=>{const Y=new Date(q.startDate),Q=new Date(q.endDate);return Y.setHours(0,0,0,0),Q.setHours(23,59,59,999),R.setHours(12,0,0,0),R>=Y&&R<=Q});let U="h-8 flex items-center justify-center text-sm rounded ";if(z&&J)switch(J.status){case"approved":U+="bg-green-100 text-green-800 font-medium";break;case"pending":U+="bg-orange-100 text-orange-800 font-medium";break;case"rejected":U+="bg-red-100 text-red-800 font-medium";break;default:U+="bg-gray-100 text-gray-800 font-medium"}else U+="hover:bg-gray-100 text-gray-700";M.push(s.jsx("div",{className:U,children:C},C))}return M};return d||h?s.jsx("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(P=>s.jsx("div",{className:"h-24 bg-gray-200 rounded"},P))})]})}):s.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Employee Overview"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Your leave analytics and applications dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Nt,{value:e,onValueChange:t,children:[s.jsx(wt,{className:"w-32",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"2024",children:"2024"}),s.jsx(Ae,{value:"2025",children:"2025"})]})]}),s.jsxs(Nt,{value:r,onValueChange:n,children:[s.jsx(wt,{className:"w-32",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"Yearly",children:"Yearly"}),s.jsx(Ae,{value:"Monthly",children:"Monthly"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Leaves"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Math.round(S)||0})]}),s.jsx(wr,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Availed"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Math.round(N)||0})]}),s.jsx(gn,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approvals"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:j})]}),s.jsx(yn,{className:"h-8 w-8 text-orange-500"})]})})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Balance"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Math.round(E)||0})]}),s.jsx(LH,{className:"h-8 w-8 text-purple-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center gap-2",children:[s.jsx(wx,{className:"h-5 w-5"}),"Recent Applications"]})}),s.jsx(_e,{children:s.jsxs(P_,{defaultValue:"leaves",className:"space-y-4",children:[s.jsxs(Vy,{className:"grid w-full grid-cols-3",children:[s.jsxs(Il,{value:"leaves",children:["Leaves (",w,")"]}),s.jsxs(Il,{value:"pto",children:["PTO (",b.length,")"]}),s.jsxs(Il,{value:"compoff",children:["Comp-off (",g.length,")"]})]}),s.jsx(Ml,{value:"leaves",className:"space-y-4",children:p.length>0?s.jsx("div",{className:"space-y-3",children:p.slice(0,5).map((P,I)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Leave Request"}),s.jsx($t,{variant:P.status==="approved"?"default":P.status==="pending"?"secondary":"destructive",children:P.status})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(P.startDate).toLocaleDateString()," - ",new Date(P.endDate).toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[P.workingDays," working days"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm text-gray-500",children:new Date(P.createdAt).toLocaleDateString()})})]},I))}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No leave applications found"})}),s.jsx(Ml,{value:"pto",children:s.jsx("div",{className:"text-center py-8 text-gray-500",children:b.length===0?"No PTO requests found":`${b.length} PTO requests`})}),s.jsx(Ml,{value:"compoff",children:s.jsx("div",{className:"text-center py-8 text-gray-500",children:g.length===0?"No comp-off requests found":`${g.length} comp-off requests`})})]})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Leave Usage Trends"})}),s.jsxs(_e,{children:[s.jsx("div",{className:"h-80",children:s.jsx(cwe,{width:"100%",height:"100%",children:s.jsxs(_Oe,{data:D,children:[s.jsx(C9,{strokeDasharray:"3 3"}),s.jsx(U1,{dataKey:"month"}),s.jsx(W1,{}),s.jsx(Iu,{dataKey:"usage",fill:"#3B82F6"})]})})}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded text-xs",children:[s.jsx("p",{className:"font-medium mb-2",children:"Chart Debug Data:"}),s.jsxs("p",{children:["Total requests: ",p.length]}),s.jsxs("p",{children:["Approved: ",y.length]}),s.jsxs("p",{children:["Chart data points: ",D.length]}),s.jsx("div",{className:"mt-2",children:D.filter(P=>P.usage>0).map(P=>s.jsxs("span",{className:"mr-2",children:[P.month,": ",P.usage]},P.month))})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(mt,{children:"Leave Calendar"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>L("prev"),children:s.jsx(Vl,{className:"h-4 w-4"})}),s.jsx("span",{className:"font-medium",children:new Date(o,a).toLocaleDateString("default",{month:"long",year:"numeric"})}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>L("next"),children:s.jsx(Ss,{className:"h-4 w-4"})})]})]})}),s.jsx(_e,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>s.jsx("div",{className:"p-2 text-sm font-medium text-gray-500",children:P},P)),k()]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-100 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Approved"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-100 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Pending"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-100 rounded"}),s.jsx("span",{className:"text-gray-600",children:"Rejected"})]})]})]})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Leave Balances"})}),s.jsx(_e,{children:s.jsx("div",{className:"space-y-3",children:v.map((P,I)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:P.leaveTypeName}),s.jsx("p",{className:"text-sm text-gray-500",children:P.leaveVariantName})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:Math.round(P.currentBalance/2)}),s.jsx("p",{className:"text-sm text-gray-500",children:"days"})]})]},I))})})]})]})]})]})}function TOe(){return s.jsx(H9,{})}function Eb({className:e,...t}){return s.jsx("div",{className:tt("animate-pulse rounded-md bg-muted",e),...t})}function EOe(){a0();const[e,t]=T.useState(null),[r,n]=T.useState(!1);T.useEffect(()=>{const x=localStorage.getItem("role"),p=localStorage.getItem("role_name");console.log("[HOME] Role debugging:",{"localStorage.role":x,"localStorage.role_name":p});const v=p||x;localStorage.getItem("org_id"),console.log("[HOME] Final role selected:",v),v?t(v):n(!0)},[]);const a=x=>{localStorage.setItem("role",x),t(x),n(!1)},{data:i,isLoading:o,error:l}=Le({queryKey:["/api/company"],staleTime:10*60*1e3,refetchOnWindowFocus:!1,refetchInterval:!1,retry:1}),c=localStorage.getItem("org_id");console.log(`[DEBUG] Current org_id from localStorage: ${c}`);const u=i?i.orgId:null;if(console.log(`[DEBUG] Company orgId from API: ${u}`),r)return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsxs(Ne,{className:"w-full max-w-md mx-4",children:[s.jsxs(ht,{className:"text-center",children:[s.jsx(mt,{className:"text-2xl font-bold text-gray-900",children:"Choose Your Role"}),s.jsx("p",{className:"text-gray-600",children:"Select your role to continue"})]}),s.jsxs(_e,{className:"space-y-4",children:[s.jsx(ee,{onClick:()=>a("admin"),className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-white",children:"Admin"}),s.jsx(ee,{onClick:()=>a("employee"),className:"w-full h-12 bg-green-600 hover:bg-green-700 text-white",children:"Employee"})]})]})});if(o)return s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Eb,{className:"h-8 w-64"}),s.jsx(Eb,{className:"h-32 w-full"}),s.jsx(Eb,{className:"h-32 w-full"})]})})});const d=i&&(i==null?void 0:i.setupStatus)==="completed",f=c&&u&&c!==u.toString(),h=!i,m=!d||f||h;if(console.log("[DEBUG] Setup wizard check:",{currentOrgId:c,companyOrgId:u,isSetupCompleted:d,isOrgIdMismatch:f,isNewOrganization:h,needsSetup:m,userRole:e,currentPath:window.location.pathname}),(e==="admin"||e==="manager")&&m){if(console.log("[HOME] Setup wizard condition met - rendering SetupWizard"),console.log("[HOME] userRole:",e,"needsSetup:",m),(f||h)&&!sessionStorage.getItem("setup_redirect_done")){sessionStorage.setItem("setup_redirect_done","true"),localStorage.removeItem("setupWizardStep"),localStorage.removeItem("user_permissions");const x=[];for(let p=0;p<localStorage.length;p++){const v=localStorage.key(p);v&&v.startsWith("role_permissions_")&&x.push(v)}return x.forEach(p=>localStorage.removeItem(p)),Ye.clear(),window.location.reload(),null}return s.jsx(Qoe,{company:i})}return console.log("[HOME] Setup wizard condition NOT met - rendering dashboard"),console.log("[HOME] Condition check: userRole=",e,"needsSetup=",m),s.jsx(fr,{children:e==="admin"?s.jsx(Zoe,{}):s.jsx(TOe,{})})}function AOe(){const[e,t]=T.useState(null),[r,n]=T.useState("balances"),[a,i]=T.useState([]),[o,l]=T.useState([]),[c,u]=T.useState(!1),{toast:d}=Lr();Le({queryKey:["/api/companies"]});const{data:f=[]}=Le({queryKey:["/api/leave-types"]}),h=g=>{var y;const w=(y=g.target.files)==null?void 0:y[0];if(w&&(t(w),i([]),l([]),u(!1),!["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(w.type))){d({title:"Invalid File Type",description:"Please upload a CSV or Excel file (.csv, .xls, .xlsx)",variant:"destructive"}),t(null);return}},m=It({mutationFn:async g=>{const w=new FormData;return w.append("file",g),w.append("importType",r),(await yt("POST","/api/import-leave-data/validate",w)).json()},onSuccess:g=>{i(g.preview),l(g.errors||[]),u(g.errors.length===0),g.errors.length===0?d({title:"Validation Successful",description:`File validated successfully. Found ${g.preview.length} records.`}):d({title:"Validation Issues Found",description:`Found ${g.errors.length} validation errors. Please review.`,variant:"destructive"})},onError:g=>{d({title:"Validation Failed",description:g.message||"Failed to validate file",variant:"destructive"})}}),x=It({mutationFn:async()=>{if(!e)throw new Error("No file selected");const g=new FormData;return g.append("file",e),g.append("importType",r),(await yt("POST","/api/import-leave-data/execute",g)).json()},onSuccess:g=>{Ye.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),Ye.invalidateQueries({queryKey:["/api/leave-balance-transactions"]}),d({title:"Import Successful",description:`Successfully imported ${g.imported} records.`}),t(null),i([]),l([]),u(!1)},onError:g=>{d({title:"Import Failed",description:g.message||"Failed to import data",variant:"destructive"})}}),p=()=>{console.log("Download Balance Template clicked"),b("balances")},v=()=>{console.log("Download Transaction Template clicked"),b("transactions")};console.log("ImportLeaveData state:",{importType:r});const b=async(g=r)=>{try{let w=[];try{console.log("[ImportLeaveData] Fetching employee data from external API..."),w=(await Ds()).map(Su),console.log("[ImportLeaveData] Successfully fetched:",w.length,"employees")}catch(M){console.log("[ImportLeaveData] External API error:",M)}w.length===0&&(console.log("No employee data available, generating template with empty employee fields"),d({title:"No Employee Data",description:"Could not fetch employee data from external API. Template will have empty employee fields.",variant:"default"}));let y=[];if(g==="balances")y=[["Leave balance details for the current calendar year as on migration"],[],["EmpNumber","EmpName","LeaveType","LeaveOpeningBalance","LeaveEncashed","LeaveLapsed"]];else{y=[["Leave availed details from the beginning of the current calendar year till migration cut off date"],[],["EmpNumber","EmpName","LeaveType","LeaveTakenStartDate","Is Start Date a Half Day","LeaveTakenEndDate","Is End Date a Half Day","TotalLeaveDays","Status"]];const M=f;console.log("[ImportLeaveData] Transaction template: Only including column headers, no employee data");const C=ys.book_new(),R=ys.aoa_to_sheet(y);R["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:18},{wch:20},{wch:18},{wch:20},{wch:15},{wch:12}],R["!merges"]||(R["!merges"]=[]),R["!merges"].push({s:{r:0,c:0},e:{r:0,c:7}}),ys.book_append_sheet(C,R,"Leave Transaction Import");const J=sp(C,{bookType:"xlsx",type:"array"}),U=new Blob([J],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),q=window.URL.createObjectURL(U),Y=document.createElement("a");Y.href=q,Y.download="leave_transaction_import_template.xlsx",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),window.URL.revokeObjectURL(q),d({title:"Template Downloaded",description:"Transaction template with column headers only"});return}const j=f;if(w.length>0)for(const M of j)try{const C=await fetch("/api/leave-variants",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});if(C.ok){const z=(await C.json()).filter(U=>U.leaveTypeName===M.name),J=new Set;for(const U of z)try{const q=await fetch(`/api/employee-assignments/${U.id}`,{credentials:"include"});q.ok&&(await q.json()).forEach(Q=>{J.add(Q.userId)})}catch{console.log(`Could not fetch assignments for variant ${U.id}`)}w.forEach(U=>{const q=U.user_id||U.id,Y=U.employeeNumber||U.employee_number;J.has(q)&&Y&&(g==="balances"?y.push([Y,U.user_name||U.name||`${U.firstName||""} ${U.lastName||""}`.trim()||"",M.name,"","",""]):y.push([Y,U.user_name||U.name||`${U.firstName||""} ${U.lastName||""}`.trim()||"",M.name,"","","","approved"]))})}}catch(C){console.log(`Error processing leave type ${M.name}:`,C)}else j.forEach(M=>{g==="balances"?y.push(["EMP001","Sample Employee",M.name,"","",""]):y.push(["EMP001","Sample Employee",M.name,"","","","approved"])});const N=ys.book_new(),E=ys.aoa_to_sheet(y);g==="balances"?E["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:18},{wch:14},{wch:12}]:E["!cols"]=[{wch:12},{wch:20},{wch:15},{wch:12},{wch:12},{wch:8},{wch:10}],E["!merges"]||(E["!merges"]=[]);let S=6;g==="balances"&&(S=6),E["!merges"].push({s:{r:0,c:0},e:{r:0,c:S}});const _=g==="balances"?"Leave Balance Import":"Leave Transaction Import";ys.book_append_sheet(N,E,_);const D=sp(N,{bookType:"xlsx",type:"array"}),F=new Blob([D],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),O=window.URL.createObjectURL(F),L=document.createElement("a");L.href=O;const k=g==="balances"?"leave_balance_import_template.xlsx":"leave_transaction_import_template.xlsx";L.download=k,document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(O);const P=y.length-3,I=w.length>0?`Generated template with ${P} rows based on actual employee assignments`:`Generated empty template with ${j.length} leave types - fill in employee data manually`;d({title:"Template Downloaded",description:I})}catch(w){console.error("Template generation error:",w),d({title:"Download Failed",description:w instanceof Error?w.message:"Failed to generate template",variant:"destructive"})}};return s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Import Leave Data"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Import employee leave balances and transaction history"})]}),s.jsxs(Ne,{className:"mb-6",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Import Instructions"})}),s.jsx(_e,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-blue-200 bg-blue-50 p-4 rounded-lg",children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Select Template Type"}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importType",value:"balances",checked:r==="balances",onChange:g=>n(g.target.value),className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Balance Template"})]}),s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"importType",value:"transactions",checked:r==="transactions",onChange:g=>n(g.target.value),className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Transaction Template"})]})]})]}),s.jsx("div",{className:"space-y-3 text-sm text-gray-600",children:r==="balances"?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Import employee leave balance data from your previous system."}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Required Format for Leave Balances:"}),s.jsxs("ul",{className:"text-blue-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpNumber:"})," Employee ID (e.g., HIN/00001)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpName:"})," Employee full name"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveType:"})," Leave type code (EL, CL, SL, etc.)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveOpeningBalance:"})," Current available balance"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveEncashed:"})," Amount encashed (if applicable)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveLapsed:"})," Amount that expired/lapsed"]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:"Import historical leave transactions that employees have already taken."}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Required Format for Leave Transactions:"}),s.jsxs("ul",{className:"text-green-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpNumber:"})," Employee ID (e.g., HIN/00001)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"EmpName:"})," Employee full name"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveType:"})," Leave type code (EL, CL, SL, etc.)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveTakenStartDate:"})," Leave start date (dd-MM-YYYY)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Is Start Date a Half Day:"})," TRUE/FALSE for half day start"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"LeaveTakenEndDate:"})," Leave end date (dd-MM-YYYY)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Is End Date a Half Day:"})," TRUE/FALSE for half day end"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"TotalLeaveDays:"})," Number of leave days taken (must be greater than 0)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Status:"})," Approved/1 (deducts balance), Rejected/0 (no deduction), or Pending/2 (no deduction)"]})]}),s.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800",children:[s.jsx("strong",{children:"Important:"})," Ensure TotalLeaveDays column contains actual day counts (e.g., 1, 2, 0.5) and not zero values."]})]})]})})]})})]}),s.jsxs(Ne,{className:"mb-6",children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Upload Data File"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ee,{variant:"outline",onClick:p,className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Balance Template"})]}),s.jsxs(ee,{variant:"outline",onClick:v,className:"flex items-center space-x-2",children:[s.jsx(Mi,{className:"w-4 h-4"}),s.jsx("span",{children:"Download Transaction Template"})]})]})]})}),s.jsx(_e,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"file",className:"text-sm font-medium text-gray-700",children:"Select File"}),s.jsx(ut,{id:"file",type:"file",accept:".csv,.xls,.xlsx",onChange:h,className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: CSV, Excel (.xls, .xlsx)"})]}),e&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(JR,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-900",children:e.name}),s.jsxs("p",{className:"text-xs text-blue-600",children:[(e.size/1024).toFixed(1)," KB"]})]}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>m.mutate(e),disabled:m.isPending,children:m.isPending?"Validating...":"Validate"})]})]})})]}),o.length>0&&s.jsxs(Ne,{className:"mb-6 border-red-200",children:[s.jsx(ht,{children:s.jsxs(mt,{className:"text-red-900 flex items-center space-x-2",children:[s.jsx(of,{className:"w-5 h-5"}),s.jsx("span",{children:"Validation Errors"})]})}),s.jsx(_e,{children:s.jsx("div",{className:"space-y-2",children:o.map((g,w)=>s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-red-800",children:[s.jsx(Yn,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:g})]},w))})})]}),a&&a.length>0&&s.jsxs(Ne,{className:"mb-6",children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[c?s.jsx(gn,{className:"w-5 h-5 text-green-600"}):s.jsx(of,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{children:"Data Preview"}),s.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",a.length," records)"]})]})}),s.jsx(_e,{children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"border-b",children:Object.keys(a[0]||{}).map(g=>s.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-700",children:g.replace(/_/g," ").replace(/\b\w/g,w=>w.toUpperCase())},g))})}),s.jsx("tbody",{children:a.slice(0,5).map((g,w)=>s.jsx("tr",{className:"border-b",children:Object.values(g).map((y,j)=>s.jsx("td",{className:"py-2 px-3 text-gray-600",children:String(y)},j))},w))})]}),a.length>5&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing first 5 rows of ",a.length," total records"]})]})})]}),c&&s.jsx(Ne,{children:s.jsx(_e,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ready to Import"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[a.length," records validated and ready for import"]})]}),s.jsx(ee,{onClick:()=>x.mutate(),disabled:x.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:x.isPending?"Importing...":"Import Data"})]})})})]})})})}function Mu(){const[e,t]=T.useState([]),[r,n]=T.useState(!1),[a,i]=T.useState(null);return T.useEffect(()=>{const l=setTimeout(async()=>{try{if(n(!0),i(null),!localStorage.getItem("jwt_token")){console.log("[ExternalEmployee] No JWT token available, skipping API call"),n(!1);return}const{fetchEmployeeData:u,transformEmployeeData:d}=await I_(async()=>{const{fetchEmployeeData:m,transformEmployeeData:x}=await Promise.resolve().then(()=>W3);return{fetchEmployeeData:m,transformEmployeeData:x}},void 0);console.log("[ExternalEmployee] Using existing working API...");const h=(await u()).map(m=>({user_id:m.user_id,user_name:m.user_name||`${m.first_name||""} ${m.last_name||""}`.trim()||m.employee_number||`Employee ${m.user_id}`,first_name:m.first_name,last_name:m.last_name,employee_number:m.employee_number,designation:m.designation_name,department:m.band_name,email:m.email,mobile:m.Mobile_number_1,gender:m.gender_name,date_of_joining:m.date_of_joining}));console.log("[ExternalEmployee] Successfully loaded",h.length,"employees"),t(h)}catch(c){console.log("[ExternalEmployee] External employee data fetch error:",c),i(c instanceof Error?c.message:"Failed to fetch employee data")}finally{n(!1)}},100);return()=>clearTimeout(l)},[]),{employees:e,loading:r,error:a}}const COe=we.object({assigneeName:we.string().min(1,"Assignee name is required"),assigneeUserId:we.string().min(1,"Assignee user ID is required"),assigneeEmail:we.string().email("Valid email is required"),assigneePhone:we.string().optional(),taskDescription:we.string().min(10,"Task description must be at least 10 characters"),expectedSupportDateFrom:we.date(),expectedSupportDateTo:we.date(),additionalNotes:we.string().optional()}),DOe=we.object({tasks:we.array(COe).min(1,"At least one task is required")});function kOe({leaveRequestId:e,maxTasks:t,onSuccess:r,onCancel:n,className:a,onTasksChange:i}){const{toast:o}=Lr(),l=ac(),{employees:c,loading:u}=Mu(),[d,f]=T.useState([{assigneeName:"",assigneeUserId:"",assigneeEmail:"",assigneePhone:"",taskDescription:"",expectedSupportDateFrom:new Date,expectedSupportDateTo:new Date,additionalNotes:""}]),{register:h,handleSubmit:m,formState:{errors:x},watch:p,setValue:v}=Za({resolver:bs(DOe),defaultValues:{tasks:d}}),b=It({mutationFn:async N=>{const E=N.map(S=>({...S,expectedSupportDateFrom:S.expectedSupportDateFrom.toISOString().split("T")[0],expectedSupportDateTo:S.expectedSupportDateTo.toISOString().split("T")[0],notificationMethod:"email",assigneeUserId:S.assigneeUserId}));return console.log("🚀 Submitting tasks with assigneeUserId:",E.map(S=>({name:S.assigneeName,userId:S.assigneeUserId}))),console.log("🚀 Full task payload:",E),await yt("POST",`/api/leave-requests/${e}/tasks`,{tasks:E})},onSuccess:()=>{l.invalidateQueries({queryKey:[`/api/leave-requests/${e}/tasks`]}),o({title:"Tasks Created",description:"All task assignments have been created successfully."}),r==null||r()},onError:N=>{o({title:"Error",description:"Failed to create task assignments. Please try again.",variant:"destructive"})}}),g=()=>{const N=[...d,{assigneeName:"",assigneeUserId:"",assigneeEmail:"",assigneePhone:"",taskDescription:"",expectedSupportDateFrom:new Date,expectedSupportDateTo:new Date,additionalNotes:""}];f(N),v("tasks",N),i==null||i(N)},w=N=>{if(d.length>1){const E=d.filter((S,_)=>_!==N);f(E),v("tasks",E),i==null||i(E)}},y=(N,E,S)=>{const _=[...d];_[N]={..._[N],[E]:S},f(_),v("tasks",_),i==null||i(_)},j=N=>{b.mutate(N.tasks)};return s.jsxs("div",{className:tt("space-y-6",a),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(un,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Collaborative Leave Setup"}),s.jsx("p",{className:"text-gray-600",children:"Assign tasks to colleagues to ensure smooth operations during your leave"})]})]}),s.jsxs("form",{onSubmit:m(j),className:"space-y-6",children:[d.map((N,E)=>{var S,_,D,F,O,L,k,P,I,M,C,R,z,J,U;return s.jsxs(Ne,{className:"relative",children:[s.jsxs(ht,{className:"pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(mt,{className:"text-lg",children:["Task Assignment ",E+1]}),d.length>1&&s.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>w(E),className:"text-red-600 hover:text-red-700",children:s.jsx(Ea,{className:"h-4 w-4"})})]}),s.jsx(uf,{children:"Specify who will handle this task and how they should be notified"})]}),s.jsxs(_e,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:`assigneeName-${E}`,children:"Assignee Name *"}),u?s.jsx(ut,{disabled:!0,value:"Loading employees...",placeholder:"Loading employees..."}):s.jsxs(Nt,{value:N.assigneeUserId||"",onValueChange:q=>{console.log("🔵 Select onValueChange triggered with userId:",q),console.log("🔵 Current task state:",N);const Y=c.find(Q=>String(Q.user_id)===String(q));if(console.log("🔵 Found employee:",Y),Y){const Q={assigneeUserId:String(q),assigneeName:Y.user_name||`Employee ${q}`,assigneeEmail:Y.email||""};console.log("🔵 Updating task with:",Q);const Z=[...d];Z[E]={...Z[E],assigneeUserId:Q.assigneeUserId,assigneeName:Q.assigneeName,assigneeEmail:Q.assigneeEmail},f(Z),v("tasks",Z),i==null||i(Z),console.log("🔵 State updated successfully")}},children:[s.jsx(wt,{className:(_=(S=x.tasks)==null?void 0:S[E])!=null&&_.assigneeName?"border-red-500":"",children:s.jsx(St,{placeholder:"Select a colleague"})}),s.jsx(bt,{children:c.map(q=>{const Y=q.user_name||`Employee ${q.user_id}`,Q=q.employee_number?` (${q.employee_number})`:"";return s.jsxs(Ae,{value:String(q.user_id),children:[Y,Q]},q.user_id)})})]},`select-${E}-${N.assigneeUserId}`),((F=(D=x.tasks)==null?void 0:D[E])==null?void 0:F.assigneeName)&&s.jsx("p",{className:"text-sm text-red-500",children:(O=x.tasks[E].assigneeName)==null?void 0:O.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:`assigneeEmail-${E}`,children:"Email Address *"}),s.jsx(ut,{id:`assigneeEmail-${E}`,type:"email",value:N.assigneeEmail,onChange:q=>y(E,"assigneeEmail",q.target.value),placeholder:"colleague@company.com",className:(k=(L=x.tasks)==null?void 0:L[E])!=null&&k.assigneeEmail?"border-red-500":""}),((I=(P=x.tasks)==null?void 0:P[E])==null?void 0:I.assigneeEmail)&&s.jsx("p",{className:"text-sm text-red-500",children:(M=x.tasks[E].assigneeEmail)==null?void 0:M.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:`assigneePhone-${E}`,children:"Phone Number (Optional)"}),s.jsx(ut,{id:`assigneePhone-${E}`,value:N.assigneePhone,onChange:q=>y(E,"assigneePhone",q.target.value),placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:`taskDescription-${E}`,children:"Task Description *"}),s.jsx(wn,{id:`taskDescription-${E}`,value:N.taskDescription,onChange:q=>y(E,"taskDescription",q.target.value),placeholder:"Describe what needs to be done, include any specific instructions, deadlines, or important details...",rows:4,className:(R=(C=x.tasks)==null?void 0:C[E])!=null&&R.taskDescription?"border-red-500":""}),((J=(z=x.tasks)==null?void 0:z[E])==null?void 0:J.taskDescription)&&s.jsx("p",{className:"text-sm text-red-500",children:(U=x.tasks[E].taskDescription)==null?void 0:U.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{children:"Expected Support Date Range *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-500",children:"From Date"}),s.jsxs(wl,{children:[s.jsx(bl,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:tt("w-full justify-start text-left font-normal",!N.expectedSupportDateFrom&&"text-muted-foreground"),children:[s.jsx(wr,{className:"mr-2 h-4 w-4"}),N.expectedSupportDateFrom?at(N.expectedSupportDateFrom,"PPP"):"Start date"]})}),s.jsx(po,{className:"w-auto p-0",children:s.jsx(mo,{mode:"single",selected:N.expectedSupportDateFrom,onSelect:q=>q&&y(E,"expectedSupportDateFrom",q),initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-500",children:"To Date"}),s.jsxs(wl,{children:[s.jsx(bl,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:tt("w-full justify-start text-left font-normal",!N.expectedSupportDateTo&&"text-muted-foreground"),children:[s.jsx(wr,{className:"mr-2 h-4 w-4"}),N.expectedSupportDateTo?at(N.expectedSupportDateTo,"PPP"):"End date"]})}),s.jsx(po,{className:"w-auto p-0",children:s.jsx(mo,{mode:"single",selected:N.expectedSupportDateTo,onSelect:q=>q&&y(E,"expectedSupportDateTo",q),initialFocus:!0})})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:`additionalNotes-${E}`,children:"Additional Notes (Optional)"}),s.jsx(wn,{id:`additionalNotes-${E}`,value:N.additionalNotes,onChange:q=>y(E,"additionalNotes",q.target.value),placeholder:"Any additional information, special instructions, or context for this task...",rows:3})]})]})]},E)}),s.jsxs(ee,{type:"button",variant:"outline",onClick:g,className:"w-full border-dashed",children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Add Another Task Assignment"]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n&&s.jsx(ee,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:b.isPending,className:"px-8",children:b.isPending?"Creating Tasks...":"Create Task Assignments"})]})]})]})}function j4(){var Tn,aa,sa,Rs,ia,qo;const[e,t]=T.useState(!1),[r,n]=T.useState("2025"),[a,i]=T.useState("Yearly"),[o,l]=T.useState(null),[c,u]=T.useState(!1),[d,f]=T.useState(!1),[h,m]=T.useState(null),[x,p]=T.useState(""),[v,b]=T.useState(!1),[g,w]=T.useState("");T.useState(!1);const[y,j]=T.useState([]),{toast:N}=Lr(),E=s0(),{employees:S}=Mu(),{workPattern:_,holidays:D,isLoading:F,isWorkingDay:O,isHoliday:L,getHolidayDetails:k,calculateWorkingDays:P}=eh(),I=localStorage.getItem("user_id")||"14674",M=localStorage.getItem("org_id")||"18";T.useEffect(()=>{if(console.log("=== EXTERNAL EMPLOYEE DATA DEBUG ==="),console.log("External employees loaded:",(S==null?void 0:S.length)||0),console.log("Current user ID:",I),(S==null?void 0:S.length)>0){const A=S.find(W=>{var B,V,K;return((B=W.user_id)==null?void 0:B.toString())===I||((V=W.id)==null?void 0:V.toString())===I||((K=W.employee_number)==null?void 0:K.toString())===I});console.log("Found current employee:",A),console.log("Employee joining date:",A==null?void 0:A.date_of_joining)}console.log("===================================")},[S,I]),T.useEffect(()=>{var A,W,B,V,K;console.log("=== LEAVE PERMISSION DEBUG ==="),console.log("Current role from localStorage:",localStorage.getItem("role")),console.log("Current org_id from localStorage:",localStorage.getItem("org_id")),console.log("Full permissions hook result:",E),console.log("permissions.permissions:",E==null?void 0:E.permissions),console.log("allowOnBehalf from permissions.permissions:",(A=E==null?void 0:E.permissions)==null?void 0:A.allowOnBehalf),console.log("allowOnBehalf.leave:",(B=(W=E==null?void 0:E.permissions)==null?void 0:W.allowOnBehalf)==null?void 0:B.leave),console.log("Should show checkbox?",(K=(V=E==null?void 0:E.permissions)==null?void 0:V.allowOnBehalf)==null?void 0:K.leave),console.log("================================")},[E]),T.useEffect(()=>{if(new URLSearchParams(window.location.search).get("onBehalf")==="true"){const B=localStorage.getItem("applyOnBehalfEmployee");if(B)try{const V=JSON.parse(B);b(!0),w(V.id),t(!0),localStorage.removeItem("applyOnBehalfEmployee"),window.history.replaceState({},document.title,window.location.pathname)}catch(V){console.error("Error parsing stored employee data:",V)}}},[]),T.useEffect(()=>{e||(b(!1),w(""),ce({startDate:"",endDate:"",reason:"",description:"",halfDay:!1,quarterDay:!1,documents:[]}),ct({startHalfDay:!1,endHalfDay:!1}),ue(null),G([]))},[e]),T.useEffect(()=>{window.dispatchEvent(new CustomEvent("permissions-updated"))},[]);const{data:C=[]}=Le({queryKey:[`/api/leave-requests?userId=${I}`]}),{data:R=[]}=Le({queryKey:["/api/leave-types"]}),{data:z=[]}=Le({queryKey:["/api/employee-assignments"]}),{data:J=[]}=Le({queryKey:["/api/leave-variants"]}),{data:U=[],refetch:q}=Le({queryKey:[`/api/employee-leave-balances/${I}`],enabled:!!I}),{data:Y=[]}=Le({queryKey:[`/api/leave-balance-transactions/${I}`],enabled:!!I}),{data:Q}=Le({queryKey:["/api/collaborative-leave-settings"],staleTime:5*60*1e3}),[Z,ue]=T.useState(null),[he,G]=T.useState([]),[re,de]=T.useState(!1),[ne,Ee]=T.useState(""),[Ce,De]=T.useState(!0),[Pe,ce]=T.useState({startDate:"",endDate:"",reason:"",description:"",halfDay:!1,quarterDay:!1,documents:[]}),[$e,ct]=T.useState({startHalfDay:!1,endHalfDay:!1}),zt=()=>{if(!Pe.startDate||!Pe.endDate)return 0;const A=new Date(Pe.startDate),W=new Date(Pe.endDate);let B=P(A,W);return A.getTime()===W.getTime()?($e.startHalfDay||$e.endHalfDay)&&(B=.5):($e.startHalfDay&&(B-=.5),$e.endHalfDay&&(B-=.5)),B},be=A=>A.toISOString().split("T")[0],H=be(_?new Date(_.startDate):new Date("2025-01-01")),te=be(_?new Date(_.endDate):new Date("2025-12-31")),me=Array.isArray(z)?z:[],Re=Array.isArray(J)?J:[],Ie=me.filter(A=>A.userId===I&&A.assignmentType==="leave_variant"),ve=Ie.map(A=>A.leaveVariantId),je=Re.filter(A=>ve.includes(A.id));console.log("🔍 LEAVE TYPE DEBUG:",{userId:I,totalAssignments:me.length,userAssignments:Ie.length,assignedVariantIds:ve,availableVariants:je.length,variantNames:je.map(A=>A.leaveVariantName)}),S==null||S.find(A=>{var W,B,V;return((W=A.user_id)==null?void 0:W.toString())===I||((B=A.id)==null?void 0:B.toString())===I||((V=A.employee_number)==null?void 0:V.toString())===I}),T.useEffect(()=>{if(console.log("🔍 [Applicable After Debug] Effect triggered:",{selectedLeaveType:(Z==null?void 0:Z.leaveVariantName)||(Z==null?void 0:Z.leaveTypeName),applicableAfterType:Z==null?void 0:Z.applicableAfterType,applicableAfter:Z==null?void 0:Z.applicableAfter,currentUserId:I,externalEmployeesCount:(S==null?void 0:S.length)||0}),!Z){Ee(""),De(!0);return}if(Z.applicableAfterType&&Z.applicableAfterType!=="date_of_joining"){console.log("🔍 [Applicable After Debug] Checking eligibility for:",Z.applicableAfterType);const A=S==null?void 0:S.find(W=>{var V,K,X,le,xe;const B=((V=W.user_id)==null?void 0:V.toString())===I||((K=W.id)==null?void 0:K.toString())===I||((X=W.employee_number)==null?void 0:X.toString())===I;return B&&console.log("🔍 [Employee Match] Found matching employee:",{emp_user_id:W.user_id,emp_id:W.id,emp_employee_number:W.employee_number,currentUserId:I,matched_on:((le=W.user_id)==null?void 0:le.toString())===I?"user_id":((xe=W.id)==null?void 0:xe.toString())===I?"id":"employee_number"}),B});if(console.log("🔍 [Applicable After Debug] Found employee:",{currentEmployee:A?{user_id:A.user_id,id:A.id,employee_number:A.employee_number,date_of_joining:A.date_of_joining,name:A.user_name||A.name}:"NOT FOUND"}),A&&A.date_of_joining){const W=new Date(A.date_of_joining),B=new Date;if(console.log("🔍 [Applicable After Debug] Date comparison:",{joiningDate:W.toLocaleDateString(),today:B.toLocaleDateString(),applicableAfter:Z.applicableAfter}),Z.applicableAfterType==="days"&&Z.applicableAfter>0){const V=new Date(W);if(V.setDate(V.getDate()+Z.applicableAfter),console.log("🔍 [Applicable After Debug] Eligibility check:",{eligibleDate:V.toLocaleDateString(),todayLessThanEligible:B<V}),B<V){const K=Math.ceil((V.getTime()-B.getTime())/864e5),X=`You can apply for ${Z.leaveVariantName||Z.leaveTypeName} only after ${Z.applicableAfter} days from your joining date (${W.toLocaleDateString()}). Eligible from ${V.toLocaleDateString()} (${K} days remaining)`;console.log("🚫 [Applicable After Debug] Setting error:",X),Ee(X),De(!1);return}}}else console.log("🔍 [Applicable After Debug] No employee or joining date found")}else console.log("🔍 [Applicable After Debug] No applicable after type or is date_of_joining");console.log("✅ [Applicable After Debug] Leave type is eligible"),Ee(""),De(!0)},[Z,S,I]),console.log("🧮 [Summary Cards Debug] Data loading state:",{leaveTransactionsLoaded:Y.length>0,leaveBalancesLoaded:U.length>0,availableVariantsCount:(je==null?void 0:je.length)||0,sampleTransaction:Y[0]||"No transactions",sampleBalance:U[0]||"No balances"}),T.useEffect(()=>{console.log("🔄 [Data Change] LeaveApplications calculation dependencies changed:",{timestamp:new Date().toLocaleTimeString(),transactionCount:Y.length,balanceCount:U.length,variantCount:(je==null?void 0:je.length)||0,userId:I})},[Y,U,je,I]);const pt=Array.isArray(D)?D:[],Wt=Array.isArray(U)?U:[],rr=(A,W,B,V)=>{const K=[],X=P(W,B);console.log("Validation Debug:",{startDate:W.toISOString().split("T")[0],endDate:B.toISOString().split("T")[0],actualWorkingDays:X,variantMaxDays:A.maxDaysInStretch,variantName:A.leaveVariantName});const le=Wt.find(ge=>ge.leaveVariantId===A.id),xe=le?parseFloat(le.currentBalance):0;X>xe&&K.push(`Insufficient balance. Available: ${xe} days, Requested: ${X} days`),A.minDaysRequired>0&&X<A.minDaysRequired&&K.push(`Minimum ${A.minDaysRequired} days required for this leave type`),A.maxDaysInStretch>0&&X>A.maxDaysInStretch&&(console.log("Max days validation failed:",{actualWorkingDays:X,maxDaysInStretch:A.maxDaysInStretch,comparison:`${X} > ${A.maxDaysInStretch}`}),K.push(`Maximum ${A.maxDaysInStretch} days allowed in a single application`));const ae=new Date(W);for(;ae<=B;){const ge=ae.toISOString().split("T")[0];if(pt.some(Me=>Me.selectedDate?new Date(Me.selectedDate).toISOString().split("T")[0]===ge:!1)){const Me=pt.find(Ve=>Ve.selectedDate?new Date(Ve.selectedDate).toISOString().split("T")[0]===ge:!1);K.push(`Cannot apply leave on holiday: ${(Me==null?void 0:Me.holidayName)||"Holiday"} (${ge})`)}ae.setDate(ae.getDate()+1)}if(A.mustBePlannedInAdvance>0){const ge=new Date;Math.ceil((W.getTime()-ge.getTime())/(1e3*60*60*24))<A.mustBePlannedInAdvance&&K.push(`Leave must be planned ${A.mustBePlannedInAdvance} days in advance`)}if(A.applicableAfterType&&A.applicableAfterType!=="date_of_joining"){const ge=S==null?void 0:S.find(ye=>{var Me,Ve,_t;return((Me=ye.user_id)==null?void 0:Me.toString())===I||((Ve=ye.id)==null?void 0:Ve.toString())===I||((_t=ye.employee_number)==null?void 0:_t.toString())===I});if(ge&&ge.date_of_joining){const ye=new Date(ge.date_of_joining),Me=new Date;if(A.applicableAfterType==="specified_days"&&A.applicableAfterDays>0){const Ve=new Date(ye);if(Ve.setDate(Ve.getDate()+A.applicableAfterDays),Me<Ve){const _t=Math.ceil((Ve.getTime()-Me.getTime())/864e5);K.push(`You can apply for ${A.leaveVariantName||A.leaveTypeName} only after ${A.applicableAfterDays} days from your joining date (${ye.toLocaleDateString()}). Eligible from ${Ve.toLocaleDateString()} (${_t} days remaining)`)}}else A.applicableAfterType==="probation_period_ends"&&console.log("Probation period validation would be implemented here with employee probation data")}else console.warn(`Cannot validate "Applicable after" for user ${I} - no joining date available`)}if(!A.allowLeavesBeforeWeekend){const ge=new Date(B);ge.setDate(ge.getDate()+1),(ge.getDay()===6||ge.getDay()===0)&&K.push("Leave cannot be taken before weekends")}A.supportingDocuments&&Pe.documents.length===0&&K.push("Supporting documents are required for this leave type");const fe=Ge.filter(ge=>new Date(ge.startDate).getFullYear()===parseInt(r)&&ge.leaveTypeId===A.leaveTypeId);A.maxInstances>0&&fe.length>=A.maxInstances&&K.push(`Maximum ${A.maxInstances} applications allowed per ${A.maxInstancesPeriod}`);const pe=v&&g?g:I,Te=Array.isArray(C)?C:[];console.log("🔍 [Date Conflict Debug] Checking conflicts for user:",pe),console.log("🔍 [Date Conflict Debug] Existing requests:",Te.length),console.log("🔍 [Date Conflict Debug] Date range:",W.toISOString().split("T")[0],"to",B.toISOString().split("T")[0]);const Se=Te.filter(ge=>{if(console.log("🔍 [Date Conflict Debug] Checking request:",{id:ge.id,userId:ge.userId,status:ge.status,startDate:ge.startDate,endDate:ge.endDate,editingId:o==null?void 0:o.id}),o&&ge.id===o.id)return console.log("🔍 [Date Conflict Debug] Skipping current editing request"),!1;if(!["approved","pending"].includes(ge.status))return console.log("🔍 [Date Conflict Debug] Skipping non-pending/approved request:",ge.status),!1;if(ge.userId!==pe)return console.log("🔍 [Date Conflict Debug] Skipping different user:",ge.userId,"vs",pe),!1;const ye=new Date(ge.startDate),Me=new Date(ge.endDate);console.log("🔍 [Date Conflict Debug] Date comparison:",{newStart:W.toISOString().split("T")[0],newEnd:B.toISOString().split("T")[0],existingStart:ye.toISOString().split("T")[0],existingEnd:Me.toISOString().split("T")[0]});const Ve=W<=Me&&ye<=B;return console.log("🔍 [Date Conflict Debug] Overlap check result:",Ve),Ve});if(console.log("🔍 [Date Conflict Debug] Conflicting requests found:",Se.length),Se.length>0){const ge=Se[0],ye=new Date(ge.startDate).toLocaleDateString(),Me=new Date(ge.endDate).toLocaleDateString(),Ve=ge.status==="approved"?"approved":"pending approval";console.log("🔍 [Date Conflict Debug] Adding conflict error:",{conflictStart:ye,conflictEnd:Me,statusText:Ve}),ye===Me?K.push(`You already have a ${Ve} leave request on ${ye}`):K.push(`You already have a ${Ve} leave request from ${ye} to ${Me}`)}return K},os=A=>{console.log("🎯 [Leave Type Change] Function called with:",{variantId:A,variantIdType:typeof A,availableVariantsCount:je.length,availableVariants:je.map(B=>({id:B.id,idType:typeof B.id,idString:B.id.toString(),name:B.leaveVariantName}))});const W=je.find(B=>B.id.toString()===A);console.log("🎯 [Leave Type Change] Selected variant:",{variantId:A,variant:W?{id:W.id,leaveVariantName:W.leaveVariantName,leaveTypeName:W.leaveTypeName,applicableAfterType:W.applicableAfterType,applicableAfterDays:W.applicableAfterDays}:"NOT FOUND"}),ue(W),G([]),Pe.startDate&&Pe.endDate&&(console.log("🎯 [Leave Type Change] Dates already selected, triggering validation with new leave type"),setTimeout(()=>{vi(Pe,W)},100)),console.log("🎯 [Leave Type Change] State updated, selectedLeaveType should be:",(W==null?void 0:W.leaveVariantName)||"undefined")},Is=A=>{if(console.log("🔥 validateDatesWithData CALLED!",{selectedLeaveType:Z==null?void 0:Z.leaveVariantName,startDate:A.startDate,endDate:A.endDate,currentUserId:I}),!A.startDate||!A.endDate){console.log("Early return - missing dates"),G([]);return}const W=new Date(A.startDate),B=new Date(A.endDate);if(isNaN(W.getTime())||isNaN(B.getTime())){G([]);return}if(B<W){G([]);return}let V=[];if(Z){P(W,B);const xe=rr(Z,W,B);V.push(...xe)}const K=v&&g?g:I,X=Array.isArray(C)?C:[];console.log("🔍 [Date Conflict Debug] Checking conflicts for user:",K),console.log("🔍 [Date Conflict Debug] Existing requests:",X.length),console.log("🔍 [Date Conflict Debug] Date range:",W.toISOString().split("T")[0],"to",B.toISOString().split("T")[0]);const le=X.filter(xe=>{if(o&&xe.id===o.id||!["approved","pending"].includes(xe.status)||xe.userId!==K)return!1;const ae=new Date(xe.startDate),fe=new Date(xe.endDate),pe=W<=fe&&ae<=B;return console.log("🔍 [Date Conflict Debug] Checking request:",{id:xe.id,dates:`${ae.toISOString().split("T")[0]} to ${fe.toISOString().split("T")[0]}`,hasOverlap:pe}),pe});if(console.log("🔍 [Date Conflict Debug] Conflicting requests found:",le.length),le.length>0){const xe=le[0],ae=new Date(xe.startDate).toLocaleDateString(),fe=new Date(xe.endDate).toLocaleDateString(),pe=xe.status==="approved"?"approved":"pending approval";ae===fe?V.push(`You already have a ${pe} leave request on ${ae}`):V.push(`You already have a ${pe} leave request from ${ae} to ${fe}`)}G(V)},vi=(A,W)=>{if(console.log("🔥 validateDatesWithVariant CALLED!",{variantName:(W==null?void 0:W.leaveVariantName)||"none",startDate:A.startDate,endDate:A.endDate,currentUserId:I}),!A.startDate||!A.endDate){console.log("Early return - missing dates"),G([]);return}const B=new Date(A.startDate),V=new Date(A.endDate);if(isNaN(B.getTime())||isNaN(V.getTime())){G([]);return}if(V<B){G([]);return}let K=[];if(W){P(B,V);const ae=rr(W,B,V);K.push(...ae)}const X=v&&g?g:I,le=Array.isArray(C)?C:[];console.log("🔍 [Date Conflict Debug] Checking conflicts for user:",X),console.log("🔍 [Date Conflict Debug] Existing requests:",le.length),console.log("🔍 [Date Conflict Debug] Date range:",B.toISOString().split("T")[0],"to",V.toISOString().split("T")[0]);const xe=le.filter(ae=>{if(o&&ae.id===o.id||!["approved","pending"].includes(ae.status)||ae.userId!==X)return!1;const fe=new Date(ae.startDate),pe=new Date(ae.endDate),Te=B<=pe&&fe<=V;return console.log("🔍 [Date Conflict Debug] Checking request:",{id:ae.id,dates:`${fe.toISOString().split("T")[0]} to ${pe.toISOString().split("T")[0]}`,hasOverlap:Te}),Te});if(console.log("🔍 [Date Conflict Debug] Conflicting requests found:",xe.length),xe.length>0){const ae=xe[0],fe=new Date(ae.startDate).toLocaleDateString(),pe=new Date(ae.endDate).toLocaleDateString(),Te=ae.status==="approved"?"approved":"pending approval";fe===pe?K.push(`You already have a ${Te} leave request on ${fe}`):K.push(`You already have a ${Te} leave request from ${fe} to ${pe}`)}G(K)},yi=()=>{if(console.log("🔥 validateDates CALLED!",{selectedLeaveType:Z==null?void 0:Z.leaveVariantName,startDate:Pe.startDate,endDate:Pe.endDate,currentUserId:I}),!Pe.startDate||!Pe.endDate){console.log("Early return - missing dates"),G([]);return}console.log("🔍 [Date Conflict Debug] Starting validation in validateDates"),console.log("🔍 [Date Conflict Debug] Current leave requests length:",(C==null?void 0:C.length)||0),console.log("🔍 [Date Conflict Debug] Current user ID:",I),console.log("🔍 [Date Conflict Debug] Selected leave type:",(Z==null?void 0:Z.leaveVariantName)||"None selected");const A=new Date(Pe.startDate),W=new Date(Pe.endDate);if(isNaN(A.getTime())||isNaN(W.getTime())){G([]);return}if(W<A){G([]);return}let B=[];if(Z){P(A,W);const le=rr(Z,A,W);B.push(...le)}console.log("🔍 [Date Conflict Debug] Starting validation in validateDates");const V=v&&g?g:I,K=Array.isArray(C)?C:[];console.log("🔍 [Date Conflict Debug] Checking conflicts for user:",V),console.log("🔍 [Date Conflict Debug] Existing requests:",K.length),console.log("🔍 [Date Conflict Debug] Date range:",A.toISOString().split("T")[0],"to",W.toISOString().split("T")[0]),console.log("🔍 [Date Conflict Debug] All existing requests for user",V,":"),K.forEach((le,xe)=>{le.userId===V&&console.log(`  Request ${xe+1}: ${le.startDate} to ${le.endDate} (${le.status})`)});const X=K.filter(le=>{if(console.log("🔍 [Date Conflict Debug] Checking request:",{id:le.id,userId:le.userId,status:le.status,startDate:le.startDate,endDate:le.endDate,editingId:o==null?void 0:o.id}),o&&le.id===o.id)return console.log("🔍 [Date Conflict Debug] Skipping current editing request"),!1;if(!["approved","pending"].includes(le.status))return console.log("🔍 [Date Conflict Debug] Skipping non-pending/approved request:",le.status),!1;if(le.userId!==V)return console.log("🔍 [Date Conflict Debug] Skipping different user:",le.userId,"vs",V),!1;const xe=new Date(le.startDate),ae=new Date(le.endDate);console.log("🔍 [Date Conflict Debug] Date comparison:",{newStart:A.toISOString().split("T")[0],newEnd:W.toISOString().split("T")[0],existingStart:xe.toISOString().split("T")[0],existingEnd:ae.toISOString().split("T")[0]});const fe=A<=ae&&xe<=W;return console.log("🔍 [Date Conflict Debug] Overlap check result:",fe),fe});if(console.log("🔍 [Date Conflict Debug] Conflicting requests found:",X.length),X.length>0){const le=X[0],xe=new Date(le.startDate).toLocaleDateString(),ae=new Date(le.endDate).toLocaleDateString(),fe=le.status==="approved"?"approved":"pending approval";console.log("🔍 [Date Conflict Debug] Adding conflict error:",{conflictStart:xe,conflictEnd:ae,statusText:fe}),xe===ae?B.push(`You already have a ${fe} leave request on ${xe}`):B.push(`You already have a ${fe} leave request from ${xe} to ${ae}`)}G(B)},ls=It({mutationFn:async A=>{const B={...A,userId:v&&g?g:I,collaborativeTasks:y},V=await yt("POST","/api/leave-requests",B);if(A.collaborativeTasks&&A.collaborativeTasks.length>0){console.log("🚀 Creating collaborative tasks for leave request:",V.id);const K=A.collaborativeTasks.map(X=>({assigneeUserId:X.assigneeUserId,assigneeName:X.assigneeName,assigneeEmail:X.assigneeEmail,taskDescription:X.taskDescription,expectedSupportDateFrom:X.expectedSupportDateFrom,expectedSupportDateTo:X.expectedSupportDateTo,additionalNotes:X.additionalNotes,notificationMethod:"email"}));await yt("POST",`/api/leave-requests/${V.id}/tasks`,{tasks:K}),console.log("🚀 Tasks created successfully")}return V},onSuccess:()=>{const A=v&&g?g:I;Ye.invalidateQueries({queryKey:[`/api/leave-requests?userId=${I}`]}),Ye.invalidateQueries({queryKey:[`/api/leave-requests?userId=${A}`]}),Ye.invalidateQueries({queryKey:[`/api/employee-leave-balances/${I}`]}),Ye.invalidateQueries({queryKey:[`/api/employee-leave-balances/${A}`]}),Ye.invalidateQueries({queryKey:["/api/leave-requests"]}),Ye.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),Ye.invalidateQueries({queryKey:["/api/leave-balance-transactions"]}),Ye.invalidateQueries({queryKey:[`/api/leave-balance-transactions/${I}`]}),Ye.invalidateQueries({queryKey:[`/api/leave-balance-transactions/${A}`]}),Ye.refetchQueries({queryKey:[`/api/employee-leave-balances/${I}`]}),A!==I&&Ye.refetchQueries({queryKey:[`/api/employee-leave-balances/${A}`]}),t(!1),ue(null),G([]),de(!1),ce({startDate:"",endDate:"",reason:"",description:"",halfDay:!1,quarterDay:!1,documents:[]}),ct({startHalfDay:!1,endHalfDay:!1});const W=data.collaborativeTasks&&data.collaborativeTasks.length>0;N({title:"Success",description:W?"Leave application submitted successfully with task assignments created":"Leave application submitted successfully"})},onError:A=>{de(!1),N({title:"Error",description:A.message||"Failed to submit leave application",variant:"destructive"})}}),wi=It({mutationFn:async A=>yt("DELETE",`/api/leave-requests/${A}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/leave-requests"]}),Ye.invalidateQueries({queryKey:[`/api/leave-requests?userId=${I}`]}),Ye.invalidateQueries({queryKey:[`/api/employee-leave-balances/${I}`]}),Ye.invalidateQueries({queryKey:[`/api/employee-leave-balances/${I}`,{year:r}]}),Ye.refetchQueries({queryKey:[`/api/leave-requests?userId=${I}`]}),Ye.refetchQueries({queryKey:[`/api/employee-leave-balances/${I}`]}),N({title:"Success",description:"Leave request cancelled successfully"})},onError:A=>{N({title:"Error",description:A.message||"Failed to cancel leave request",variant:"destructive"})}}),La=It({mutationFn:async({id:A,data:W})=>yt("PUT",`/api/leave-requests/${A}`,W),onSuccess:()=>{Ye.invalidateQueries({queryKey:[`/api/leave-requests?userId=${I}`]}),Ye.invalidateQueries({queryKey:[`/api/employee-leave-balances/${I}`]}),Ye.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),Ye.invalidateQueries({queryKey:["/api/leave-variants"]}),Ye.invalidateQueries({queryKey:["/api/leave-requests"]}),Ye.invalidateQueries({queryKey:["/api/leave-balance-transactions"]}),Ye.invalidateQueries({queryKey:[`/api/leave-balance-transactions/${I}`]}),Ye.refetchQueries({queryKey:[`/api/employee-leave-balances/${I}`]}),u(!1),l(null),ue(null),G([]),N({title:"Success",description:"Leave request updated successfully"})},onError:A=>{N({title:"Error",description:A.message||"Failed to update leave request",variant:"destructive"})}}),Ms=It({mutationFn:async({id:A,reason:W})=>yt("POST",`/api/leave-requests/${A}/withdraw`,{reason:W}),onSuccess:async()=>{Ye.invalidateQueries({queryKey:[`/api/leave-requests?userId=${I}`]}),Ye.invalidateQueries({queryKey:[`/api/employee-leave-balances/${I}`,{year:r}]}),Ye.invalidateQueries({queryKey:[`/api/employee-leave-balances/${I}`]}),Ye.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),Ye.invalidateQueries({queryKey:["/api/leave-variants"]}),await q(),f(!1),m(null),p(""),N({title:"Success",description:"Withdrawal request submitted successfully"})},onError:A=>{N({title:"Error",description:A.message||"Failed to submit withdrawal request",variant:"destructive"})}}),mc=A=>{console.log("[EDIT] Editing request:",A),console.log("[EDIT] Available leave types:",R),console.log("[EDIT] Available leave variants:",J),console.log("[EDIT] Available leave variants (mapped):",je);const W=Array.isArray(je)?je:[];let B=W.find(V=>V.leaveTypeId===A.leaveTypeId);if(!B&&A.leaveVariantId&&(B=W.find(V=>V.id===A.leaveVariantId)),console.log("[EDIT] Found variant for leaveTypeId",A.leaveTypeId,":",B),B){ue(B);const V={...A,variantId:B.id};l(V)}else console.log("[EDIT] No variant found, using request as-is"),l(A);u(!0)},Ru=A=>{confirm("Are you sure you want to cancel this leave request?")&&wi.mutate(A)},Fu=A=>{m(A),f(!0)},Xi=()=>{h&&x.trim()&&Ms.mutate({id:h,reason:x.trim()})},pc=async A=>{var Ve,_t,Mt;if(A.preventDefault(),re||ls.isPending){console.log("Submission blocked - already in progress");return}if(de(!0),!Z){N({title:"Validation Error",description:"Please select a leave type",variant:"destructive"}),de(!1);return}const W=new FormData(A.currentTarget),B=W.get("startDate"),V=W.get("endDate"),K=new Date(B+"T00:00:00"),X=new Date(V+"T00:00:00"),le=W.get("startHalfDay")==="on",xe=W.get("endHalfDay")==="on";if(W.get("description"),!F&&_){if(console.log("🔍 [Working Day Validation] Checking dates:",{startDate:K.toISOString().split("T")[0],endDate:X.toISOString().split("T")[0],startDateDay:K.getDay(),endDateDay:X.getDay(),isStartWorkingDay:O(K),isEndWorkingDay:O(X),workPattern:_==null?void 0:_.patternName,nonWorkingDays:_==null?void 0:_.nonWorkingDays}),!O(K)||!O(X)){const Pt=_?`According to your work pattern "${_.patternName}", `:"",Pr=((Mt=(_t=(Ve=_==null?void 0:_.nonWorkingDays)==null?void 0:Ve[0])==null?void 0:_t.days)==null?void 0:Mt.join(", "))||"weekends";N({title:"Invalid Date Selection",description:`${Pt}${Pr} are non-working days. Please select only working days.`,variant:"destructive"});return}}else{const Pt=K.getDay()===0||K.getDay()===6,Pr=X.getDay()===0||X.getDay()===6;if(console.log("🔍 [Fallback Weekend Check] Work pattern not loaded, using simple weekend check:",{startDate:K.toISOString().split("T")[0],endDate:X.toISOString().split("T")[0],isStartWeekend:Pt,isEndWeekend:Pr,workPatternLoading:F,workPatternExists:!!_}),Pt||Pr){N({title:"Invalid Date Selection",description:"Please select working days only. Weekends are not allowed.",variant:"destructive"});return}}let ae=P(K,X),fe=ae;console.log("📅 INITIAL CALCULATION:",ae,"working days"),console.log("=== WORKING DAYS CALCULATION DEBUG ==="),console.log("Start Date:",K.toISOString().split("T")[0]),console.log("End Date:",X.toISOString().split("T")[0]),console.log("Calculated Working Days:",ae),console.log("Work Pattern Loading Status:",F),console.log("Work Pattern Data:",_),console.log("Available Holidays from useWorkPattern:",(D==null?void 0:D.length)||0),console.log("Holidays Array Length:",pt.length),console.log("Full Holidays Array:",pt);const pe=new Date("2025-08-15");if(K<=pe&&pe<=X){console.log("Aug 15th is in range - checking if holiday"),console.log("Aug 15th is holiday (useWorkPattern):",L(pe)),console.log("Aug 15th holiday details (useWorkPattern):",k(pe));const Pt="2025-08-15",Pr=pt.find($a=>$a.selectedDate?new Date($a.selectedDate).toISOString().split("T")[0]===Pt:!1);console.log("Manual Aug 15th holiday search result:",Pr)}console.log("=== DAY BY DAY ANALYSIS ===");const Te=new Date(K);for(;Te<=X;){const Pt=Te.toISOString().split("T")[0];console.log(`${Pt}: Working Day=${O(Te)}, Holiday=${L(Te)}`),Te.setDate(Te.getDate()+1)}if(console.log("==============================="),console.log("✅ Using dynamic working days calculation:",ae),K.getTime()===X.getTime()?(le||xe)&&(ae=.5,fe=.5):(le&&(ae-=.5,fe-=.5),xe&&(ae-=.5,fe-=.5)),v&&!g){N({title:"Validation Error",description:"Please select an employee when applying on behalf",variant:"destructive"});return}G([]);const Se=rr(Z,K,X);if(console.log("Validation errors:",Se),Se.length>0){G(Se),N({title:"Validation Error",description:Se[0],variant:"destructive"});return}const ge=v&&g?g:I;let ye=[];if(Pe.documents.length>0)try{const Pt=new FormData;Pe.documents.forEach(($a,Be)=>{Pt.append("documents",$a)});const Pr=await fetch("/api/upload-documents",{method:"POST",headers:{"X-Org-Id":M.toString()},body:Pt});if(Pr.ok)ye=(await Pr.json()).documents.map(Be=>Be.url);else{N({title:"Upload Error",description:"Failed to upload documents. Please try again.",variant:"destructive"}),de(!1);return}}catch(Pt){console.error("Error uploading documents:",Pt),N({title:"Upload Error",description:"Failed to upload documents. Please try again.",variant:"destructive"}),de(!1);return}const Me={userId:ge,leaveTypeId:Z.leaveTypeId,startDate:W.get("startDate")+"T00:00:00",endDate:W.get("endDate")+"T00:00:00",totalDays:fe,workingDays:ae,reason:W.get("reason"),description:Pe.description,documents:ye,status:"pending"};o?La.mutate({id:o.id,data:Me}):ls.mutate(Me)},ie=Array.isArray(C)?C:[],Ge=ie.sort((A,W)=>{if(A.status==="withdrawal_pending"&&W.status!=="withdrawal_pending")return-1;if(W.status==="withdrawal_pending"&&A.status!=="withdrawal_pending")return 1;const B=new Date(A.createdAt||A.startDate).getTime();return new Date(W.createdAt||W.startDate).getTime()-B});ie.length,ie.filter(A=>A.status==="pending").length,console.log("=== BALANCE CALCULATION DEBUG ==="),console.log("Current user ID:",I),console.log("User assignments:",Ie),console.log("Assigned variant IDs:",ve),console.log("Available leave variants:",je),console.log("Leave balances for user",I,":",Wt),console.log("Raw leaveBalances from API:",U),console.log("All assignments array from API:",z),console.log("All assignments length:",z.length);const Gt=Wt.filter(A=>ve.includes(A.leaveVariantId));console.log("Filtered balances for summary cards:",Gt),console.log("Total entitlement calculation:",Gt.map(A=>({variantId:A.leaveVariantId,totalEntitlement:A.totalEntitlement,parsed:parseFloat(A.totalEntitlement||"0")})));const Gr=Gt.reduce((A,W)=>A+parseFloat(W.totalEntitlement||"0"),0);console.log("Total entitlement sum:",Gr);const hn=Gt.reduce((A,W)=>{const B=parseFloat(W.currentBalance||"0");return A+(B>0?B:0)},0);return console.log("=== TOTAL BALANCE CALCULATION ==="),console.log("Filtered balances used for total:",Gt.map(A=>({variantId:A.leaveVariantId,currentBalance:A.currentBalance,parsed:parseFloat(A.currentBalance||"0")}))),console.log("Step by step calculation:"),Gt.forEach((A,W)=>{const B=parseFloat(A.currentBalance||"0"),V=B>0;console.log(`  ${W+1}. Variant ${A.leaveVariantId}: ${A.currentBalance} -> ${B} (include: ${V})`)}),console.log("Total balance result:",hn),console.log("Should equal sum of visible balances: 13.5 + 4.0 + 9.0 = 26.5"),console.log("=================================="),s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Leave Applications"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Nt,{value:a,onValueChange:i,children:[s.jsx(wt,{className:"w-32",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"Yearly",children:"Yearly"}),s.jsx(Ae,{value:"Monthly",children:"Monthly"}),s.jsx(Ae,{value:"Quarterly",children:"Quarterly"})]})]}),s.jsxs(Nt,{value:r,onValueChange:n,children:[s.jsx(wt,{className:"w-24",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"2025",children:"2025"}),s.jsx(Ae,{value:"2024",children:"2024"}),s.jsx(Ae,{value:"2023",children:"2023"})]})]}),s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsx(Zm,{asChild:!0,children:s.jsx(ee,{className:"bg-green-600 hover:bg-green-700 text-white",children:"Apply for Leave"})})})]})]}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx(Ne,{className:"flex-1",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(()=>{let A=0;return je.forEach(W=>{const B=Wt.find(Te=>Te.leaveVariantId===W.id),V=Array.isArray(Y)?Y.filter(Te=>Te.leaveVariantId===W.id):[],K=V.filter(Te=>{var Se;return Te.transactionType==="grant"&&((Se=Te.description)==null?void 0:Se.toLowerCase().includes("opening balance imported from excel"))}).sort((Te,Se)=>new Date(Se.createdAt).getTime()-new Date(Te.createdAt).getTime()),X=K.length>0?parseFloat(K[0].amount||"0"):0,le=W.grantLeaves==="after_earning",xe=B?parseFloat(B.currentBalance||"0"):0,ae=B?parseFloat(B.totalEntitlement||"0"):0;let fe=0;if(le){const Te=V.filter(Se=>{var ge,ye,Me,Ve,_t,Mt;return Se.transactionType==="grant"&&(((ge=Se.description)==null?void 0:ge.toLowerCase().includes("after earning calculation"))||((ye=Se.description)==null?void 0:ye.toLowerCase().includes("months ×"))||((Me=Se.description)==null?void 0:Me.toLowerCase().includes("automatic balance calculation"))||((Ve=Se.description)==null?void 0:Ve.toLowerCase().includes("balance computation"))||((_t=Se.description)==null?void 0:_t.toLowerCase().includes("first login auto-calculation"))||((Mt=Se.description)==null?void 0:Mt.toLowerCase().includes("after earning")))});Te.length>0?fe=Te.reduce((Se,ge)=>Se+parseFloat(ge.amount||"0"),0):fe=Math.max(0,xe-X)}else{const Te=S==null?void 0:S.find(ye=>{var Me,Ve,_t;return((Me=ye.user_id)==null?void 0:Me.toString())===I||((Ve=ye.id)==null?void 0:Ve.toString())===I||((_t=ye.employee_number)==null?void 0:_t.toString())===I}),Se=Te==null?void 0:Te.date_of_joining,ge=new Date().getFullYear();if(Se)if(new Date(Se).getFullYear()<ge)fe=ae-X;else{const Me=(W==null?void 0:W.paidDaysInYear)||0,Ve=new Date(Se),_t=new Date(ge,11,31),Mt=Math.max(0,(_t.getFullYear()-Ve.getFullYear())*12+(_t.getMonth()-Ve.getMonth())+1);fe=Math.round(Me/12*Mt*2)/2}else fe=ae-X}const pe=fe+X;A+=pe}),A.toFixed(1)})()}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Total Leaves"})]})}),s.jsx(Ne,{className:"flex-1",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:(()=>{const A=Y.filter(B=>B.userId===I);console.log("💳 [TOTAL AVAILED CALCULATION] Starting calculation:",{totalTransactions:Y.length,userTransactions:A.length,currentUserId:I,availableVariants:(je==null?void 0:je.length)||0,requestsArrayLength:ie.length,variantIds:je.slice(0,3).map(B=>B.id),sampleRequestVariantIds:ie.slice(0,5).map(B=>B.leaveVariantId)});let W=0;return je.forEach(B=>{const V=B.leaveBalanceDeductionBefore===!0;let K=0;const X=ie.filter(Se=>{const ge=Se.leaveVariantId===B.id,ye=(Se.leaveVariantId===null||Se.leaveVariantId===void 0)&&(Se.leaveTypeId===B.leaveTypeId||String(Se.leaveTypeId)===String(B.leaveTypeId)||Number(Se.leaveTypeId)===Number(B.leaveTypeId));return B.leaveTypeName==="Earned Leave"&&K<3&&(console.log(`🔍 MATCHING DEBUG for ${B.leaveTypeName} (request ${K+1}):`,{reqId:Se.id,reqLeaveVariantId:Se.leaveVariantId,reqLeaveTypeId:Se.leaveTypeId,reqLeaveTypeIdType:typeof Se.leaveTypeId,variantId:B.id,variantLeaveTypeId:B.leaveTypeId,variantLeaveTypeIdType:typeof B.leaveTypeId,variantIdMatch:ge,typeIdMatch:ye,finalMatch:ge||ye}),K++),ge||ye}),le=X.filter(Se=>Se.status==="approved"),xe=le.reduce((Se,ge)=>Se+parseFloat(ge.workingDays||"0"),0);let ae=0;V&&(ae=X.filter(ge=>ge.status==="pending").reduce((ge,ye)=>ge+parseFloat(ye.workingDays||"0"),0));const pe=A.filter(Se=>Se.leaveVariantId===B.id).filter(Se=>{var ge,ye;return((ge=Se.description)==null?void 0:ge.toLowerCase().includes("imported leave transaction"))&&((ye=Se.description)==null?void 0:ye.toLowerCase().includes("availed"))&&(Se.transactionType==="deduction"||Se.transactionType==="debit")}).reduce((Se,ge)=>Se+Math.abs(parseFloat(ge.amount||"0")),0),Te=xe+ae+pe;console.log(`🎯 [VARIANT DEBUG] ${B.leaveTypeName||B.leaveVariantName}:`,{currentUserId:I,variantId:B.id,variantLeaveTypeId:B.leaveTypeId,isBeforeWorkflow:V,requestsArrayLength:ie.length,matchingRequests:X.length,matchingRequestSample:X.slice(0,3).map(Se=>({id:Se.id,leaveVariantId:Se.leaveVariantId,leaveTypeId:Se.leaveTypeId,status:Se.status,workingDays:Se.workingDays})),approvedRequests:le.length,approvedDays:xe,pendingDays:ae,importedAvailed:pe,variantAvailed:Te,runningTotal:W+Te}),W+=Te}),console.log("💳 [TOTAL AVAILED RESULT] Final calculation:",{totalAvailed:W,formattedResult:W.toFixed(1)}),W.toFixed(1)})()}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Total Availed"})]})}),s.jsx(Ne,{className:"flex-1",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(ie==null?void 0:ie.filter(A=>A.status==="pending").length)||0}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Pending approvals"})]})}),s.jsx(Ne,{className:"flex-1",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(()=>{const A=Gr,W=Y.filter(K=>K.userId===I);let B=0;je.forEach(K=>{const X=K.leaveBalanceDeductionBefore===!0,le=ie.filter(ge=>ge.leaveVariantId===K.id||(ge.leaveVariantId===null||ge.leaveVariantId===void 0)&&ge.leaveTypeId===K.leaveTypeId),ae=le.filter(ge=>ge.status==="approved").reduce((ge,ye)=>ge+parseFloat(ye.workingDays||"0"),0);let fe=0;X&&(fe=le.filter(ye=>ye.status==="pending").reduce((ye,Me)=>ye+parseFloat(Me.workingDays||"0"),0));const Te=W.filter(ge=>ge.leaveVariantId===K.id).filter(ge=>{var ye,Me;return((ye=ge.description)==null?void 0:ye.toLowerCase().includes("imported leave transaction"))&&((Me=ge.description)==null?void 0:Me.toLowerCase().includes("availed"))&&(ge.transactionType==="deduction"||ge.transactionType==="debit")}).reduce((ge,ye)=>ge+Math.abs(parseFloat(ye.amount||"0")),0),Se=ae+fe+Te;B+=Se});const V=A-B;return console.log("=== CORRECTED BALANCE CALCULATION ==="),console.log("Total Leaves:",A),console.log("Total Availed:",B),console.log("Calculated Balance (Total Leaves - Total Availed):",V),console.log("===================================="),V.toFixed(1)})()}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Balance"})]})})]}),s.jsxs(Ne,{className:"mb-6",children:[s.jsx(ht,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"i"})}),s.jsx(mt,{className:"text-lg font-semibold text-gray-800",children:"Leave Balance Information"})]})}),s.jsx(_e,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Leave Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Op Balance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Eligibility"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total Eligibility"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Availed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"LOP"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Leave Lapsed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Leave Encashed"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Closing Balance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Max Leave Carry Forward"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:je.map(A=>{const W=Wt.find(Be=>Be.leaveVariantId===A.id),B=Array.isArray(Y)?Y.filter(Be=>Be.leaveVariantId===A.id):[],V=B.filter(Be=>{var xt;return Be.transactionType==="grant"&&((xt=Be.description)==null?void 0:xt.toLowerCase().includes("opening balance imported from excel"))}).sort((Be,xt)=>new Date(xt.createdAt).getTime()-new Date(Be.createdAt).getTime()),K=V.length>0?parseFloat(V[0].amount||"0"):0,X=A.grantLeaves==="after_earning",le=W?parseFloat(W.currentBalance||"0"):0,xe=W?parseFloat(W.totalEntitlement||"0"):0;let ae=0;if(X){const Be=B.filter(xt=>{var Hr,En,gc,Ko,Go,A0;return xt.transactionType==="grant"&&(((Hr=xt.description)==null?void 0:Hr.toLowerCase().includes("after earning calculation"))||((En=xt.description)==null?void 0:En.toLowerCase().includes("months ×"))||((gc=xt.description)==null?void 0:gc.toLowerCase().includes("automatic balance calculation"))||((Ko=xt.description)==null?void 0:Ko.toLowerCase().includes("balance computation"))||((Go=xt.description)==null?void 0:Go.toLowerCase().includes("first login auto-calculation"))||((A0=xt.description)==null?void 0:A0.toLowerCase().includes("after earning")))});Be.length>0?ae=Be.reduce((xt,Hr)=>xt+parseFloat(Hr.amount||"0"),0):ae=Math.max(0,le-K),A.leaveTypeName==="Privilege Leave"&&console.log(`🔍 ${A.leaveTypeName} Eligibility Debug:`,{isAfterEarning:X,currentBalance:le,openingBalance:K,earnedTransactions:Be.map(xt=>({id:xt.id,amount:xt.amount,description:xt.description})),eligibilityFromTransactions:Be.reduce((xt,Hr)=>xt+parseFloat(Hr.amount||"0"),0),fallbackEligibility:le-K,finalEligibility:ae,explanation:"For After Earning: Eligibility = Sum of earned transaction amounts"})}else{const Be=S==null?void 0:S.find(En=>{var gc,Ko,Go;return((gc=En.user_id)==null?void 0:gc.toString())===I||((Ko=En.id)==null?void 0:Ko.toString())===I||((Go=En.employee_number)==null?void 0:Go.toString())===I}),xt=Be==null?void 0:Be.date_of_joining,Hr=new Date().getFullYear();if(xt)if(new Date(xt).getFullYear()<Hr)ae=xe-K;else{const gc=(A==null?void 0:A.paidDaysInYear)||0,Ko=new Date(xt),Go=new Date(Hr,11,31),A0=Math.max(0,(Go.getFullYear()-Ko.getFullYear())*12+(Go.getMonth()-Ko.getMonth())+1);ae=Math.round(gc/12*A0*2)/2}else ae=xe-K}const fe=ae+K,pe=A.leaveBalanceDeductionBefore===!0;I==="2161"&&(A.leaveTypeName==="Earned Leave"||A.leaveTypeName==="Sick Leave/ Casual Leave")&&console.log(`🔍 [AVAILED CALCULATION] User ${I}, ${A.leaveTypeName}:`,{variantId:A.id,isBeforeWorkflow:pe,leaveBalanceDeductionBefore:A.leaveBalanceDeductionBefore,totalTransactions:B.length,pendingDeductions:B.filter(Be=>Be.transactionType==="pending_deduction").length,allPendingTransactions:B.filter(Be=>Be.transactionType==="pending_deduction").map(Be=>({id:Be.id,amount:Be.amount,description:Be.description,variantId:Be.leaveVariantId})),filteredPendingForThisVariant:B.filter(Be=>Be.transactionType==="pending_deduction"&&Be.leaveVariantId===A.id).map(Be=>({id:Be.id,amount:Be.amount,description:Be.description}))}),I==="2161"&&A.leaveTypeName==="Earned Leave"&&console.log(`🔍 [DEBUG REQUESTS DATA] User ${I}, ${A.leaveTypeName}:`,{requestsArrayLength:ie.length,variantId:A.id,sampleRequests:ie.slice(0,3).map(Be=>({id:Be.id,userId:Be.userId,leaveVariantId:Be.leaveVariantId,status:Be.status,workingDays:Be.workingDays})),allRequestsForUser:ie.filter(Be=>Be.userId===I).map(Be=>({id:Be.id,leaveVariantId:Be.leaveVariantId,status:Be.status,workingDays:Be.workingDays}))});const Te=ie.filter(Be=>Be.leaveVariantId===A.id||(Be.leaveVariantId===null||Be.leaveVariantId===void 0)&&Be.leaveTypeId===A.leaveTypeId),Se=Te.filter(Be=>Be.status==="approved"),ge=Se.reduce((Be,xt)=>Be+parseFloat(xt.workingDays||"0"),0);let ye=0;pe&&(ye=Te.filter(xt=>xt.status==="pending").reduce((xt,Hr)=>xt+parseFloat(Hr.workingDays||"0"),0));const Me=B.filter(Be=>{var xt,Hr;return((xt=Be.description)==null?void 0:xt.toLowerCase().includes("imported leave transaction"))&&((Hr=Be.description)==null?void 0:Hr.toLowerCase().includes("availed"))&&(Be.transactionType==="deduction"||Be.transactionType==="debit")}).reduce((Be,xt)=>Be+Math.abs(parseFloat(xt.amount||"0")),0),Ve=ge+ye+Me;I==="2161"&&(A.leaveTypeName==="Earned Leave"||A.leaveTypeName==="Sick Leave/ Casual Leave")&&console.log(`✅ [CORRECTED AVAILED] ${A.leaveTypeName}:`,{variantId:A.id,isBeforeWorkflow:pe,approvedRequests:Se.length,approvedDays:ge,pendingRequests:pe?ie.filter(Be=>Be.leaveVariantId===A.id&&Be.status==="pending").length:0,pendingDays:ye,importedAvailed:Me,totalCorrectedAvailed:Ve});const _t=B.filter(Be=>{var xt,Hr;return(Be.transactionType==="debit"||Be.transactionType==="deduction")&&(((xt=Be.description)==null?void 0:xt.toLowerCase().includes("lop"))||((Hr=Be.description)==null?void 0:Hr.toLowerCase().includes("loss of pay")))}).reduce((Be,xt)=>Be+Math.abs(parseFloat(xt.amount||"0")),0),Mt=B.filter(Be=>{var xt;return(Be.transactionType==="debit"||Be.transactionType==="deduction")&&((xt=Be.description)==null?void 0:xt.toLowerCase().includes("encash"))}).reduce((Be,xt)=>Be+Math.abs(parseFloat(xt.amount||"0")),0),Pt=B.filter(Be=>{var xt;return(Be.transactionType==="debit"||Be.transactionType==="deduction")&&((xt=Be.description)==null?void 0:xt.toLowerCase().includes("lapse"))}).reduce((Be,xt)=>Be+Math.abs(parseFloat(xt.amount||"0")),0),Pr=fe-Ve,$a=A.carryForwardDays||0;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.leaveTypeName||"Unknown Leave Type"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:K.toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ae.toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:fe.toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(Ve||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(_t||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(Pt||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number(Mt||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:Number(Pr||0).toFixed(1)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Number($a||0).toFixed(1)})]},A.id)})})]})})})]}),s.jsxs(Xn,{open:e,onOpenChange:t,children:[s.jsx(Zm,{asChild:!0,children:s.jsx("div",{style:{display:"none"}})}),s.jsxs(Qn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Zn,{children:s.jsx(Jn,{className:"text-xl font-semibold",children:"Apply For Leave"})}),s.jsxs("form",{onSubmit:pc,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"leaveType",className:"text-sm font-medium text-gray-700",children:"Leave type"}),s.jsxs(Nt,{name:"leaveType",required:!0,onValueChange:os,children:[s.jsx(wt,{className:"w-full mt-1",children:s.jsx(St,{placeholder:"Select Leave Type"})}),s.jsx(bt,{children:je.map(A=>{const W=Wt.find(ge=>ge.leaveVariantId===A.id),B=Array.isArray(Y)?Y.filter(ge=>ge.leaveVariantId===A.id):[],V=B.filter(ge=>{var ye;return ge.transactionType==="grant"&&((ye=ge.description)==null?void 0:ye.toLowerCase().includes("opening balance imported from excel"))}).sort((ge,ye)=>new Date(ye.createdAt).getTime()-new Date(ge.createdAt).getTime()),K=V.length>0?parseFloat(V[0].amount||"0"):0,X=A.grantLeaves==="after_earning",le=W?parseFloat(W.currentBalance||"0"):0,xe=W?parseFloat(W.totalEntitlement||"0"):0;let ae=0;if(X){const ge=B.filter(ye=>{var Me,Ve,_t,Mt,Pt,Pr;return ye.transactionType==="grant"&&(((Me=ye.description)==null?void 0:Me.toLowerCase().includes("after earning calculation"))||((Ve=ye.description)==null?void 0:Ve.toLowerCase().includes("months ×"))||((_t=ye.description)==null?void 0:_t.toLowerCase().includes("automatic balance calculation"))||((Mt=ye.description)==null?void 0:Mt.toLowerCase().includes("balance computation"))||((Pt=ye.description)==null?void 0:Pt.toLowerCase().includes("first login auto-calculation"))||((Pr=ye.description)==null?void 0:Pr.toLowerCase().includes("after earning")))});ge.length>0?ae=ge.reduce((ye,Me)=>ye+parseFloat(Me.amount||"0"),0):ae=Math.max(0,le-K)}else{const ge=S==null?void 0:S.find(Ve=>{var _t,Mt,Pt;return((_t=Ve.user_id)==null?void 0:_t.toString())===I||((Mt=Ve.id)==null?void 0:Mt.toString())===I||((Pt=Ve.employee_number)==null?void 0:Pt.toString())===I}),ye=ge==null?void 0:ge.date_of_joining,Me=new Date().getFullYear();if(ye)if(new Date(ye).getFullYear()<Me)ae=xe-K;else{const _t=(A==null?void 0:A.paidDaysInYear)||0,Mt=new Date(ye),Pt=new Date(Me,11,31),Pr=Math.max(0,(Pt.getFullYear()-Mt.getFullYear())*12+(Pt.getMonth()-Mt.getMonth())+1);ae=Math.round(_t/12*Pr*2)/2}else ae=xe-K}const fe=ae+K,pe=B.filter(ge=>{var Pt;const ye=parseFloat(ge.amount||"0"),Me=ge.transactionType==="debit"||ge.transactionType==="deduction",Ve=ye<0,_t=ge.transactionType==="pending_deduction";return((Pt=ge.description)==null?void 0:Pt.toLowerCase().includes("imported leave transaction"))&&ye<0?!0:_t?(A==null?void 0:A.leaveBalanceDeductionBefore)===!0:Me||Ve}),Te=pe.reduce((ge,ye)=>ge+Math.abs(parseFloat(ye.amount||"0")),0);console.log(`🔍 [TABLE AVAILED] Variant ${A.id} (${A.leaveVariantName}):`,{isBeforeWorkflow:A==null?void 0:A.leaveBalanceDeductionBefore,totalTransactions:B.length,usageTransactions:pe.length,pendingDeductions:B.filter(ge=>ge.transactionType==="pending_deduction").length,finalAvailed:Te});const Se=Math.max(0,fe-Te);return s.jsxs(Ae,{value:A.id.toString(),children:[A.leaveTypeName," (",A.leaveVariantName,") - ",Se.toFixed(1)," days available"]},A.id)})})]}),Z&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Leave Type Requirements:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[Z.minDaysRequired>0&&s.jsxs("li",{children:["• Minimum ",Z.minDaysRequired," days required"]}),Z.maxDaysInStretch>0&&s.jsxs("li",{children:["• Maximum ",Z.maxDaysInStretch," days in a single application"]}),Z.mustBePlannedInAdvance>0&&s.jsxs("li",{children:["• Must be planned ",Z.mustBePlannedInAdvance," days in advance"]}),Z.supportingDocuments&&s.jsxs("li",{children:["• Supporting documents ",Z.supportingDocumentsText||"required"]}),Z.maxInstances>0&&s.jsxs("li",{children:["• Maximum ",Z.maxInstances," applications per ",Z.maxInstancesPeriod]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"startDate",className:"text-sm font-medium text-gray-700",children:"Start date"}),s.jsx(ut,{type:"date",name:"startDate",value:Pe.startDate,placeholder:"mm/dd/yyyy",className:"mt-1",min:H,max:te,required:!0,onChange:A=>{const W=A.target.value;ce(B=>{const V={...B,startDate:W};return V.endDate&&V.endDate<W&&(V.endDate=""),V.endDate&&(console.log("🗓️ [START DATE] Triggering validation with dates:",V.startDate,V.endDate),setTimeout(()=>{const K={...Pe,startDate:W};Is(K)},100)),V})}}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working days only (Monday-Friday)"}),((Tn=Z==null?void 0:Z.minimumLeaveUnit)==null?void 0:Tn.includes("half_day"))&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Tt,{name:"startHalfDay",id:"startHalfDay",checked:$e.startHalfDay,onCheckedChange:A=>ct(W=>({...W,startHalfDay:!!A}))}),s.jsx(dt,{htmlFor:"startHalfDay",className:"text-sm",children:"Half day"})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"endDate",className:"text-sm font-medium text-gray-700",children:"End date"}),s.jsx(ut,{type:"date",name:"endDate",value:Pe.endDate,placeholder:"mm/dd/yyyy",className:"mt-1",min:Pe.startDate||H,max:te,required:!0,onChange:A=>{const W=A.target.value;console.log("🗓️ [END DATE] User entered end date:",W),ce(B=>{const V={...B,endDate:W};return console.log("🗓️ [END DATE] Updated form data:",V),V.startDate&&V.endDate&&(console.log("🗓️ [END DATE] Both dates present, triggering validation in 100ms"),setTimeout(()=>{console.log("🗓️ [END DATE] Calling validateDatesWithData now");const K={...Pe,endDate:W};Is(K)},100)),V})}}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Working days only (Monday-Friday)"}),((aa=Z==null?void 0:Z.minimumLeaveUnit)==null?void 0:aa.includes("half_day"))&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Tt,{name:"endHalfDay",id:"endHalfDay",checked:$e.endHalfDay,onCheckedChange:A=>ct(W=>({...W,endHalfDay:!!A}))}),s.jsx(dt,{htmlFor:"endHalfDay",className:"text-sm",children:"Half day"})]})]})]}),Pe.startDate&&Pe.endDate&&s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900",children:"Total Leave Days Selected"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["From ",new Date(Pe.startDate).toLocaleDateString()," to ",new Date(Pe.endDate).toLocaleDateString()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:(()=>{const A=zt();return A.toFixed(A%1===0?0:1)})()}),s.jsx("div",{className:"text-sm text-blue-700",children:"working days"})]})]})}),he.length>0&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Validation Errors:"}),s.jsx("ul",{className:"text-sm text-red-800 space-y-1",children:he.map((A,W)=>s.jsxs("li",{children:["• ",A]},W))})]}),(Z==null?void 0:Z.supportingDocuments)&&s.jsxs("div",{children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700",children:"Supporting Documents *"}),s.jsxs("div",{className:"mt-1 border-2 border-dashed border-gray-300 rounded-lg p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(H2,{className:"mx-auto h-8 w-8 text-gray-400"}),s.jsx("div",{className:"mt-2",children:s.jsxs("label",{htmlFor:"documents",className:"cursor-pointer",children:[s.jsx("span",{className:"text-sm text-blue-600 hover:text-blue-500",children:"Upload documents"}),s.jsx("input",{id:"documents",name:"documents",type:"file",multiple:!0,className:"sr-only",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:A=>{const W=Array.from(A.target.files||[]);ce(B=>({...B,documents:W}))}})]})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, Word, or Image files (max 5MB each)"})]}),Pe.documents.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected files:"}),s.jsx("div",{className:"space-y-1",children:Pe.documents.map((A,W)=>s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsx("span",{children:A.name}),s.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>{ce(B=>({...B,documents:B.documents.filter((V,K)=>K!==W)}))},children:s.jsx(Yn,{className:"w-4 h-4"})})]},W))})]})]}),(Z==null?void 0:Z.supportingDocumentsText)&&s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:Z.supportingDocumentsText})]}),((Rs=(sa=E==null?void 0:E.permissions)==null?void 0:sa.allowOnBehalf)==null?void 0:Rs.leave)===!0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{name:"applyOnBehalf",id:"applyOnBehalf",checked:v,onCheckedChange:A=>{b(!!A),A||w("")}}),s.jsx(dt,{htmlFor:"applyOnBehalf",className:"text-sm",children:"Apply on behalf of someone else"})]}),v&&s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"employee",className:"text-sm font-medium text-gray-700",children:"Select Employee *"}),s.jsxs(Nt,{value:g,onValueChange:w,children:[s.jsx(wt,{className:"mt-1",children:s.jsx(St,{placeholder:"Select an employee"})}),s.jsx(bt,{children:S.map(A=>s.jsx(Ae,{value:A.user_id,children:A.user_name||`${A.first_name||""} ${A.last_name||""}`.trim()||A.employee_number||`Employee ${A.user_id}`},A.user_id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"reason",className:"text-sm font-medium text-gray-700",children:"Reason for leave"}),s.jsxs(Nt,{name:"reason",required:!0,children:[s.jsx(wt,{className:"w-full mt-1",children:s.jsx(St,{placeholder:"Select Reason for Leave"})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"personal",children:"Personal"}),s.jsx(Ae,{value:"medical",children:"Medical"}),s.jsx(Ae,{value:"family",children:"Family Emergency"}),s.jsx(Ae,{value:"vacation",children:"Vacation"}),s.jsx(Ae,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsxs(dt,{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:["Description ",(Z==null?void 0:Z.supportingDocuments)&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(wn,{name:"description",value:Pe.description,onChange:A=>{ce(W=>({...W,description:A.target.value})),he.length>0&&G([])},placeholder:"State the reason for your leave request",className:"mt-1 min-h-[100px]"})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700",children:"Assign Tasks"}),s.jsx(ee,{type:"button",variant:"ghost",className:"text-green-600",children:s.jsx(Sn,{className:"w-4 h-4"})})]})}),ne&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Leave Type Not Available"}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:ne})})]})]})}),(Q==null?void 0:Q.enabled)&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Task Assignment (Optional)"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Assign tasks to colleagues to ensure smooth operations during your leave"})]}),s.jsx(kOe,{leaveRequestId:void 0,className:"mb-4",onTasksChange:A=>{j(A)}})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),className:"text-green-600 border-green-600",children:"Discard"}),s.jsx(ee,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white",disabled:ls.isPending||re||!Ce,children:ls.isPending||re?"Submitting...":"Apply for Leave"})]})]})]})]}),s.jsx(Xn,{open:c,onOpenChange:A=>{u(A),A||(l(null),ue(null),G([]))},children:s.jsxs(Qn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Zn,{children:s.jsx(Jn,{className:"text-xl font-semibold",children:"Edit Leave Request"})}),s.jsxs("form",{onSubmit:pc,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"leaveType",className:"text-sm font-medium text-gray-700",children:"Leave type"}),s.jsxs(Nt,{name:"leaveType",required:!0,onValueChange:os,defaultValue:((ia=o==null?void 0:o.variantId)==null?void 0:ia.toString())||"",children:[s.jsx(wt,{className:"w-full mt-1",children:s.jsx(St,{placeholder:"Select Leave Type"})}),s.jsx(bt,{children:je.map(A=>{const W=Wt.find(V=>V.leaveVariantId===A.id),B=W?Math.max(0,parseFloat(W.currentBalance||"0")):0;return s.jsxs(Ae,{value:A.id.toString(),children:[A.leaveTypeName," (",A.leaveVariantName,") - ",B.toFixed(1)," days available"]},A.id)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"startDate",className:"text-sm font-medium text-gray-700",children:"Start date"}),s.jsx(ut,{type:"date",name:"startDate",placeholder:"mm/dd/yyyy",className:"mt-1",min:H,defaultValue:o?new Date(o.startDate).toISOString().split("T")[0]:"",onChange:yi,required:!0})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"endDate",className:"text-sm font-medium text-gray-700",children:"End date"}),s.jsx(ut,{type:"date",name:"endDate",placeholder:"mm/dd/yyyy",className:"mt-1",min:H,defaultValue:o?new Date(o.endDate).toISOString().split("T")[0]:"",onChange:yi,required:!0})]})]}),((qo=Z==null?void 0:Z.minimumLeaveUnit)==null?void 0:qo.includes("half_day"))&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{name:"startHalfDay"}),s.jsx(dt,{className:"text-sm text-gray-700",children:"Start date half day"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{name:"endHalfDay"}),s.jsx(dt,{className:"text-sm text-gray-700",children:"End date half day"})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"reason",className:"text-sm font-medium text-gray-700",children:"Reason for Leave"}),s.jsx(wn,{name:"reason",placeholder:"Enter reason for leave",className:"mt-1",rows:3,defaultValue:(o==null?void 0:o.reason)||"",required:!0})]}),he.length>0&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Please fix the following errors:"}),s.jsx("ul",{className:"text-sm text-red-800 space-y-1",children:he.map((A,W)=>s.jsxs("li",{children:["• ",A]},W))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>u(!1),className:"text-gray-600 border-gray-300",children:"Cancel"}),s.jsx(ee,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:La.isPending||he.length>0,children:La.isPending?"Updating...":"Update Request"})]})]})]})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:C.length===0?s.jsx("div",{className:"p-12 text-center text-gray-500",children:"No leave applications found for the selected period."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Leave Type"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"From"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"To"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Days"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Reason"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),s.jsx("tbody",{children:Ge.map(A=>{const B=(Array.isArray(R)?R:[]).find(X=>X.id===A.leaveTypeId),K=(Array.isArray(J)?J:[]).find(X=>X.leaveTypeId===A.leaveTypeId);return s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4",children:(B==null?void 0:B.name)||"Unknown"}),s.jsx("td",{className:"py-3 px-4",children:new Date(A.startDate).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4",children:new Date(A.endDate).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4",children:A.workingDays}),s.jsx("td",{className:"py-3 px-4 capitalize",children:A.reason}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium inline-block w-fit ${A.status==="pending"?"bg-yellow-100 text-yellow-800":A.status==="approved"?"bg-green-100 text-green-800":A.status==="withdrawn"?"bg-orange-100 text-orange-800":A.status==="withdrawal_pending"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800"}`,children:A.status==="withdrawal_pending"?"Withdrawal Pending":A.status==="rejected"&&A.approvalHistory&&A.approvalHistory.some(X=>X.action==="submitted"&&X.comment)?"Withdrawal Rejected":A.status}),A.status==="rejected"&&A.rejectedReason&&s.jsxs("div",{className:"mt-1 text-xs text-red-600 bg-red-50 px-2 py-1 rounded border border-red-200",children:[s.jsx("strong",{children:"Reason:"})," ",A.rejectedReason]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex space-x-2",children:[A.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50",onClick:()=>mc(A),disabled:La.isPending,children:[s.jsx(Nu,{className:"w-3 h-3 mr-1"}),"Edit"]}),((K==null?void 0:K.allowWithdrawalBeforeApproval)||!(K!=null&&K.withdrawalNotAllowed))&&s.jsxs(ee,{variant:"outline",size:"sm",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>Ru(A.id),disabled:wi.isPending,children:[s.jsx(Ea,{className:"w-3 h-3 mr-1"}),wi.isPending?"Cancelling...":"Cancel"]})]}),A.status==="approved"&&(K==null?void 0:K.allowWithdrawalAfterApproval)&&s.jsxs(ee,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-600 hover:bg-orange-50",onClick:()=>Fu(A.id),disabled:Ms.isPending,children:[s.jsx(Yn,{className:"w-3 h-3 mr-1"}),Ms.isPending?"Withdrawing...":"Withdraw"]})]})})]},A.id)})})]})})})}),s.jsx(Xn,{open:d,onOpenChange:A=>{f(A),A||(m(null),p(""))},children:s.jsxs(Qn,{className:"max-w-md",children:[s.jsx(Zn,{children:s.jsx(Jn,{children:"Withdraw Leave Request"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Please provide a reason for withdrawing this leave request. This action may require approval before completion."}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"withdrawalReason",className:"text-sm font-medium",children:"Reason for withdrawal *"}),s.jsx(wn,{id:"withdrawalReason",placeholder:"Enter reason for withdrawal...",value:x,onChange:A=>p(A.target.value),className:"mt-1",rows:3,required:!0})]}),s.jsxs("div",{className:"flex space-x-2 pt-4",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>{f(!1),m(null),p("")},children:"Cancel"}),s.jsx(ee,{onClick:Xi,disabled:!x.trim()||Ms.isPending,className:"bg-orange-600 hover:bg-orange-700",children:Ms.isPending?"Submitting...":"Submit Withdrawal"})]})]})]})})]})})})}function OOe(){const[e,t]=T.useState("July 2025"),[r,n]=T.useState("My Calendar"),[a,i]=T.useState("monthly"),o=()=>{const S=["January","February","March","April","May","June","July","August","September","October","November","December"],[_,D]=e.split(" "),F=S.indexOf(_);t(F===0?`December ${parseInt(D)-1}`:`${S[F-1]} ${D}`)},l=()=>{const S=["January","February","March","April","May","June","July","August","September","October","November","December"],[_,D]=e.split(" "),F=S.indexOf(_);t(F===11?`January ${parseInt(D)+1}`:`${S[F+1]} ${D}`)},c=()=>{const S=new Date;t(`${["January","February","March","April","May","June","July","August","September","October","November","December"][S.getMonth()]} ${S.getFullYear()}`)},{workPattern:u,holidays:d,isLoading:f}=eh(),{data:h,isLoading:m}=Le({queryKey:["/api/holidays"],staleTime:5*60*1e3}),{data:x,isLoading:p,error:v}=Le({queryKey:["/external/holidays"],queryFn:async()=>{const S=localStorage.getItem("jwt_token");if(console.log("🔑 [External Holidays] JWT token found:",!!S),console.log("🔑 [External Holidays] JWT token length:",S==null?void 0:S.length),!S)throw new Error("JWT token not found in localStorage");console.log("🌐 [External Holidays] Calling API: https://qa-api.resolveindia.com/organization/holidays");const _=await fetch("https://qa-api.resolveindia.com/organization/holidays",{method:"GET",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}});if(console.log("🌐 [External Holidays] Response status:",_.status),!_.ok){const F=await _.text();throw console.log("🌐 [External Holidays] Error response:",F),new Error(`Failed to fetch holidays: ${_.status} ${_.statusText}`)}const D=await _.json();return console.log("🌐 [External Holidays] Response data:",D),D.data||D||[]},staleTime:5*60*1e3,refetchOnMount:!0}),b=x&&x.length>0?x:h||[],g=u&&u.selectedHolidays?b.filter(S=>u.selectedHolidays.includes(S.id)):b;console.log("🔄 Holiday Source: Using",x&&x.length>0?"External API":"Database","holidays"),console.log("🏢 [Holidays Debug] All holidays count:",b.length),console.log("🏢 [Holidays Debug] Raw holidays:",b),console.log("🏢 [Holidays Debug] Work pattern selectedHolidays:",u==null?void 0:u.selectedHolidays),console.log("🏢 [Holidays Debug] Filtered holidays count:",g.length);const w=g.map(S=>{let _="",D="";return S.selectedDate?(_=S.selectedDate.split("T")[0],D=S.holidayName||"Holiday"):S.date&&(_=S.date.includes("T")?S.date.split("T")[0]:S.date,D=S.name||"Holiday"),{date:_,name:D}});console.log("🗓️ [Holidays Debug] Final processed holidays:",w),console.log("🗓️ [Holidays Debug] Selected month:",e);const j=(()=>{const _=["January","February","March","April","May","June","July","August","September","October","November","December"],D=e.split(" ")[0],F=_.indexOf(D),O=new Date(2025,F,1),L=new Date(O);L.setDate(L.getDate()-O.getDay());const k=[],P=new Date(L);for(let I=0;I<42;I++){const M=P.getFullYear(),C=String(P.getMonth()+1).padStart(2,"0"),R=String(P.getDate()).padStart(2,"0"),z=`${M}-${C}-${R}`,J=w.find(q=>q.date===z),U=P.getMonth()===F;e.includes("August")&&P.getMonth()===7&&P.getDate()>=14&&P.getDate()<=17&&console.log(`🔍 August Debug: ${z} -> Day ${P.getDate()}, Holiday: ${(J==null?void 0:J.name)||"none"}`),k.push({date:P.getDate(),fullDate:z,isCurrentMonth:U,holiday:J==null?void 0:J.name,isHoliday:!!J}),P.setDate(P.getDate()+1)}return k})();console.log("🗓️ Generated Calendar Days:",j),console.log("Calendar Days Length:",j.length);const E=["January","February","March","April","May","June","July","August","September","October","November","December"].map((D,F)=>{const O=new Date(2025,F,1),L=new Date(O);L.setDate(L.getDate()-O.getDay());const k=[],P=new Date(L);for(let I=0;I<42;I++){const M=P.getFullYear(),C=String(P.getMonth()+1).padStart(2,"0"),R=String(P.getDate()).padStart(2,"0"),z=`${M}-${C}-${R}`,J=w.find(q=>q.date===z),U=P.getMonth()===F;k.push({date:P.getDate(),fullDate:z,isCurrentMonth:U,holiday:J==null?void 0:J.name,isHoliday:!!J}),P.setDate(P.getDate()+1)}return{monthName:D,monthIndex:F,days:k}});return p||f?s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading holidays..."})]})})})})}):v?s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load holidays"}),s.jsx("p",{className:"text-gray-600 mb-4",children:v instanceof Error?v.message:"Unable to fetch holiday data from the server"}),s.jsx(ee,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]})})})})}):s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Holidays ",g&&g.length>0&&`(${g.length} total)`]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[s.jsx(ee,{variant:a==="monthly"?"default":"ghost",size:"sm",onClick:()=>i("monthly"),className:`px-3 py-1 text-sm ${a==="monthly"?"bg-white shadow-sm":"bg-transparent hover:bg-gray-200"}`,children:"Monthly"}),s.jsx(ee,{variant:a==="yearly"?"default":"ghost",size:"sm",onClick:()=>i("yearly"),className:`px-3 py-1 text-sm ${a==="yearly"?"bg-white shadow-sm":"bg-transparent hover:bg-gray-200"}`,children:"Yearly"})]}),a==="monthly"&&s.jsxs(Nt,{value:e,onValueChange:t,children:[s.jsx(wt,{className:"w-40",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"January 2025",children:"January 2025"}),s.jsx(Ae,{value:"February 2025",children:"February 2025"}),s.jsx(Ae,{value:"March 2025",children:"March 2025"}),s.jsx(Ae,{value:"April 2025",children:"April 2025"}),s.jsx(Ae,{value:"May 2025",children:"May 2025"}),s.jsx(Ae,{value:"June 2025",children:"June 2025"}),s.jsx(Ae,{value:"July 2025",children:"July 2025"}),s.jsx(Ae,{value:"August 2025",children:"August 2025"}),s.jsx(Ae,{value:"September 2025",children:"September 2025"}),s.jsx(Ae,{value:"October 2025",children:"October 2025"}),s.jsx(Ae,{value:"November 2025",children:"November 2025"}),s.jsx(Ae,{value:"December 2025",children:"December 2025"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-1 mb-6",children:[s.jsx(ee,{variant:r==="My Calendar"?"default":"ghost",onClick:()=>n("My Calendar"),className:`px-4 py-2 text-sm font-medium rounded-t-lg border-b-2 ${r==="My Calendar"?"bg-gray-100 text-gray-900 border-gray-900":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"My Calendar"}),s.jsx(ee,{variant:r==="My Team"?"default":"ghost",onClick:()=>n("My Team"),className:`px-4 py-2 text-sm font-medium rounded-t-lg border-b-2 ${r==="My Team"?"bg-gray-100 text-gray-900 border-gray-900":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"My Team"})]}),a==="monthly"?s.jsx(Ne,{children:s.jsxs(_e,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"px-3 py-2 text-sm bg-gray-600 text-white rounded cursor-pointer hover:bg-gray-700 transition-colors",onClick:c,children:"today"}),s.jsx("span",{className:"px-3 py-2 text-sm border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors",onClick:o,children:"‹"}),s.jsx("span",{className:"px-3 py-2 text-sm border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors",onClick:l,children:"›"})]})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(S=>s.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:S},S))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:j.map((S,_)=>s.jsxs("div",{className:`min-h-[100px] p-2 border border-gray-200 ${S.isCurrentMonth?S.isHoliday?"bg-red-50 text-red-900":"bg-white text-gray-900 hover:bg-gray-50":"bg-gray-50 text-gray-400"}`,children:[s.jsx("div",{className:`text-sm font-medium ${S.isHoliday?"text-red-600":""}`,children:S.date}),S.holiday&&s.jsx("div",{className:"mt-1 text-xs text-red-600 font-medium",children:S.holiday})]},_))})]})}):s.jsx(Ne,{children:s.jsxs(_e,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"2025 Holiday Calendar"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(S=>s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-3",children:S.monthName}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((_,D)=>s.jsx("div",{className:"text-center text-xs font-medium text-gray-500 p-1",children:_},D))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:S.days.map((_,D)=>s.jsx("div",{className:`h-8 flex items-center justify-center text-xs ${_.isCurrentMonth?_.isHoliday?"bg-red-100 text-red-800 font-semibold rounded":"text-gray-700 hover:bg-gray-50 rounded":"text-gray-300"}`,title:_.holiday||"",children:_.date},D))}),s.jsxs("div",{className:"mt-3 space-y-1",children:[S.days.filter(_=>_.isHoliday&&_.isCurrentMonth).map((_,D)=>s.jsx("div",{className:"text-xs",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"}),s.jsxs("span",{className:"text-gray-600 truncate",children:[_.date," - ",_.holiday]})]})},D)),S.days.filter(_=>_.isHoliday&&_.isCurrentMonth).length===0&&s.jsx("div",{className:"text-xs text-gray-400 italic",children:"No holidays"})]})]},S.monthName))})]})}),a==="monthly"&&s.jsx("div",{className:"mt-6",children:s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:["Holidays for ",e]}),s.jsx("div",{className:"space-y-2",children:(()=>{const S=["January","February","March","April","May","June","July","August","September","October","November","December"],_=e.split(" ")[0],D=S.indexOf(_),F=`2025-${String(D+1).padStart(2,"0")}`,O=w.filter(L=>L.date.startsWith(F));return O.length===0?s.jsxs("div",{className:"text-sm text-gray-500 italic",children:["No holidays in ",e]}):O.map((L,k)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[new Date(L.date).toLocaleDateString("en-US",{month:"long",day:"numeric"})," - ",L.name]})]},k))})()})]})})}),a==="yearly"&&s.jsx("div",{className:"mt-6",children:s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"All Holidays for 2025"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map((S,_)=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[new Date(S.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",S.name]})]},_))})]})})})]})})})}const Eg=(e,t,r)=>{let n=0;const a=new Date(e);for(;a<=t;){const i=a.getDay(),o=i===0||i===6,l=Wp(a,r);!o&&!l&&n++,a.setDate(a.getDate()+1)}return n},Wp=(e,t)=>{const r=at(e,"yyyy-MM-dd");return t.some(n=>{const a=new Date(n.selectedDate||n.date);return at(a,"yyyy-MM-dd")===r})},POe=e=>we.object({startDate:we.date({required_error:"Start date is required"}),endDate:we.date({required_error:"End date is required"}),dayType:we.enum(["full","half"],{required_error:"Please select full day or half day"}),reason:we.string().min(1,"Reason for comp-off is required").max(500,"Reason cannot exceed 500 characters")}).refine(t=>t.endDate>=t.startDate,{message:"End date must be after or same as start date",path:["endDate"]}).refine(t=>!Wp(t.startDate,e),{message:"Cannot apply comp-off on a holiday. Please select a different start date.",path:["startDate"]}).refine(t=>!Wp(t.endDate,e),{message:"Cannot apply comp-off on a holiday. Please select a different end date.",path:["endDate"]}),IOe=e=>we.object({startDate:we.date({required_error:"Start date is required"}),endDate:we.date({required_error:"End date is required"}),dayType:we.enum(["full","half"],{required_error:"Please select full day or half day"}),reason:we.string().min(1,"Reason for taking comp-off is required").max(500,"Reason cannot exceed 500 characters")}).refine(t=>t.endDate>=t.startDate,{message:"End date must be after or same as start date",path:["endDate"]}).refine(t=>!Wp(t.startDate,e),{message:"Cannot avail comp-off on a holiday. Please select a different start date.",path:["startDate"]}).refine(t=>!Wp(t.endDate,e),{message:"Cannot avail comp-off on a holiday. Please select a different end date.",path:["endDate"]}),MOe=we.object({leaveTypeId:we.string().min(1,"Leave type is required"),transferDays:we.number().min(.5,"Minimum 0.5 days required").max(30,"Maximum 30 days allowed"),reason:we.string().min(1,"Reason for transfer is required").max(500,"Reason cannot exceed 500 characters")}),ROe=we.object({enCashDays:we.number().min(.5,"Minimum 0.5 days required").max(30,"Maximum 30 days allowed"),dailyRate:we.number().min(1,"Daily rate must be greater than 0"),reason:we.string().min(1,"Reason for en-cash is required").max(500,"Reason cannot exceed 500 characters")});function FOe(){var yi,ls,wi,La,Ms,mc,Ru,Fu,Xi,pc;const[e,t]=T.useState("All"),[r,n]=T.useState("2024"),[a,i]=T.useState("Yearly"),[o,l]=T.useState(!1),[c,u]=T.useState(!1),[d,f]=T.useState(!1),[h,m]=T.useState(!1),[x,p]=T.useState(!1),[v,b]=T.useState(""),{toast:g}=Lr(),w=s0(),{employees:y}=Mu(),{workPattern:j,isLoading:N}=eh(),{data:E=[]}=Le({queryKey:["/api/holidays"],queryFn:async()=>{const ie=await fetch("/api/holidays",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return ie.ok?ie.json():[]}}),S=j&&j.selectedHolidays?E.filter(ie=>j.selectedHolidays.includes(ie.id)):E;console.log("🎯 Comp-off Form Holiday Filtering:",{workPattern:j==null?void 0:j.patternName,selectedHolidayIds:j==null?void 0:j.selectedHolidays,allHolidays:E.length,filteredHolidays:S.length}),T.useEffect(()=>{var ie,Ge,Gt,Gr;console.log("=== COMP-OFF PERMISSION DEBUG ==="),console.log("Comp-off allowOnBehalf permission:",(Ge=(ie=w==null?void 0:w.permissions)==null?void 0:ie.allowOnBehalf)==null?void 0:Ge.compOff),console.log("Should show checkbox?",((Gr=(Gt=w==null?void 0:w.permissions)==null?void 0:Gt.allowOnBehalf)==null?void 0:Gr.compOff)===!0),console.log("External employees array:",y),console.log("External employees length:",y==null?void 0:y.length),console.log("Apply on behalf state:",x),console.log("==================================")},[w,y,x]),T.useEffect(()=>{!o&&!c&&!d&&!h&&(p(!1),b(""))},[o,c,d,h]),Le({queryKey:["/api/comp-off-requests"]});const{data:_,refetch:D}=Le({queryKey:["/api/comp-off-config"],staleTime:0,cacheTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0});T.useEffect(()=>{Ye.removeQueries({queryKey:["/api/comp-off-config"]}),Ye.invalidateQueries({queryKey:["/api/comp-off-config"]}),D()},[D]);const O=(()=>{const ie=["bank","avail"];if(console.log("CompOff Config Data:",_),console.log("Compensation Options:",_==null?void 0:_.compensationOptions),!_||!_.compensationOptions)return console.log("No compensation options found, showing all actions"),[...ie,"transfer","encash"];const Ge=Array.isArray(_.compensationOptions)?_.compensationOptions:[_.compensationOptions];console.log("Parsed compensation options:",Ge);const Gt=[...ie];return Ge.includes("En-cashment")&&(Gt.push("encash"),console.log("Added en-cash action")),Ge.includes("Convert to leaves")&&(Gt.push("transfer"),console.log("Added transfer action")),console.log("Final available actions:",Gt),Gt})(),{data:L=[]}=Le({queryKey:["/api/comp-off-variants"]}),k=localStorage.getItem("user_id")||"225",{data:P=[],isLoading:I,refetch:M}=Le({queryKey:["/api/comp-off-requests",k],queryFn:async()=>{const ie=await fetch(`/api/comp-off-requests?userId=${k}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||""}});if(!ie.ok)throw new Error("Failed to fetch comp-off requests");return ie.json()}}),{data:C=[]}=Le({queryKey:["/api/employee-assignments"]}),{data:R=[]}=Le({queryKey:["/api/leave-types"]}),z=R.filter(ie=>C.some(Ge=>Ge.userId===k&&Ge.leaveTypeId===ie.id)),U=(()=>{if(!(_!=null&&_.minimumLeaveUnit))return[{value:"full",label:"Full Day"}];const ie=Array.isArray(_.minimumLeaveUnit)?_.minimumLeaveUnit:["Full Day"],Ge=[];return ie.includes("Full Day")&&Ge.push({value:"full",label:"Full Day"}),ie.includes("Half Day")&&Ge.push({value:"half",label:"Half Day"}),Ge.length>0?Ge:[{value:"full",label:"Full Day"}]})(),q=It({mutationFn:async ie=>await yt("POST","/api/comp-off-requests",ie),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/comp-off-requests",k]})}});It({mutationFn:async({id:ie,data:Ge})=>await yt("PATCH",`/api/comp-off-requests/${ie}`,Ge),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/comp-off-requests",k]})}}),It({mutationFn:async ie=>await yt("DELETE",`/api/comp-off-requests/${ie}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/comp-off-requests",k]})}});const Y=P.filter(ie=>ie.type==="bank"&&ie.status==="approved").length,Q=P.filter(ie=>ie.type==="avail"&&ie.status==="approved").length,Z=P.filter(ie=>ie.type==="transfer"&&ie.status==="approved").reduce((ie,Ge)=>ie+(parseFloat(Ge.transferAmount)||0),0),ue=P.filter(ie=>ie.type==="en_cash"&&ie.status==="approved").reduce((ie,Ge)=>ie+(parseFloat(Ge.transferAmount)||0),0),he={totalCompOffs:P.length,banked:Y,availed:Q,transferred:Z,enCashed:ue,pendingApprovals:P.filter(ie=>ie.status==="pending").length,expired:P.filter(ie=>ie.status==="expired").length,balance:Y-Q-Z-ue,carryForward:Y,enCashable:Y-Q-Z-ue},G=[{id:"All",label:"All"},{id:"Pending",label:"Pending",badge:!0},{id:"Banked",label:"Banked",badge:!0},{id:"Availed",label:"Availed",badge:!0},{id:"Rejected",label:"Rejected",badge:!0},{id:"Expired",label:"Expired",badge:!0}],re=ie=>{switch(ie.status){case"approved":case"banked":return s.jsxs(ee,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(bx,{className:"w-4 h-4 mr-1"}),"View"]});case"expired":return s.jsxs(ee,{variant:"outline",size:"sm",className:"text-green-600 border-green-200 hover:bg-green-50",onClick:()=>de(ie),children:[s.jsx(KA,{className:"w-4 h-4 mr-1"}),"Re-apply"]});case"pending":return s.jsxs(ee,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",onClick:()=>ne(ie),children:[s.jsx(bx,{className:"w-4 h-4 mr-1"}),"Pending"]});case"rejected":return s.jsxs(ee,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>de(ie),children:[s.jsx(KA,{className:"w-4 h-4 mr-1"}),"Reapply"]});default:return null}},de=ie=>{console.log("Reapply for comp off:",ie)},ne=ie=>{console.log("View comp off:",ie)},Ee=POe(S),Ce=IOe(S),De=Za({resolver:bs(Ee),defaultValues:{reason:"",dayType:((yi=U[0])==null?void 0:yi.value)||"full"}}),Pe=Za({resolver:bs(Ce),defaultValues:{reason:"",dayType:((ls=U[0])==null?void 0:ls.value)||"full"}}),ce=Za({resolver:bs(MOe),defaultValues:{leaveTypeId:"",transferDays:1,reason:""}}),$e=Za({resolver:bs(ROe),defaultValues:{enCashDays:1,dailyRate:0,reason:""}}),ct=()=>{l(!0)},zt=()=>{u(!0)},be=()=>{if(!O.includes("transfer")){g({title:"Action Not Available",description:"Transfer to leaves is not enabled in your organization's compensation options",variant:"destructive"});return}f(!0)},H=ie=>{const Ge=x&&v?v:localStorage.getItem("user_id")||"1",Gt=he.balance;if(ie.transferDays>Gt){g({title:"Insufficient Balance",description:`You only have ${Gt} banked comp-off days available for transfer`,variant:"destructive"});return}const Gr={reason:ie.reason,workedDate:new Date().toISOString().split("T")[0],compensateWith:"",notes:ie.reason,status:"pending",type:"transfer",transferAmount:ie.transferDays.toString(),leaveTypeId:ie.leaveTypeId,userId:Ge};console.log("Submitting transfer to leave data:",Gr),q.mutate(Gr,{onSuccess:hn=>{const Tn=(hn==null?void 0:hn.status)==="approved";g({title:"Success",description:Tn?"Transfer to leave request submitted and auto-approved successfully":"Transfer to leave request submitted successfully"}),f(!1),ce.reset()},onError:hn=>{g({title:"Error",description:hn.message||"Failed to submit transfer request",variant:"destructive"})}})},te=()=>{if(!O.includes("encash")){g({title:"Action Not Available",description:"En-cash compensation is not enabled in your organization's compensation options",variant:"destructive"});return}m(!0)},me=ie=>{const Ge=L[0];let Gt=Eg(ie.startDate,ie.endDate,S);const Gr=at(ie.startDate,"yyyy-MM-dd"),hn=at(ie.endDate,"yyyy-MM-dd");if(console.log("✅ Using dynamic working days calculation for comp-off:",Gt),console.log("Bank Comp-off Working Days Calculation:",{startDate:Gr,endDate:hn,calculatedWorkingDays:Eg(ie.startDate,ie.endDate,S),finalWorkingDays:Gt}),Ge){const sa=new Date,Rs=ie.startDate,ia=eg(sa,Rs);if(Ge.approvalDays&&ia<Ge.approvalDays){g({title:"Validation Error",description:`Comp-off request should be made at least ${Ge.approvalDays} days in advance`,variant:"destructive"});return}if(Ge.availWithinDays&&ia>Ge.availWithinDays){g({title:"Validation Error",description:`Comp-off should be availed within ${Ge.availWithinDays} days from date of working`,variant:"destructive"});return}}const aa={userId:x&&v?v:localStorage.getItem("user_id")||"1",reason:ie.reason,workedDate:at(ie.startDate,"yyyy-MM-dd"),compensateWith:at(ie.endDate,"yyyy-MM-dd"),notes:`${ie.reason} (${ie.dayType==="half"?"Half Day":"Full Day"}) - ${Gt} working days`,status:"pending",type:"bank",dayType:ie.dayType,workingDays:Gt};console.log("Submitting bank comp-off data:",aa),q.mutate(aa,{onSuccess:sa=>{const Rs=(sa==null?void 0:sa.status)==="approved";g({title:"Success",description:Rs?"Comp-off banking request submitted and auto-approved successfully":"Comp-off banking request submitted successfully"}),l(!1),De.reset()},onError:sa=>{g({title:"Error",description:sa.message||"Failed to submit comp-off banking request",variant:"destructive"})}})},Re=ie=>{const Ge=L[0];let Gt=Eg(ie.startDate,ie.endDate,S);const Gr=at(ie.startDate,"yyyy-MM-dd"),hn=at(ie.endDate,"yyyy-MM-dd");console.log("✅ Using dynamic working days calculation for avail comp-off:",Gt),console.log("Avail Comp-off Working Days Calculation:",{startDate:Gr,endDate:hn,calculatedWorkingDays:Eg(ie.startDate,ie.endDate,S),finalWorkingDays:Gt});const Tn=he.balance,aa=Gt;if(Tn<aa){g({title:"Insufficient Balance",description:`You have ${Tn} comp-off days available, but requesting ${aa} working days`,variant:"destructive"});return}if(Ge){const ia=new Date,qo=ie.startDate,A=eg(qo,ia);if(Ge.approvalDays&&A<Ge.approvalDays){g({title:"Validation Error",description:`Comp-off request should be made at least ${Ge.approvalDays} days in advance`,variant:"destructive"});return}}const Rs={userId:localStorage.getItem("user_id")||"1",reason:ie.reason,workedDate:at(ie.startDate,"yyyy-MM-dd"),compensateWith:at(ie.endDate,"yyyy-MM-dd"),notes:`${ie.reason} (${ie.dayType==="half"?"Half Day":"Full Day"}) - ${Gt} working days`,status:"pending",type:"avail",dayType:ie.dayType,workingDays:Gt};console.log("Submitting avail comp-off data:",Rs),q.mutate(Rs,{onSuccess:ia=>{const qo=(ia==null?void 0:ia.status)==="approved";g({title:"Success",description:qo?"Comp-off avail request submitted and auto-approved successfully":"Comp-off avail request submitted successfully"}),u(!1),Pe.reset()},onError:ia=>{g({title:"Error",description:ia.message||"Failed to submit comp-off avail request",variant:"destructive"})}})},Ie=ie=>{const Ge=he.balance;if(Ge<ie.enCashDays){g({title:"Insufficient Balance",description:`You have ${Ge} comp-off days available, but requesting ${ie.enCashDays} days`,variant:"destructive"});return}const Gt=x&&v?v:localStorage.getItem("user_id")||"1",Gr=ie.enCashDays*ie.dailyRate,hn={userId:Gt,reason:ie.reason,workedDate:new Date().toISOString().split("T")[0],compensateWith:"",notes:ie.reason,status:"pending",type:"en_cash",enCashAmount:Gr.toString(),paymentDetails:`Days: ${ie.enCashDays}, Rate: ₹${ie.dailyRate}/day, Total: ₹${Gr.toFixed(2)}`};q.mutate(hn,{onSuccess:()=>{g({title:"Success",description:"En-cash request submitted successfully"}),m(!1),$e.reset()},onError:Tn=>{g({title:"Error",description:Tn.message||"Failed to submit en-cash request",variant:"destructive"})}})},ve=De.watch("startDate"),je=De.watch("endDate"),pt=De.watch("dayType"),Wt=()=>{if(!ve||!je)return"";const ie=eg(je,ve)+1,Ge=pt==="half"?"HALF DAY":"FULL DAY";return ie===1?`Banking comp-off for ${Ge} overtime work on ${at(ve,"EEE, dd MMM yyyy")}`:`Banking comp-off for ${ie} ${Ge.toLowerCase()}${ie>1?"s":""} overtime work from ${at(ve,"EEE, dd MMM yyyy")} to ${at(je,"EEE, dd MMM yyyy")}`},rr=Pe.watch("startDate"),os=Pe.watch("endDate"),Is=Pe.watch("dayType"),vi=()=>{if(!rr||!os)return"";const ie=eg(os,rr)+1,Ge=Is==="half"?"HALF DAY":"FULL DAY";return ie===1?`Taking ${Ge} comp-off on ${at(rr,"EEE, dd MMM yyyy")}`:`Taking ${ie} ${Ge.toLowerCase()}${ie>1?"s":""} comp-off from ${at(rr,"EEE, dd MMM yyyy")} to ${at(os,"EEE, dd MMM yyyy")}`};return s.jsx(fr,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Compensatory off"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Nt,{value:a,onValueChange:i,children:[s.jsx(wt,{className:"w-24",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"Yearly",children:"Yearly"}),s.jsx(Ae,{value:"Monthly",children:"Monthly"}),s.jsx(Ae,{value:"Quarterly",children:"Quarterly"})]})]}),s.jsxs(Nt,{value:r,onValueChange:n,children:[s.jsx(wt,{className:"w-20",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"2024",children:"2024"}),s.jsx(Ae,{value:"2023",children:"2023"}),s.jsx(Ae,{value:"2022",children:"2022"})]})]}),s.jsx(Xn,{open:o,onOpenChange:l,children:s.jsxs(Qn,{className:"sm:max-w-md",children:[s.jsx(Zn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Jn,{className:"text-lg font-semibold",children:"Bank Comp Off"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>l(!1),className:"h-6 w-6",children:s.jsx(Yn,{className:"h-4 w-4"})})]})}),((La=(wi=w==null?void 0:w.permissions)==null?void 0:wi.allowOnBehalf)==null?void 0:La.compOff)===!0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"compoff-bank-apply-on-behalf",checked:x,onCheckedChange:ie=>p(!!ie)}),s.jsx("label",{htmlFor:"compoff-bank-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),x&&s.jsxs(Nt,{value:v,onValueChange:b,children:[s.jsx(wt,{className:"w-full",children:s.jsx(St,{placeholder:"Select Employee"})}),s.jsx(bt,{children:y.map(ie=>s.jsx(Ae,{value:ie.user_id.toString(),children:ie.user_name},ie.user_id))})]})]}),s.jsx(ti,{...De,children:s.jsxs("form",{onSubmit:De.handleSubmit(me),className:"space-y-4",children:[s.jsx(Ke,{control:De.control,name:"startDate",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Overtime work start date"}),s.jsxs(wl,{children:[s.jsx(bl,{asChild:!0,children:s.jsx(et,{children:s.jsxs(ee,{variant:"outline",className:tt("w-full pl-3 text-left font-normal",!ie.value&&"text-muted-foreground"),children:[ie.value?at(ie.value,"mm/dd/yyyy"):s.jsx("span",{children:"mm/dd/yyyy"}),s.jsx(wr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(po,{className:"w-auto p-0",align:"start",children:s.jsx(mo,{mode:"single",selected:ie.value,onSelect:ie.onChange,disabled:Ge=>Ge>new Date||Ge<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:De.control,name:"endDate",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Overtime work end date"}),s.jsxs(wl,{children:[s.jsx(bl,{asChild:!0,children:s.jsx(et,{children:s.jsxs(ee,{variant:"outline",className:tt("w-full pl-3 text-left font-normal",!ie.value&&"text-muted-foreground"),children:[ie.value?at(ie.value,"mm/dd/yyyy"):s.jsx("span",{children:"mm/dd/yyyy"}),s.jsx(wr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(po,{className:"w-auto p-0",align:"start",children:s.jsx(mo,{mode:"single",selected:ie.value,onSelect:ie.onChange,disabled:Ge=>Ge>new Date||Ge<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:De.control,name:"dayType",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Day Type"}),s.jsxs(Nt,{onValueChange:ie.onChange,defaultValue:ie.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Select day type"})})}),s.jsx(bt,{children:U.map(Ge=>s.jsx(Ae,{value:Ge.value,children:Ge.label},Ge.value))})]}),s.jsx(ft,{})]})}),ve&&je&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-blue-700",children:Wt()})}),s.jsx(Ke,{control:De.control,name:"reason",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Reason for overtime work"}),s.jsx(et,{children:s.jsx(wn,{placeholder:"Enter your reason for overtime work",className:"min-h-[100px] resize-none",...ie})}),s.jsx(ft,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>l(!1),className:"text-teal-600 border-teal-200 hover:bg-teal-50",children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Discard"]}),s.jsx(ee,{type:"submit",disabled:q.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:q.isPending?"Banking...":"Bank Comp-off"})]})]})})]})}),s.jsx(Xn,{open:c,onOpenChange:u,children:s.jsxs(Qn,{className:"sm:max-w-md",children:[s.jsx(Zn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Jn,{className:"text-lg font-semibold",children:"Avail Comp Off"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>u(!1),className:"h-6 w-6",children:s.jsx(Yn,{className:"h-4 w-4"})})]})}),((mc=(Ms=w==null?void 0:w.permissions)==null?void 0:Ms.allowOnBehalf)==null?void 0:mc.compOff)===!0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"compoff-avail-apply-on-behalf",checked:x,onCheckedChange:ie=>p(!!ie)}),s.jsx("label",{htmlFor:"compoff-avail-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),x&&s.jsxs(Nt,{value:v,onValueChange:b,children:[s.jsx(wt,{className:"w-full",children:s.jsx(St,{placeholder:"Select Employee"})}),s.jsx(bt,{children:y.map(ie=>s.jsx(Ae,{value:ie.user_id.toString(),children:ie.user_name},ie.user_id))})]})]}),s.jsx(ti,{...Pe,children:s.jsxs("form",{onSubmit:Pe.handleSubmit(Re),className:"space-y-4",children:[s.jsx(Ke,{control:Pe.control,name:"startDate",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Comp-off start date"}),s.jsxs(wl,{children:[s.jsx(bl,{asChild:!0,children:s.jsx(et,{children:s.jsxs(ee,{variant:"outline",className:tt("w-full pl-3 text-left font-normal",!ie.value&&"text-muted-foreground"),children:[ie.value?at(ie.value,"mm/dd/yyyy"):s.jsx("span",{children:"mm/dd/yyyy"}),s.jsx(wr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(po,{className:"w-auto p-0",align:"start",children:s.jsx(mo,{mode:"single",selected:ie.value,onSelect:ie.onChange,disabled:Ge=>Ge<new Date||Ge<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:Pe.control,name:"endDate",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Comp-off end date"}),s.jsxs(wl,{children:[s.jsx(bl,{asChild:!0,children:s.jsx(et,{children:s.jsxs(ee,{variant:"outline",className:tt("w-full pl-3 text-left font-normal",!ie.value&&"text-muted-foreground"),children:[ie.value?at(ie.value,"mm/dd/yyyy"):s.jsx("span",{children:"mm/dd/yyyy"}),s.jsx(wr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(po,{className:"w-auto p-0",align:"start",children:s.jsx(mo,{mode:"single",selected:ie.value,onSelect:ie.onChange,disabled:Ge=>Ge<new Date||Ge<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:Pe.control,name:"dayType",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Day Type"}),s.jsxs(Nt,{onValueChange:ie.onChange,defaultValue:ie.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Select day type"})})}),s.jsx(bt,{children:U.map(Ge=>s.jsx(Ae,{value:Ge.value,children:Ge.label},Ge.value))})]}),s.jsx(ft,{})]})}),rr&&os&&s.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-md p-3",children:s.jsx("p",{className:"text-sm text-teal-700",children:vi()})}),s.jsx(Ke,{control:Pe.control,name:"reason",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Reason for taking comp-off"}),s.jsx(et,{children:s.jsx(wn,{placeholder:"Enter your reason for taking comp-off",className:"min-h-[100px] resize-none",...ie})}),s.jsx(ft,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>u(!1),className:"text-teal-600 border-teal-200 hover:bg-teal-50",children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Discard"]}),s.jsx(ee,{type:"submit",disabled:q.isPending,className:"bg-teal-600 hover:bg-teal-700 text-white",children:q.isPending?"Submitting...":"Avail Comp-off"})]})]})})]})}),s.jsx(Xn,{open:d,onOpenChange:f,children:s.jsxs(Qn,{className:"sm:max-w-md",children:[s.jsx(Zn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Jn,{className:"text-lg font-semibold",children:"Transfer to Leave"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>f(!1),className:"h-6 w-6",children:s.jsx(Yn,{className:"h-4 w-4"})})]})}),((Fu=(Ru=w==null?void 0:w.permissions)==null?void 0:Ru.allowOnBehalf)==null?void 0:Fu.compOff)===!0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"compoff-transfer-apply-on-behalf",checked:x,onCheckedChange:ie=>p(!!ie)}),s.jsx("label",{htmlFor:"compoff-transfer-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),x&&s.jsxs(Nt,{value:v,onValueChange:b,children:[s.jsx(wt,{className:"w-full",children:s.jsx(St,{placeholder:"Select Employee"})}),s.jsx(bt,{children:y.map(ie=>s.jsx(Ae,{value:ie.user_id.toString(),children:ie.user_name},ie.user_id))})]})]}),s.jsx(ti,{...ce,children:s.jsxs("form",{onSubmit:ce.handleSubmit(H),className:"space-y-4",children:[s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3",children:s.jsxs("p",{className:"text-sm text-orange-700",children:["Available Comp-off Balance: ",s.jsxs("strong",{children:[he.balance," days"]})]})}),s.jsx(Ke,{control:ce.control,name:"leaveTypeId",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Transfer to Leave Type"}),s.jsxs(Nt,{onValueChange:ie.onChange,defaultValue:ie.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Select leave type"})})}),s.jsx(bt,{children:z&&z.length>0?z.map(Ge=>s.jsx(Ae,{value:Ge.id.toString(),children:Ge.name},Ge.id)):s.jsx(Ae,{value:"no-types",disabled:!0,children:"No leave types assigned to you"})})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:ce.control,name:"transferDays",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Days to transfer to leave"}),s.jsx(et,{children:s.jsx(ut,{type:"number",step:"0.5",min:"0.5",max:he.balance,placeholder:"Enter days to transfer",...ie,onChange:Ge=>ie.onChange(parseFloat(Ge.target.value))})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:ce.control,name:"reason",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Reason for transfer"}),s.jsx(et,{children:s.jsx(wn,{placeholder:"Enter your reason for transferring comp-off to leave",className:"min-h-[100px] resize-none",...ie})}),s.jsx(ft,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>f(!1),className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Discard"]}),s.jsx(ee,{type:"submit",disabled:q.isPending,className:"bg-orange-600 hover:bg-orange-700 text-white",children:q.isPending?"Transferring...":"Transfer to Leave"})]})]})})]})}),s.jsx(Xn,{open:h,onOpenChange:m,children:s.jsxs(Qn,{className:"sm:max-w-md",children:[s.jsx(Zn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Jn,{className:"text-lg font-semibold",children:"En-Cash Comp Off"}),s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>m(!1),className:"h-6 w-6",children:s.jsx(Yn,{className:"h-4 w-4"})})]})}),((pc=(Xi=w==null?void 0:w.permissions)==null?void 0:Xi.allowOnBehalf)==null?void 0:pc.compOff)===!0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"compoff-encash-apply-on-behalf",checked:x,onCheckedChange:ie=>p(!!ie)}),s.jsx("label",{htmlFor:"compoff-encash-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),x&&s.jsxs(Nt,{value:v,onValueChange:b,children:[s.jsx(wt,{className:"w-full",children:s.jsx(St,{placeholder:"Select Employee"})}),s.jsx(bt,{children:y.map(ie=>s.jsx(Ae,{value:ie.user_id.toString(),children:ie.user_name},ie.user_id))})]})]}),s.jsx(ti,{...$e,children:s.jsxs("form",{onSubmit:$e.handleSubmit(Ie),className:"space-y-4",children:[s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-md p-3",children:s.jsxs("p",{className:"text-sm text-purple-700",children:["Available Comp-off Balance: ",s.jsxs("strong",{children:[he.balance," days"]})]})}),s.jsx(Ke,{control:$e.control,name:"enCashDays",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Days to en-cash"}),s.jsx(et,{children:s.jsx(ut,{type:"number",step:"0.5",min:"0.5",max:he.balance,placeholder:"Enter days to en-cash",...ie,onChange:Ge=>ie.onChange(parseFloat(Ge.target.value))})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:$e.control,name:"dailyRate",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Daily rate (₹)"}),s.jsx(et,{children:s.jsx(ut,{type:"number",step:"0.01",min:"1",placeholder:"Enter daily rate for compensation",...ie,onChange:Ge=>ie.onChange(parseFloat(Ge.target.value))})}),s.jsx(ft,{})]})}),$e.watch("enCashDays")&&$e.watch("dailyRate")&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:s.jsxs("p",{className:"text-sm text-green-700",children:["Total Amount: ",s.jsxs("strong",{children:["₹",($e.watch("enCashDays")*$e.watch("dailyRate")).toFixed(2)]})]})}),s.jsx(Ke,{control:$e.control,name:"reason",render:({field:ie})=>s.jsxs(He,{children:[s.jsx(it,{children:"Reason for en-cash"}),s.jsx(et,{children:s.jsx(wn,{placeholder:"Enter your reason for en-cashing comp-off",className:"min-h-[100px] resize-none",...ie})}),s.jsx(ft,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>m(!1),className:"text-purple-600 border-purple-200 hover:bg-purple-50",children:[s.jsx(Ea,{className:"w-4 h-4 mr-2"}),"Discard"]}),s.jsx(ee,{type:"submit",disabled:q.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",children:q.isPending?"Processing...":"En-Cash Comp-off"})]})]})})]})})]})]}),s.jsxs("div",{className:`grid gap-4 ${O.length===2?"grid-cols-2":O.length===3?"grid-cols-3":"grid-cols-4"}`,children:[O.includes("avail")&&s.jsx(Ne,{className:"border border-teal-200 bg-teal-50 cursor-pointer hover:bg-teal-100 transition-colors",onClick:zt,children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-medium text-teal-700",children:"Avail Comp-off"})}),s.jsx(Z0,{className:"w-5 h-5 text-teal-600"})]})})}),O.includes("bank")&&s.jsx(Ne,{className:"border border-blue-200 bg-blue-50 cursor-pointer hover:bg-blue-100 transition-colors",onClick:ct,children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-medium text-blue-700",children:"Bank Comp-off"})}),s.jsx(Z0,{className:"w-5 h-5 text-blue-600"})]})})}),O.includes("transfer")&&s.jsx(Ne,{className:"border border-purple-200 bg-purple-50 cursor-pointer hover:bg-purple-100 transition-colors",onClick:be,children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-medium text-purple-700",children:"Transfer to Leaves"})}),s.jsx(Z0,{className:"w-5 h-5 text-purple-600"})]})})}),O.includes("encash")&&s.jsx(Ne,{className:"border border-gray-200 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors",onClick:te,children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"En-Cash Comp"})}),s.jsx(Z0,{className:"w-5 h-5 text-gray-600"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-8 gap-4",children:[s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:he.totalCompOffs}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total comp offs"})]})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:he.banked}),s.jsx("div",{className:"text-sm text-gray-600",children:"Banked"})]})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:he.availed}),s.jsx("div",{className:"text-sm text-gray-600",children:"Availed"})]})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:he.pendingApprovals}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending approvals"})]})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:he.expired}),s.jsx("div",{className:"text-sm text-gray-600",children:"Expired"})]})}),s.jsx(Ne,{className:"bg-orange-50 border-orange-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:he.balance}),s.jsx("div",{className:"text-sm text-orange-700",children:"Balance"})]})}),s.jsx(Ne,{className:"bg-orange-50 border-orange-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:he.carryForward}),s.jsx("div",{className:"text-sm text-orange-700",children:"Carry forward"})]})}),s.jsx(Ne,{className:"bg-orange-50 border-orange-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:he.enCashable}),s.jsx("div",{className:"text-sm text-orange-700",children:"En-cashable"})]})})]}),s.jsx("div",{className:"flex items-center space-x-6 border-b border-gray-200",children:G.map(ie=>s.jsxs("button",{onClick:()=>t(ie.id),className:`flex items-center space-x-2 px-1 py-3 text-sm font-medium border-b-2 transition-colors ${e===ie.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx("span",{children:ie.label}),ie.badge&&s.jsx($t,{variant:"secondary",className:"bg-gray-100 text-gray-600 text-xs",children:ie.id==="Pending"?"1":"0"})]},ie.id))}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Worked Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Loading comp off requests..."})}):P.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No comp off requests found"})}):P.map(ie=>{var Gr,hn;const Ge=Tn=>{switch(Tn){case"bank":return"Bank";case"avail":return"Avail";case"transfer":return"Transfer";case"en-cash":return"En-Cash";default:return Tn||"Bank"}},Gt=Tn=>{const aa="px-2 py-1 text-xs font-medium rounded-full";switch(Tn){case"approved":return`${aa} bg-green-100 text-green-800`;case"pending":return`${aa} bg-yellow-100 text-yellow-800`;case"rejected":return`${aa} bg-red-100 text-red-800`;default:return`${aa} bg-gray-100 text-gray-800`}};return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ge(ie.type)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ie.reason}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(ie.workedDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ie.type==="transfer"&&ie.transferAmount?`${ie.transferAmount} days`:ie.dayType==="full"?"Full Day":"Half Day"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:Gt(ie.status),children:((Gr=ie.status)==null?void 0:Gr.charAt(0).toUpperCase())+((hn=ie.status)==null?void 0:hn.slice(1))})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:re(ie)})]},ie.id)})})]})})})})]})})}const LOe=(e,t)=>{const r=at(e,"yyyy-MM-dd");return t.some(n=>{const a=new Date(n.selectedDate||n.date);return at(a,"yyyy-MM-dd")===r})},$Oe=(e,t,r)=>{let n=0;const a=new Date(e);for(;a<=t;){const i=a.getDay(),o=i===0||i===6,l=LOe(a,r);!o&&!l&&n++,a.setDate(a.getDate()+1)}return n},BOe=we.object({ptoVariantId:we.number().min(1,"Please select a PTO variant"),requestDate:we.date({required_error:"Request date is required"}),timeType:we.string().min(1,"Please select time type"),startTime:we.string().optional(),endTime:we.string().optional(),totalHours:we.number().optional(),reason:we.string().min(1,"Reason is required"),documentUrl:we.string().optional()});function UOe({open:e,onOpenChange:t,onSuccess:r,applyOnBehalf:n=!1,selectedEmployeeId:a="",employees:i=[]}){const{toast:o}=Lr(),l=ac(),[c,u]=T.useState(null),[d,f]=T.useState([]),h=n&&a?a:localStorage.getItem("user_id")||"225",{workPattern:m,isLoading:x}=eh(),{data:p=[]}=Le({queryKey:["/api/holidays"],queryFn:async()=>{const L=await fetch("/api/holidays",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return L.ok?L.json():[]},enabled:e}),v=m&&m.selectedHolidays?p.filter(L=>m.selectedHolidays.includes(L.id)):p;console.log("🎯 PTO Form Holiday Filtering:",{workPattern:m==null?void 0:m.patternName,selectedHolidayIds:m==null?void 0:m.selectedHolidays,allHolidays:p.length,filteredHolidays:v.length});const{data:b=[],isLoading:g}=Le({queryKey:["/api/pto-variants/user",h],queryFn:async()=>{console.log("PTO Form - Fetching variants for user:",h);const L=await fetch("/api/pto-variants",{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}}).then(P=>P.json());console.log("PTO Form - All variants:",L);const k=[];for(const P of L)try{const I=await fetch(`/api/employee-assignments/pto/${P.id}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});if(I.ok){const M=await I.json();console.log(`PTO Form - Assignments for variant ${P.id}:`,M);const C=M.some(R=>R.userId===h||R.userId===h.toString());console.log(`PTO Form - User ${h} assigned to variant ${P.id}:`,C),C&&k.push(P)}}catch(I){console.error(`Error checking assignments for variant ${P.id}:`,I)}return console.log("PTO Form - Final user variants:",k),k},enabled:e}),{data:w=[]}=Le({queryKey:["/api/pto-requests",h],queryFn:async()=>{const L=await fetch(`/api/pto-requests?userId=${h}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return L.ok?L.json():[]},enabled:e}),y=Za({resolver:bs(BOe),defaultValues:{reason:"",timeType:""}}),j=y.watch("ptoVariantId"),N=y.watch("timeType"),E=y.watch("requestDate");T.useEffect(()=>{if(j){const L=b.find(k=>k.id===j);console.log("PTO Form - Selected variant:",L),u(L),y.setValue("timeType",""),y.setValue("startTime",""),y.setValue("endTime",""),y.setValue("totalHours",void 0)}else u(null)},[j,b]),T.useEffect(()=>{var C;if(!c||!E){f([]);return}const L=[],k=new Date(E),P=new Date;P.setHours(0,0,0,0);const I=at(k,"yyyy-MM-dd");if(v.some(R=>{const z=new Date(R.selectedDate||R.date);return at(z,"yyyy-MM-dd")===I})){const R=((C=v.find(z=>{const J=new Date(z.selectedDate||z.date);return at(J,"yyyy-MM-dd")===I}))==null?void 0:C.holidayName)||"holiday";L.push(`Cannot apply for PTO on ${R}. Please select a different date.`)}if(c.approvalDays>0){const R=zn(P,c.approvalDays);Lx(k,R)&&L.push(`Request must be made at least ${c.approvalDays} days in advance`)}if(c.maxInstances>0&&w.length>0){const R=k.getMonth(),z=k.getFullYear(),J=Math.floor(R/3);w.filter(q=>{const Y=new Date(q.requestDate);return c.maxInstancesPeriod==="Month"?Y.getMonth()===R&&Y.getFullYear()===z:c.maxInstancesPeriod==="Quarter"?Math.floor(Y.getMonth()/3)===J&&Y.getFullYear()===z:Y.getFullYear()===z}).length>=c.maxInstances&&L.push(`Maximum ${c.maxInstances} instances per ${c.maxInstancesPeriod.toLowerCase()} exceeded`)}f(L)},[c,E,w,v]);const S=(L,k)=>{if(!L||!k)return 0;const P=new Date(`2000-01-01T${L}`),I=new Date(`2000-01-01T${k}`);if(I<=P)return 0;const M=I.getTime()-P.getTime();return Math.round(M/(1e3*60*60)*100)/100};T.useEffect(()=>{if(N==="hours"){const L=y.watch("startTime"),k=y.watch("endTime");if(L&&k){const P=S(L,k);y.setValue("totalHours",P)}}},[y.watch("startTime"),y.watch("endTime"),N]);const _=It({mutationFn:async L=>await yt("POST","/api/pto-requests",L),onSuccess:L=>{l.invalidateQueries({queryKey:["/api/pto-requests"]});const k=L.workflowId?"PTO request submitted and sent for approval":"PTO request submitted and approved automatically";o({title:"Success",description:k}),y.reset(),t(!1),r==null||r()},onError:L=>{o({title:"Error",description:L.message||"Failed to submit PTO request",variant:"destructive"})}}),D=L=>{if(d.length>0){o({title:"Validation Error",description:"Please fix the validation errors before submitting",variant:"destructive"});return}let k=1;if(L.requestDate){k=$Oe(L.requestDate,L.requestDate,v);const I=at(L.requestDate,"yyyy-MM-dd");console.log("✅ Using dynamic working days calculation for PTO:",k),console.log("PTO Working Days Calculation:",{requestDate:I,calculatedWorkingDays:k})}if(L.timeType==="hours"){if(!L.startTime||!L.endTime||!L.totalHours){o({title:"Validation Error",description:"Start time, end time, and total hours are required for hour-based PTO",variant:"destructive"});return}if(c!=null&&c.minimumHours&&L.totalHours<c.minimumHours){o({title:"Validation Error",description:`Minimum ${c.minimumHours} hours required`,variant:"destructive"});return}if(c!=null&&c.maxHours&&L.totalHours>c.maxHours){o({title:"Validation Error",description:`Maximum ${c.maxHours} hours allowed`,variant:"destructive"});return}}const P={...L,userId:h,ptoVariantId:parseInt(L.ptoVariantId.toString()),workingDays:k};console.log("PTO Form - Submitting request:",P),_.mutate(P)},F=()=>{if(!c)return[];console.log("PTO Form - Selected variant time options:",{halfDay:c.halfDay,quarterDay:c.quarterDay,hours:c.hours});const L=[];return c.halfDay&&L.push({value:"half_day",label:"Half Day"}),c.quarterDay&&L.push({value:"quarter_day",label:"Quarter Day"}),c.hours&&L.push({value:"hours",label:"Hours"}),console.log("PTO Form - Available PTO time types:",L),L},O=()=>{const L=[];for(let k=0;k<24;k++)for(let P=0;P<60;P+=30){const I=`${k.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`,M=new Date(`2000-01-01T${I}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});L.push({value:I,label:M})}return L};return s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(Qn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Zn,{children:s.jsxs(Jn,{className:"flex items-center gap-2",children:[s.jsx(yn,{className:"w-5 h-5 text-teal-600"}),"Apply for PTO"]})}),s.jsx(ti,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(D),className:"space-y-6",children:[d.length>0&&s.jsx(Ne,{className:"border-red-200 bg-red-50",children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx($H,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-800",children:"Validation Errors"}),s.jsx("ul",{className:"mt-1 text-sm text-red-700 list-disc list-inside",children:d.map((L,k)=>s.jsx("li",{children:L},k))})]})]})})}),s.jsx(Ke,{control:y.control,name:"ptoVariantId",render:({field:L})=>{var k;return s.jsxs(He,{children:[s.jsx(it,{children:"PTO Type"}),s.jsxs(Nt,{onValueChange:P=>L.onChange(parseInt(P)),value:(k=L.value)==null?void 0:k.toString(),children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Select PTO type"})})}),s.jsx(bt,{children:g?s.jsx(Ae,{value:"loading",disabled:!0,children:"Loading PTO types..."}):b.length===0?s.jsx(Ae,{value:"none",disabled:!0,children:"No PTO types available"}):b.map(P=>s.jsx(Ae,{value:P.id.toString(),children:P.name},P.id))})]}),s.jsx(ft,{}),c&&s.jsx("p",{className:"text-sm text-gray-600",children:c.description})]})}}),s.jsx(Ke,{control:y.control,name:"requestDate",render:({field:L})=>s.jsxs(He,{className:"flex flex-col",children:[s.jsx(it,{children:"Date"}),s.jsxs(wl,{children:[s.jsx(bl,{asChild:!0,children:s.jsx(et,{children:s.jsxs(ee,{variant:"outline",className:tt("w-full pl-3 text-left font-normal",!L.value&&"text-muted-foreground"),children:[L.value?at(L.value,"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(wr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(po,{className:"w-auto p-0",align:"start",children:s.jsx(mo,{mode:"single",selected:L.value,onSelect:L.onChange,disabled:k=>{const P=new Date;return P.setHours(0,0,0,0),Lx(k,P)},initialFocus:!0})})]}),s.jsx(ft,{})]})}),c&&s.jsx(Ke,{control:y.control,name:"timeType",render:({field:L})=>s.jsxs(He,{children:[s.jsx(it,{children:"Time Unit"}),s.jsxs(Nt,{onValueChange:L.onChange,value:L.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Select time unit"})})}),s.jsx(bt,{children:F().length===0?s.jsx(Ae,{value:"none",disabled:!0,children:"No time units available for this PTO type"}):F().map(k=>s.jsx(Ae,{value:k.value,children:k.label},k.value))})]}),s.jsx(ft,{})]})}),N==="hours"&&s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(Ke,{control:y.control,name:"startTime",render:({field:L})=>s.jsxs(He,{children:[s.jsx(it,{children:"Start Time"}),s.jsxs(Nt,{onValueChange:L.onChange,value:L.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"Start"})})}),s.jsx(bt,{className:"max-h-48",children:O().map(k=>s.jsx(Ae,{value:k.value,children:k.label},`start-${k.value}`))})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:y.control,name:"endTime",render:({field:L})=>s.jsxs(He,{children:[s.jsx(it,{children:"End Time"}),s.jsxs(Nt,{onValueChange:L.onChange,value:L.value,children:[s.jsx(et,{children:s.jsx(wt,{children:s.jsx(St,{placeholder:"End"})})}),s.jsx(bt,{className:"max-h-48",children:O().map(k=>s.jsx(Ae,{value:k.value,children:k.label},`end-${k.value}`))})]}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:y.control,name:"totalHours",render:({field:L})=>s.jsxs(He,{children:[s.jsx(it,{children:"Total Hours"}),s.jsx(et,{children:s.jsx(ut,{type:"number",step:"0.5",min:"0",max:(c==null?void 0:c.maxHours)||24,value:L.value||"",onChange:k=>L.onChange(parseFloat(k.target.value)),placeholder:"0.0",readOnly:!0,className:"bg-gray-50"})}),s.jsx(ft,{})]})})]}),N==="hours"&&c&&s.jsx(Ne,{className:"bg-blue-50 border-blue-200",children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Hours Requirements:"}),c.minimumHours>0&&s.jsxs("span",{className:"block",children:["• Minimum: ",c.minimumHours," hours"]}),c.maxHours>0&&s.jsxs("span",{className:"block",children:["• Maximum: ",c.maxHours," hours"]})]})})}),s.jsx(Ke,{control:y.control,name:"reason",render:({field:L})=>s.jsxs(He,{children:[s.jsx(it,{children:"Reason"}),s.jsx(et,{children:s.jsx(wn,{placeholder:"Please provide a reason for your PTO request...",className:"min-h-[80px]",...L})}),s.jsx(ft,{})]})}),(c==null?void 0:c.documentsRequired)&&s.jsx(Ke,{control:y.control,name:"documentUrl",render:({field:L})=>s.jsxs(He,{children:[s.jsxs(it,{className:"flex items-center gap-2",children:[s.jsx(Vn,{className:"w-4 h-4"}),"Supporting Document (Required)"]}),s.jsx(et,{children:s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(H2,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Upload a supporting document"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG up to 10MB"})]}),s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"mt-2",onChange:k=>{var P;(P=k.target.files)!=null&&P[0]&&L.onChange(`/uploads/${k.target.files[0].name}`)}})]})})}),s.jsx(ft,{})]})}),s.jsxs(Wx,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:_.isPending,children:"Cancel"}),s.jsx(ee,{type:"submit",disabled:_.isPending||d.length>0,className:"bg-teal-600 hover:bg-teal-700",children:_.isPending?"Submitting...":"Submit Request"})]})]})})]})})}function WOe(){var N,E;const[e,t]=T.useState("All"),[r,n]=T.useState("01 Jun 2024 - 31st Dec 2024"),[a,i]=T.useState(!1),[o,l]=T.useState(!1),[c,u]=T.useState(""),d=s0(),{employees:f}=Mu();T.useEffect(()=>{var S,_,D,F;console.log("=== PTO PERMISSION DEBUG ==="),console.log("PTO allowOnBehalf permission:",(_=(S=d==null?void 0:d.permissions)==null?void 0:S.allowOnBehalf)==null?void 0:_.pto),console.log("Should show checkbox?",((F=(D=d==null?void 0:d.permissions)==null?void 0:D.allowOnBehalf)==null?void 0:F.pto)===!0),console.log("External employees array:",f),console.log("External employees length:",f==null?void 0:f.length),console.log("Apply on behalf state:",o),console.log("===============================")},[d,f,o]),T.useEffect(()=>{a||(l(!1),u(""))},[a]);const h=localStorage.getItem("user_id")||"225",{data:m=[],isLoading:x,refetch:p}=Le({queryKey:["/api/pto-requests",h],queryFn:async()=>{const S=await fetch(`/api/pto-requests?userId=${h}`,{credentials:"include",headers:{"X-Org-Id":localStorage.getItem("org_id")||"60"}});return S.ok?S.json():[]}}),v=m.filter(S=>e==="All"?!0:S.status.toLowerCase()===e.toLowerCase()),b={totalGranted:m.filter(S=>S.status==="approved").length,pendingApprovals:m.filter(S=>S.status==="pending").length,totalAvailed:m.filter(S=>S.status==="approved").reduce((S,_)=>_.timeType==="hours"?S+(parseFloat(_.totalHours)||0):_.timeType==="half_day"?S+4:_.timeType==="quarter_day"?S+2:S+8,0),rejected:m.filter(S=>S.status==="rejected").length,cancelled:m.filter(S=>S.status==="cancelled").length},g=[{id:"All",label:"All"},{id:"Pending",label:"Pending",count:b.pendingApprovals},{id:"Approved",label:"Approved"},{id:"Rejected",label:"Rejected"}],w=S=>{switch(S){case"approved":return s.jsx(gn,{className:"w-4 h-4 text-green-600"});case"rejected":return s.jsx(co,{className:"w-4 h-4 text-red-600"});case"pending":return s.jsx(yn,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(of,{className:"w-4 h-4 text-gray-600"})}},y=S=>{const _="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium";switch(S){case"approved":return`${_} bg-green-100 text-green-800`;case"rejected":return`${_} bg-red-100 text-red-800`;case"pending":return`${_} bg-yellow-100 text-yellow-800`;case"cancelled":return`${_} bg-gray-100 text-gray-800`;default:return`${_} bg-gray-100 text-gray-800`}},j=S=>{if(S.timeType==="hours"){const _=new Date(`2000-01-01T${S.startTime}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),D=new Date(`2000-01-01T${S.endTime}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});return`${_} - ${D} (${S.totalHours}h)`}else return{full_day:"Full Day",half_day:"Half Day",quarter_day:"Quarter Day"}[S.timeType]||S.timeType};return s.jsxs(fr,{children:[s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Paid time off (PTO)"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Nt,{value:r,onValueChange:n,children:[s.jsx(wt,{className:"w-48",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"01 Jun 2024 - 31st Dec 2024",children:"01 Jun 2024 - 31st Dec 2024"}),s.jsx(Ae,{value:"01 Jan 2024 - 31st May 2024",children:"01 Jan 2024 - 31st May 2024"}),s.jsx(Ae,{value:"01 Jan 2024 - 31st Dec 2024",children:"01 Jan 2024 - 31st Dec 2024"})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs(ee,{className:"bg-teal-600 hover:bg-teal-700 text-white",onClick:()=>i(!0),children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Apply for PTO"]}),((E=(N=d==null?void 0:d.permissions)==null?void 0:N.allowOnBehalf)==null?void 0:E.pto)===!0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"pto-apply-on-behalf",checked:o,onCheckedChange:S=>l(!!S)}),s.jsx("label",{htmlFor:"pto-apply-on-behalf",className:"text-sm font-medium leading-none cursor-pointer",children:"Apply on behalf of someone else"})]}),o&&s.jsxs(Nt,{value:c,onValueChange:u,children:[s.jsx(wt,{className:"w-64",children:s.jsx(St,{placeholder:"Select Employee"})}),s.jsx(bt,{children:f&&f.length>0?f.filter(S=>S==null?void 0:S.user_id).map(S=>s.jsx(Ae,{value:S.user_id.toString(),children:S.user_name||`Employee ${S.user_id}`},S.user_id)):s.jsx(Ae,{value:"no-employees",disabled:!0,children:"No employees available"})})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.totalGranted}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Approved"})]})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:b.pendingApprovals}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending Approvals"})]})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[b.totalAvailed.toFixed(1),"h"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Hours"})]})}),s.jsx(Ne,{className:"bg-red-50 border-red-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:b.rejected}),s.jsx("div",{className:"text-sm text-red-700",children:"Rejected"})]})}),s.jsx(Ne,{className:"bg-gray-50 border-gray-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:b.cancelled}),s.jsx("div",{className:"text-sm text-gray-700",children:"Cancelled"})]})})]}),s.jsx("div",{className:"flex items-center space-x-6 border-b border-gray-200",children:g.map(S=>s.jsxs("button",{onClick:()=>t(S.id),className:`flex items-center space-x-2 px-1 py-3 text-sm font-medium border-b-2 transition-colors ${e===S.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx("span",{children:S.label}),S.count&&s.jsx($t,{variant:"secondary",className:"bg-gray-100 text-gray-600 text-xs",children:S.count})]},S.id))}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-0",children:x?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"Loading PTO requests..."})]})}):v.length===0?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(yn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:e==="All"?"No PTO requests found":`No ${e.toLowerCase()} requests found`}),s.jsxs(ee,{className:"mt-4 bg-teal-600 hover:bg-teal-700",onClick:()=>i(!0),children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Apply for PTO"]})]})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time / Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applied On"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(S=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:at(new Date(S.requestDate),"dd MMM yyyy")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j(S)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:S.reason}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:y(S.status),children:[w(S.status),S.status.charAt(0).toUpperCase()+S.status.slice(1)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:at(new Date(S.createdAt),"dd MMM yyyy")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs(ee,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(bx,{className:"w-4 h-4 mr-1"}),"View"]})})]},S.id))})]})})})})]}),s.jsx(UOe,{open:a,onOpenChange:i,onSuccess:()=>{p()},applyOnBehalf:o,selectedEmployeeId:c,employees:f})]})}function VOe(){const[e,t]=T.useState("");wR(),T.useEffect(()=>{const k=localStorage.getItem("user_id")||"";t(k)},[]);const[r,n]=T.useState(""),[a,i]=T.useState(null),[o,l]=T.useState(""),[c,u]=T.useState(""),[d,f]=T.useState(!1),[h,m]=T.useState({search:"",status:"all",dateFrom:"",dateTo:""}),[x,p]=T.useState({search:"",status:"all",dateFrom:"",dateTo:""}),v=ac();T.useEffect(()=>{e!=="2161"&&(console.log("TaskManager - Setting user context to 2161 (Ananth BS) to show collaborative tasks"),localStorage.setItem("user_id","2161"),localStorage.setItem("org_id","38"),t("2161"))},[e]),console.log("TaskManager - Current user ID from localStorage:",e);const{data:b=[],isLoading:g}=Le({queryKey:[`/api/tasks/assigned-to-me/${e}`],enabled:!!e,staleTime:0,refetchOnMount:!0}),{data:w=[],isLoading:y}=Le({queryKey:[`/api/tasks/assigned-by-me/${e}`],enabled:!!e,staleTime:0,refetchOnMount:!0});console.log("TaskManager - Tasks assigned to me:",b),console.log("TaskManager - Tasks assigned by me:",w);const j=(k,P)=>k.filter(I=>{if(P.search){const M=P.search.toLowerCase();if(!(I.taskDescription.toLowerCase().includes(M)||I.assigneeName.toLowerCase().includes(M)||I.assigneeEmail.toLowerCase().includes(M)))return!1}if(P.status!=="all"&&I.status!==P.status)return!1;if(P.dateFrom){const M=new Date(I.createdAt),C=new Date(P.dateFrom);if(M<C)return!1}if(P.dateTo){const M=new Date(I.createdAt),C=new Date(P.dateTo);if(C.setHours(23,59,59,999),M>C)return!1}return!0}),N=T.useMemo(()=>j(b,h),[b,h]),E=T.useMemo(()=>j(w,x),[w,x]),S=It({mutationFn:async({taskId:k,comment:P})=>await yt("PATCH",`/api/tasks/${k}/accept`,{acceptanceResponse:P||"Task accepted"}),onSuccess:()=>{v.invalidateQueries({queryKey:[`/api/tasks/assigned-to-me/${e}`]}),v.invalidateQueries({queryKey:[`/api/tasks/assigned-by-me/${e}`]}),Vs({title:"Task Accepted",description:"You have successfully accepted this task."}),i(null)},onError:()=>{Vs({title:"Error",description:"Failed to accept task. Please try again.",variant:"destructive"})}}),_=It({mutationFn:async({taskId:k,comment:P})=>await yt("PATCH",`/api/tasks/${k}/reject`,{statusComments:P}),onSuccess:()=>{v.invalidateQueries({queryKey:[`/api/tasks/assigned-to-me/${e}`]}),v.invalidateQueries({queryKey:[`/api/tasks/assigned-by-me/${e}`]}),Vs({title:"Task Rejected",description:"You have rejected this task with your feedback."}),i(null),n("")},onError:()=>{Vs({title:"Error",description:"Failed to reject task. Please try again.",variant:"destructive"})}}),D=It({mutationFn:async({taskId:k,status:P,comment:I})=>await yt("PATCH",`/api/tasks/${k}/complete`,{status:P==="complete"?"done":"not_done",statusComments:I}),onSuccess:()=>{v.invalidateQueries({queryKey:[`/api/tasks/assigned-to-me/${e}`]}),v.invalidateQueries({queryKey:[`/api/tasks/assigned-by-me/${e}`]}),Vs({title:"Task Updated",description:"You have updated the task status with your feedback."}),f(!1),i(null),l(""),u("")},onError:()=>{Vs({title:"Error",description:"Failed to update task status. Please try again.",variant:"destructive"})}}),F=k=>{switch(k){case"accepted":return s.jsxs($t,{className:"bg-green-100 text-green-800",children:[s.jsx(gn,{className:"w-3 h-3 mr-1"}),"Accepted"]});case"rejected":return s.jsxs($t,{className:"bg-red-100 text-red-800",children:[s.jsx(co,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"done":return s.jsxs($t,{className:"bg-blue-100 text-blue-800",children:[s.jsx(gn,{className:"w-3 h-3 mr-1"}),"Complete"]});case"not_done":return s.jsxs($t,{className:"bg-orange-100 text-orange-800",children:[s.jsx(co,{className:"w-3 h-3 mr-1"}),"Incomplete"]});default:return s.jsxs($t,{className:"bg-yellow-100 text-yellow-800",children:[s.jsx(yn,{className:"w-3 h-3 mr-1"}),"Pending"]})}},O=({filters:k,onFiltersChange:P,title:I})=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:s.jsx(e0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Filter Tasks"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Refine your search"})]})]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>P({search:"",status:"all",dateFrom:"",dateTo:""}),className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx(co,{className:"w-3 h-3 mr-1"}),"Clear"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hf,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ut,{placeholder:"Search tasks, names, emails...",value:k.search,onChange:M=>P({...k,search:M.target.value}),className:"pl-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),s.jsxs(Nt,{value:k.status,onValueChange:M=>P({...k,status:M}),children:[s.jsx(wt,{className:"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600",children:s.jsx(St,{placeholder:"All statuses"})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"all",children:"All Statuses"}),s.jsx(Ae,{value:"pending",children:"🟡 Pending"}),s.jsx(Ae,{value:"accepted",children:"🟢 Accepted"}),s.jsx(Ae,{value:"done",children:"✅ Complete"}),s.jsx(Ae,{value:"not_done",children:"🔴 Incomplete"}),s.jsx(Ae,{value:"rejected",children:"❌ Rejected"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"From Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(wr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ut,{type:"date",value:k.dateFrom,onChange:M=>P({...k,dateFrom:M.target.value}),className:"pl-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"To Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(wr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ut,{type:"date",value:k.dateTo,onChange:M=>P({...k,dateTo:M.target.value}),className:"pl-10 bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),L=({task:k,showActions:P=!1})=>s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:border-blue-300 dark:hover:border-blue-600 mb-3",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center text-white font-medium text-sm",children:k.assigneeName.split(" ").map(I=>I[0]).join("").slice(0,2)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-base text-gray-900 dark:text-gray-100 mb-1",children:k.assigneeName}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(t3,{className:"w-3 h-3 text-blue-500"}),k.assigneeEmail]}),k.assigneePhone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(RH,{className:"w-3 h-3 text-green-500"}),k.assigneePhone]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[F(k.status),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-md",children:["#",k.id]})]})]}),s.jsx("div",{className:"mb-3",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-md p-3 border-l-3 border-blue-500",children:[s.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1 flex items-center gap-1 text-sm",children:[s.jsx(jw,{className:"w-3 h-3 text-blue-500"}),"Task Description"]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:k.taskDescription})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950 dark:to-amber-950 rounded-md p-3 border border-orange-200 dark:border-orange-800",children:[s.jsxs("h4",{className:"font-medium text-orange-900 dark:text-orange-100 mb-1 flex items-center gap-1 text-sm",children:[s.jsx(wr,{className:"w-3 h-3 text-orange-600"}),"Support Date"]}),s.jsx("p",{className:"text-orange-800 dark:text-orange-200 font-medium text-sm",children:k.expectedSupportDateFrom&&k.expectedSupportDateTo?`${at(new Date(k.expectedSupportDateFrom),"MMM dd, yyyy")} - ${at(new Date(k.expectedSupportDateTo),"MMM dd, yyyy")}`:at(new Date(k.expectedSupportDate),"MMM dd, yyyy")})]}),k.additionalNotes&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 rounded-md p-3 border border-purple-200 dark:border-purple-800",children:[s.jsxs("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-1 flex items-center gap-1 text-sm",children:[s.jsx(jw,{className:"w-3 h-3 text-purple-600"}),"Additional Notes"]}),s.jsx("p",{className:"text-purple-800 dark:text-purple-200 text-sm",children:k.additionalNotes})]})]}),k.acceptanceResponse&&s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border border-green-200 dark:border-green-800 rounded-md p-3 mb-3",children:[s.jsxs("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-1 flex items-center gap-1 text-sm",children:[s.jsx(gn,{className:"w-3 h-3 text-green-600"}),"Acceptance Response"]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md p-2 border border-green-200 dark:border-green-700",children:[s.jsxs("p",{className:"text-green-800 dark:text-green-200 font-medium italic text-sm",children:['"',k.acceptanceResponse,'"']}),k.acceptedAt&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1 flex items-center gap-1",children:[s.jsx(yn,{className:"w-3 h-3"}),"Accepted: ",at(new Date(k.acceptedAt),"MMM dd, yyyy 'at' h:mm a")]})]})]}),(k.status==="done"||k.status==="not_done"||k.status==="accepted")&&k.statusComments&&s.jsxs("div",{className:`rounded-md p-3 mb-3 border ${k.status==="done"?"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-300 dark:border-green-700":k.status==="not_done"?"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-950 dark:to-rose-950 border-red-300 dark:border-red-700":"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-300 dark:border-blue-700"}`,children:[s.jsxs("h4",{className:`font-medium mb-2 flex items-center gap-1 text-sm ${k.status==="done"?"text-green-900 dark:text-green-100":k.status==="not_done"?"text-red-900 dark:text-red-100":"text-blue-900 dark:text-blue-100"}`,children:[k.status==="done"&&s.jsx(gn,{className:"w-3 h-3 text-green-600"}),k.status==="not_done"&&s.jsx(co,{className:"w-3 h-3 text-red-600"}),k.status==="accepted"&&s.jsx(jw,{className:"w-3 h-3 text-blue-600"}),"Task Completion Feedback"]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-md p-2 border",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status:"}),s.jsx("span",{className:`font-medium text-xs ${k.status==="done"?"text-green-600 dark:text-green-400":k.status==="not_done"?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400"}`,children:k.status==="done"?"✅ Completed Successfully":k.status==="not_done"?"❌ Incomplete":"🔄 In Progress"})]}),s.jsxs("p",{className:"text-gray-700 dark:text-gray-300 italic font-medium text-sm",children:['"',k.statusComments,'"']}),k.lastStatusUpdate&&s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1",children:[s.jsx(yn,{className:"w-3 h-3"}),"Last updated: ",at(new Date(k.lastStatusUpdate),"MMM dd, yyyy 'at' h:mm a")]})]})]}),P&&k.status==="pending"&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(ee,{onClick:()=>S.mutate({taskId:k.id}),disabled:S.isPending,size:"sm",className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[s.jsx(gn,{className:"w-3 h-3 mr-1"}),"Accept Task"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>i(k),disabled:_.isPending,className:"flex-1 border-red-300 text-red-600 hover:bg-red-50 dark:hover:bg-red-950 hover:border-red-400",children:[s.jsx(co,{className:"w-3 h-3 mr-1"}),"Reject Task"]})]}),P&&k.status==="accepted"&&s.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:s.jsxs(ee,{onClick:()=>{i(k),f(!0)},disabled:D.isPending,size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(gn,{className:"w-3 h-3 mr-1"}),"Update Task Status"]})})]})});return g||y?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"text-center",children:"Loading tasks..."})}):s.jsx(fr,{children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(Nw,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Task Manager"}),s.jsx("p",{className:"text-gray-600",children:"Manage collaborative leave tasks with ease"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(yn,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.filter(k=>k.status==="pending").length}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Pending Tasks"})]})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(gn,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.filter(k=>k.status==="accepted").length}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Accepted"})]})]})}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Nw,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.filter(k=>k.status==="done").length}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Completed"})]})]})}),s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(un,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w.length}),s.jsx("div",{className:"text-gray-600 text-sm",children:"Tasks Assigned"})]})]})})]})]}),s.jsxs(P_,{defaultValue:"assigned-to-me",className:"w-full",children:[s.jsxs(Vy,{className:"grid w-full grid-cols-2 h-14 bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[s.jsx(Il,{value:"assigned-to-me",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg font-medium h-full",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nw,{className:"w-4 h-4"}),s.jsx("span",{children:"Tasks Assigned to Me"}),s.jsxs($t,{variant:"secondary",className:"ml-2",children:[N.length,"/",b.length]})]})}),s.jsx(Il,{value:"assigned-by-me",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg font-medium h-full",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4"}),s.jsx("span",{children:"Tasks I Assigned"}),s.jsxs($t,{variant:"secondary",className:"ml-2",children:[E.length,"/",w.length]})]})})]}),s.jsxs(Ml,{value:"assigned-to-me",className:"mt-6",children:[s.jsx(O,{filters:h,onFiltersChange:m,title:"Tasks Assigned to Me"}),s.jsx("div",{className:"space-y-4",children:b.length===0?s.jsx(Ne,{children:s.jsx(_e,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No tasks have been assigned to you yet."})})}):N.length===0?s.jsx(Ne,{children:s.jsxs(_e,{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:"No tasks match your current filters."}),s.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Showing 0 of ",b.length," total tasks"]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",N.length," of ",b.length," tasks"]})}),N.map(k=>s.jsx(L,{task:k,showActions:!0},k.id))]})})]}),s.jsxs(Ml,{value:"assigned-by-me",className:"mt-6",children:[s.jsx(O,{filters:x,onFiltersChange:p,title:"Tasks I Assigned"}),s.jsx("div",{className:"space-y-4",children:w.length===0?s.jsx(Ne,{children:s.jsx(_e,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"You haven't assigned any tasks yet."})})}):E.length===0?s.jsx(Ne,{children:s.jsxs(_e,{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:"No tasks match your current filters."}),s.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Showing 0 of ",w.length," total tasks"]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",E.length," of ",w.length," tasks"]})}),E.map(k=>s.jsx(L,{task:k,showActions:!1},k.id))]})})]})]}),d&&a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(Ne,{className:"w-full max-w-md",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Update Task Status"}),s.jsx(uf,{children:"Please provide your feedback on task completion"})]}),s.jsxs(_e,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"completion-status",children:"Task Status *"}),s.jsxs("select",{id:"completion-status",value:c,onChange:k=>u(k.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select status..."}),s.jsx("option",{value:"complete",children:"Complete - Task finished successfully"}),s.jsx("option",{value:"incomplete",children:"Incomplete - Task not finished or had issues"})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"completion-comment",children:"Closing Remarks *"}),s.jsx(wn,{id:"completion-comment",value:o,onChange:k=>l(k.target.value),placeholder:"Please provide details about how the task went, any issues encountered, or additional notes...",rows:4})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{onClick:()=>{o.trim()&&c?D.mutate({taskId:a.id,status:c,comment:o.trim()}):Vs({title:"Required Fields",description:"Please select a status and provide closing remarks.",variant:"destructive"})},disabled:D.isPending||!o.trim()||!c,className:"flex-1",children:D.isPending?"Updating...":"Update Task"}),s.jsx(ee,{variant:"outline",onClick:()=>{f(!1),i(null),l(""),u("")},className:"flex-1",children:"Cancel"})]})]})]})}),a&&!d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(Ne,{className:"w-full max-w-md",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Reject Task"}),s.jsx(uf,{children:"Please provide a reason for rejecting this task"})]}),s.jsxs(_e,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"rejection-comment",children:"Rejection Reason *"}),s.jsx(wn,{id:"rejection-comment",value:r,onChange:k=>n(k.target.value),placeholder:"Please explain why you cannot accept this task...",rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{onClick:()=>{r.trim()?_.mutate({taskId:a.id,comment:r.trim()}):Vs({title:"Comment Required",description:"Please provide a reason for rejection.",variant:"destructive"})},disabled:_.isPending||!r.trim(),variant:"destructive",className:"flex-1",children:_.isPending?"Rejecting...":"Reject Task"}),s.jsx(ee,{variant:"outline",onClick:()=>{i(null),n("")},className:"flex-1",children:"Cancel"})]})]})]})})]})})}var mE="Avatar",[HOe,IPe]=Cs(mE),[zOe,z9]=HOe(mE),q9=T.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=T.useState("idle");return s.jsx(zOe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ot.span,{...n,ref:t})})});q9.displayName=mE;var K9="AvatarImage",G9=T.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=z9(K9,r),l=qOe(n,i),c=ya(u=>{a(u),o.onImageLoadingStatusChange(u)});return dn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ot.img,{...i,ref:t,src:n}):null});G9.displayName=K9;var Y9="AvatarFallback",X9=T.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=z9(Y9,r),[o,l]=T.useState(n===void 0);return T.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ot.span,{...a,ref:t}):null});X9.displayName=Y9;function N4(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qOe(e,{referrerPolicy:t,crossOrigin:r}){const n=GOe(),a=T.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=T.useState(()=>N4(i,e));return dn(()=>{l(N4(i,e))},[i,e]),dn(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}function KOe(){return()=>{}}function GOe(){return T.useSyncExternalStore(KOe,()=>!0,()=>!1)}var Q9=q9,Z9=G9,J9=X9;const PS=T.forwardRef(({className:e,...t},r)=>s.jsx(Q9,{ref:r,className:tt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));PS.displayName=Q9.displayName;const YOe=T.forwardRef(({className:e,...t},r)=>s.jsx(Z9,{ref:r,className:tt("aspect-square h-full w-full",e),...t}));YOe.displayName=Z9.displayName;const IS=T.forwardRef(({className:e,...t},r)=>s.jsx(J9,{ref:r,className:tt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));IS.displayName=J9.displayName;const MS="jwt_token";function XOe(e){try{const t=e.split(".");if(t.length!==3)throw new Error("Invalid JWT token format");const r=t[1],n=r+"=".repeat((4-r.length%4)%4),a=atob(n),i=JSON.parse(a),o=Math.floor(Date.now()/1e3);return i.exp&&o>i.exp?(console.warn("JWT token has expired"),null):i}catch(t){return console.error("Failed to decode JWT token:",t),null}}async function QOe(e,t){const{OrgContext:r}=await I_(async()=>{const{OrgContext:i}=await Promise.resolve().then(()=>PV);return{OrgContext:i}},void 0),a=localStorage.getItem("user_id")||e.user_id;console.log("=== JWT STORAGE DEBUG ==="),console.log("JWT payload user_id:",e.user_id),console.log("Storing user_id as:",a),r.setJWTData({org_id:e.org_id,user_id:a,role_id:e.role_id,role_name:e.role_name,user_type_id:e.user_type_id}),localStorage.setItem(MS,t),localStorage.setItem("jwt_token",t),console.log("Stored JWT token with key:",MS),console.log("Token stored successfully:",!!localStorage.getItem("jwt_token")),console.log("Final stored user_id:",localStorage.getItem("user_id")),console.log("Stored user data from JWT:",{org_id:e.org_id,user_id:a,role_id:e.role_id,role_name:e.role_name}),console.log("========================")}function ZOe(){return typeof window>"u"?null:localStorage.getItem("jwt_token")||localStorage.getItem(MS)}function JOe(){const[e,t]=T.useState("Leaves"),[r,n]=T.useState(new Date),[a,i]=T.useState("Pending"),[o,l]=T.useState([]),[c,u]=T.useState("Leaves"),[d,f]=T.useState("2025"),[h,m]=T.useState("Yearly");T.useState(null),T.useState(!1),localStorage.getItem("user_id");const{workPattern:x,holidays:p,isHoliday:v,isWorkingDay:b,getHolidayDetails:g}=eh();Le({queryKey:["/api/holidays"]});const{data:w=[]}=Le({queryKey:["/api/leave-requests"]}),{data:y=[]}=Le({queryKey:["/api/leave-types"]}),{data:j=[]}=Le({queryKey:["/api/comp-off-requests"]}),{data:N=[]}=Le({queryKey:["/api/pto-requests"]});Le({queryKey:["/api/leave-variants"]}),Le({queryKey:["/api/employee-leave-balances"]});const{data:E=[]}=Le({queryKey:["/api/leave-balance-transactions"]});T.useEffect(()=>{(async()=>{try{if(ZOe()){const de=await Ds();de&&Array.isArray(de)&&l(de)}}catch(re){console.error("[AdminOverview] Failed to load employee data:",re)}})()},[]);const S=G=>{const re=o.find(de=>{var ne,Ee,Ce;return((ne=de.user_id)==null?void 0:ne.toString())===G||((Ee=de.id)==null?void 0:Ee.toString())===G||((Ce=de.employee_number)==null?void 0:Ce.toString())===G});return re?re.user_name||(re.first_name&&re.last_name?`${re.first_name} ${re.last_name}`:null)||re.employee_number||`Employee ${G}`:`Employee ${G}`},_=G=>{const re=S(G),de=re.split(" ");return de.length>=2?`${de[0][0]}${de[1][0]}`.toUpperCase():re.substring(0,2).toUpperCase()},D=()=>{const G=w,re=E;console.log("[AdminOverview] Calculating analytics from:",{transactionCount:re.length,requestCount:G.length,sampleTransaction:re[0],sampleRequest:G[0],requestStatuses:Array.from(new Set(G.map(ve=>ve.status))),transactionData:re.slice(0,2)});const de=G.filter(ve=>ve.status==="pending").length,ne=G.filter(ve=>ve.status==="approved").length,Ee=G.filter(ve=>ve.status==="rejected").length;console.log("[AdminOverview] Request status counts:",{pending:de,approved:ne,rejected:Ee,total:G.length});const Ce=G.filter(ve=>{if(ve.status!=="approved")return!1;const je=new Date,pt=new Date(ve.startDate),Wt=new Date(ve.endDate);return je>=pt&&je<=Wt}).length;console.log("[AdminOverview] Transaction analysis:",{totalTransactions:re.length,sampleTransactions:re.slice(0,3),transactionTypes:Array.from(new Set(re.map(ve=>ve.transactionType))),descriptions:Array.from(new Set(re.map(ve=>ve.description))).slice(0,10)});const De=re.filter(ve=>{var je,pt;return ve.transactionType==="deduction"&&!((je=ve.description)!=null&&je.includes("Opening balance"))&&!((pt=ve.description)!=null&&pt.includes("imported from Excel"))}),Pe=Math.abs(De.reduce((ve,je)=>ve+parseFloat(je.amount||0),0)),ce=re.filter(ve=>ve.transactionType==="addition"),$e=ce.reduce((ve,je)=>ve+parseFloat(je.amount||0),0),ct=re.filter(ve=>{var je;return(je=ve.description)==null?void 0:je.includes("encashed")}),zt=Math.abs(ct.reduce((ve,je)=>ve+parseFloat(je.amount||0),0)),be=re.filter(ve=>{var je;return(je=ve.description)==null?void 0:je.includes("lapsed")}),H=Math.abs(be.reduce((ve,je)=>ve+parseFloat(je.amount||0),0)),me=re.filter(ve=>{var je;return(je=ve.description)==null?void 0:je.includes("carry forward")}).reduce((ve,je)=>ve+parseFloat(je.amount||0),0);console.log("[AdminOverview] Analytics breakdown:",{deductionCount:De.length,additionCount:ce.length,totalGrantedHalfDays:$e,totalAvailedHalfDays:Pe,encashed:zt,lapsed:H,carryForward:me,sampleDeduction:De[0],sampleAddition:ce[0]});const Re=G.filter(ve=>ve.status==="approved");console.log("[AdminOverview] Working days calculation debug:",{totalRequests:G.length,approvedCount:Re.length,sampleApproved:Re.slice(0,10).map(ve=>({id:ve.id,workingDays:ve.workingDays,workingDaysType:typeof ve.workingDays,workingDaysParsed:parseFloat(ve.workingDays||0),status:ve.status,leaveTypeName:ve.leaveTypeName}))});const Ie=Re.reduce((ve,je)=>{const pt=parseFloat(je.workingDays||0);return ve+pt},0);return console.log("[AdminOverview] Working days total calculation:",{totalWorkingDays:Ie,approvedRequestCount:Re.length,averageDaysPerRequest:Ie/(Re.length||1)}),console.log("[AdminOverview] Final analytics result:",{pending:de,approved:ne,rejected:Ee,onLeave:Ce,workingDaysAvailed:Ie,totalGranted:Math.round($e/2),totalAvailed:Math.round(Pe/2)}),{totalGranted:Math.round($e/2),pendingApprovals:de,totalOnLeave:Ce,totalAvailed:Ie||Math.round(Pe/2),totalRejected:Ee,absent:0,totalLossOfPay:0,totalLapsed:Math.round(H/2),totalEncashed:Math.round(zt/2),carryForward:Math.round(me/2),withdrawals:G.filter(ve=>ve.status==="withdrawal_pending").length}},F=()=>{const G=E,re=w;console.log("[AdminOverview] Raw data analysis:",{transactionCount:G.length,requestCount:re.length,selectedYear:d,sampleTransaction:G[0],sampleRequest:re[0],requestYears:re.map(ne=>new Date(ne.startDate).getFullYear()).filter((ne,Ee,Ce)=>Ce.indexOf(ne)===Ee),transactionYears:G.map(ne=>new Date(ne.createdAt||ne.transactionDate).getFullYear()).filter((ne,Ee,Ce)=>Ce.indexOf(ne)===Ee)});const de=Array.from({length:12},(ne,Ee)=>{const Ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][Ee],De=re.filter($e=>$e.status!=="approved"?!1:new Date($e.startDate).getMonth()===Ee),Pe={};De.forEach($e=>{const ct=$e.leaveTypeName||"Other Leave",zt=parseFloat($e.workingDays)||1;Pe[ct]=(Pe[ct]||0)+zt,Ee===0&&console.log(`[AdminOverview] Processing ${Ce} request:`,{id:$e.id,leaveTypeName:$e.leaveTypeName,workingDays:$e.workingDays,startDate:$e.startDate,status:$e.status})});const ce=Object.values(Pe).reduce(($e,ct)=>$e+ct,0);return{month:Ce,breakdown:Pe,total:ce,requestCount:De.length}});return console.log("[AdminOverview] Monthly data calculated:",de),de},O=D(),L=F(),k=(y==null?void 0:y.map(G=>G.name))||[],P=Array.from(new Set((w==null?void 0:w.map(G=>G.leaveTypeName).filter(Boolean))||[])),I=Array.from(new Set([...k,...P]));console.log("[AdminOverview] Debug leave types analysis:",{totalRequests:(w==null?void 0:w.length)||0,configuredLeaveTypes:k,usedLeaveTypes:P,allLeaveTypes:I,leaveTypeCount:I.length,sampleRequests:w==null?void 0:w.slice(0,5).map(G=>({id:G.id,leaveTypeName:G.leaveTypeName,leaveTypeId:G.leaveTypeId,status:G.status}))});const M={},C=["bg-blue-500","bg-orange-500","bg-red-500","bg-green-500","bg-purple-500","bg-yellow-500","bg-pink-500","bg-indigo-500"];I.forEach((G,re)=>{M[G]=C[re%C.length]}),(()=>{const G=w.filter(de=>de.status==="approved"),re={};return G.forEach(de=>{const ne=de.reason||"Other";re[ne]=(re[ne]||0)+1}),Object.entries(re).map(([de,ne])=>({name:de.charAt(0).toUpperCase()+de.slice(1),value:ne}))})().reduce((G,re)=>G+re.value,0);const J=[{id:"Leaves",label:"Leaves",count:w.length},{id:"Leave Plans",label:"Leave Plans",count:7},{id:"PTO",label:"PTO",count:N.length},{id:"Comp-off",label:"Comp-off",count:j.length}],U=[{id:"All",label:"All"},{id:"Pending",label:"Pending",count:O.pendingApprovals,highlight:!0},{id:"Approved",label:"Approved"},{id:"Rejected",label:"Rejected"},{id:"Availed",label:"Availed"}],Y=(()=>{let G=w;return e==="PTO"?G=N:e==="Comp-off"&&(G=j),a==="Pending"?G.filter(re=>re.status==="pending").slice(0,4):a==="Approved"?G.filter(re=>re.status==="approved").slice(0,4):a==="Rejected"?G.filter(re=>re.status==="rejected").slice(0,4):G.slice(0,4)})(),Q=(G,re)=>{const de=new Date(G),ne=new Date(re);return de.toDateString()===ne.toDateString()?de.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):`${de.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${ne.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`},Z=(G,re,de)=>{if(de)return`${de} working days`;const ne=new Date(G),Ee=new Date(re),Ce=Math.abs(Ee.getTime()-ne.getTime());return`${Math.ceil(Ce/(1e3*60*60*24))+1} days`},he=(()=>{const G=r.getFullYear(),re=r.getMonth(),de=new Date(G,re,1),ne=new Date(G,re+1,0),Ee=new Date(de);Ee.setDate(Ee.getDate()-de.getDay());const Ce=[],De=new Date(Ee);for(;De<=ne||De.getDay()!==0;){const Pe=new Date(De),ce=Pe.getDate(),$e=Pe.getMonth()===re,ct=Pe.toDateString()===new Date().toDateString(),zt=Pe.getDay()===0||Pe.getDay()===6,H=(v?v(Pe):!1)&&g?g(Pe):null,te=w.filter(me=>{if(me.status!=="approved")return!1;const Re=new Date(me.startDate),Ie=new Date(me.endDate);return Pe>=Re&&Pe<=Ie});Ce.push({date:Pe,dayNumber:ce,isCurrentMonth:$e,isToday:ct,isWeekend:zt,holiday:H,leaves:te}),De.setDate(De.getDate()+1)}return Ce})();return s.jsx(fr,{children:s.jsxs("div",{className:"space-y-6 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Overview"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Nt,{value:d,onValueChange:f,children:[s.jsx(wt,{className:"w-24",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"2025",children:"2025"}),s.jsx(Ae,{value:"2024",children:"2024"}),s.jsx(Ae,{value:"2023",children:"2023"})]})]}),s.jsxs(Nt,{value:h,onValueChange:m,children:[s.jsx(wt,{className:"w-28",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"Yearly",children:"Yearly"}),s.jsx(Ae,{value:"Monthly",children:"Monthly"}),s.jsx(Ae,{value:"Quarterly",children:"Quarterly"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ne,{children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Granted"}),s.jsx("p",{className:"text-2xl font-bold",children:O.totalGranted})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(un,{className:"h-4 w-4 text-blue-600"})})]})})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approvals"}),s.jsx("p",{className:"text-2xl font-bold",children:O.pendingApprovals})]}),s.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:s.jsx(FH,{className:"h-4 w-4 text-yellow-600"})})]})})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"On Leave Today"}),s.jsx("p",{className:"text-2xl font-bold",children:O.totalOnLeave})]}),s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx(Bj,{className:"h-4 w-4 text-green-600"})})]})})}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Availed"}),s.jsx("p",{className:"text-2xl font-bold",children:O.totalAvailed})]}),s.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:s.jsx(gn,{className:"h-4 w-4 text-purple-600"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Ne,{className:"lg:col-span-2",children:[s.jsxs(ht,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx(yn,{className:"h-5 w-5"}),s.jsx("span",{children:"Approval Requests"})]}),s.jsx(ee,{variant:"ghost",size:"sm",children:s.jsx(ZR,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg",children:J.map(G=>s.jsxs("button",{onClick:()=>t(G.id),className:`flex-1 px-3 py-2 text-sm rounded-md transition-colors ${e===G.id?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:[G.label," (",G.count,")"]},G.id))}),s.jsx("div",{className:"flex space-x-4 mt-4",children:U.map(G=>s.jsxs("button",{onClick:()=>i(G.id),className:`text-sm font-medium pb-2 border-b-2 transition-colors ${a===G.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[G.label,G.count!==void 0&&s.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs ${G.highlight?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:G.count})]},G.id))})]}),s.jsx(_e,{children:s.jsx("div",{className:"space-y-4",children:Y.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["No ",a.toLowerCase()," requests found"]}):Y.map((G,re)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(PS,{className:"h-8 w-8",children:s.jsx(IS,{className:"text-xs",children:_(G.userId||G.user_id)})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:S(G.userId||G.user_id)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e==="PTO"?`${G.timeType} • ${Q(G.requestDate,G.requestDate)}`:e==="Comp-off"?`${G.actionType} • ${Q(G.workedDate||G.requestDate,G.workedDate||G.requestDate)}`:`${Q(G.startDate,G.endDate)} • ${Z(G.startDate,G.endDate,G.workingDays)}`})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($t,{variant:G.status==="approved"?"default":G.status==="pending"?"secondary":"destructive",children:G.status}),G.status==="pending"&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(ee,{size:"sm",className:"h-6 px-2 text-xs",children:s.jsx(gn,{className:"h-3 w-3"})}),s.jsx(ee,{size:"sm",variant:"outline",className:"h-6 px-2 text-xs",children:s.jsx(co,{className:"h-3 w-3"})})]})]})]},re))})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"h-5 w-5"}),s.jsx("span",{children:"Calendar"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>n(new Date(r.getFullYear(),r.getMonth()-1)),children:s.jsx(Vl,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-sm font-medium min-w-32 text-center",children:r.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>n(new Date(r.getFullYear(),r.getMonth()+1)),children:s.jsx(Ss,{className:"h-4 w-4"})})]})]})}),s.jsx(_e,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium text-muted-foreground",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(G=>s.jsx("div",{className:"p-1",children:G},G))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:he.map((G,re)=>{const de=G.leaves.length>0,ne=G.leaves.length>1;return s.jsx("div",{children:de?s.jsxs(Xn,{children:[s.jsx(Zm,{asChild:!0,children:s.jsxs("div",{className:`
                                  aspect-square p-1 text-xs border rounded relative cursor-pointer hover:bg-gray-100
                                  ${G.isCurrentMonth?"bg-background":"bg-muted/50"}
                                  ${G.isToday?"bg-primary text-primary-foreground":""}
                                  ${G.isWeekend?"text-muted-foreground":""}
                                  ${G.holiday?"bg-red-50 text-red-600":""}
                                  ${de?"bg-green-50 border-green-200":""}
                                `,children:[s.jsx("div",{className:"text-center font-semibold",children:G.dayNumber}),de&&s.jsxs("div",{className:"absolute inset-x-1 bottom-1 space-y-0.5",children:[G.leaves.slice(0,2).map((Ee,Ce)=>s.jsx("div",{className:"text-xs truncate px-1 py-0.5 bg-green-200 text-green-800 rounded",title:S(Ee.userId),children:S(Ee.userId).split(" ")[0]},Ce)),ne&&G.leaves.length>2&&s.jsxs("div",{className:"text-xs text-center text-green-700 font-semibold",children:["+",G.leaves.length-2," more"]})]}),G.holiday&&s.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]})}),s.jsxs(Qn,{className:"max-w-md",children:[s.jsx(Zn,{children:s.jsxs(Jn,{children:["Employees on Leave - ",G.date.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})}),s.jsx("div",{className:"space-y-3",children:G.leaves.map((Ee,Ce)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[s.jsx(PS,{className:"h-10 w-10",children:s.jsx(IS,{className:"text-sm",children:_(Ee.userId)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:S(Ee.userId)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Ee.leaveTypeName||"Leave"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Q(Ee.startDate,Ee.endDate)}),Ee.workingDays&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ee.workingDays," working days"]})]}),s.jsx($t,{variant:Ee.status==="approved"?"default":"secondary",className:"text-xs",children:Ee.status})]},Ce))})]})]}):s.jsxs("div",{className:`
                              aspect-square p-1 text-xs border rounded relative
                              ${G.isCurrentMonth?"bg-background":"bg-muted/50"}
                              ${G.isToday?"bg-primary text-primary-foreground":""}
                              ${G.isWeekend?"text-muted-foreground":""}
                              ${G.holiday?"bg-red-50 text-red-600":""}
                            `,children:[s.jsx("div",{className:"text-center",children:G.dayNumber}),G.holiday&&s.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]})},re)})})]})})]})]}),s.jsxs(Ne,{children:[s.jsxs(ht,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx(un,{className:"h-5 w-5"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Nt,{value:d,onValueChange:f,children:[s.jsx(wt,{className:"w-24",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"2025",children:"2025"}),s.jsx(Ae,{value:"2024",children:"2024"})]})]}),s.jsxs(Nt,{value:h,onValueChange:m,children:[s.jsx(wt,{className:"w-24",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"Yearly",children:"Yearly"}),s.jsx(Ae,{value:"Monthly",children:"Monthly"})]})]})]})]}),s.jsx("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg",children:["Leaves","PTO","Comp-off"].map(G=>s.jsx("button",{onClick:()=>u(G),className:`flex-1 px-3 py-2 text-sm rounded-md transition-colors ${c===G?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:G},G))}),s.jsx("div",{className:"flex space-x-6 mt-4",children:[{id:"Availed",label:"Availed",color:"text-green-600",active:!0},{id:"Approved",label:"Approved",color:"text-blue-600"},{id:"Rejected",label:"Rejected",color:"text-red-600"},{id:"Loss of Pay",label:"Loss of Pay",color:"text-gray-600"},{id:"Absent",label:"Absent",color:"text-purple-600"},{id:"Encashed",label:"Encashed",color:"text-yellow-600"}].map(G=>s.jsxs("button",{className:`text-sm font-medium pb-2 border-b-2 transition-colors ${G.active?"border-green-500 text-green-600":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[G.label," ",G.active&&s.jsx("span",{className:"text-green-600",children:"✓"})]},G.id))})]}),s.jsx(_e,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Leaves availed: ",O.totalAvailed]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Nt,{value:h,onValueChange:m,children:[s.jsx(wt,{className:"w-20",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"Yearly",children:"Yearly"}),s.jsx(Ae,{value:"Monthly",children:"Monthly"})]})]}),s.jsxs(Nt,{value:d,onValueChange:f,children:[s.jsx(wt,{className:"w-16",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"2024",children:"2024"}),s.jsx(Ae,{value:"2025",children:"2025"})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-end justify-between h-64 bg-gray-50 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex flex-col justify-between h-full text-xs text-gray-500 mr-2",children:[s.jsx("span",{children:"100"}),s.jsx("span",{children:"80"}),s.jsx("span",{children:"60"}),s.jsx("span",{children:"40"}),s.jsx("span",{children:"20"}),s.jsx("span",{children:"0"})]}),s.jsx("div",{className:"flex items-end justify-between flex-1 h-full space-x-4",children:L.map((G,re)=>{const de=Math.max(...L.map(Ee=>Ee.total),50),ne=G.total>0?Math.max(G.total/de*100,5):0;return s.jsxs("div",{className:"flex flex-col items-center space-y-1 flex-1 group relative",children:[s.jsx("div",{className:"w-full bg-white border border-gray-200 rounded-sm overflow-hidden flex flex-col-reverse cursor-pointer",style:{height:`${ne}%`,minHeight:G.total>0?"20px":"2px",minWidth:"40px",backgroundColor:G.total>0?"#f3f4f6":"transparent"},children:G.total>0&&I.map(Ee=>{var De;const Ce=((De=G.breakdown)==null?void 0:De[Ee])||0;return Ce<=0?null:s.jsx("div",{className:M[Ee],style:{height:`${Ce/G.total*100}%`,minHeight:"4px"}},Ee)})}),G.total>0&&s.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 \r
                                          bg-gray-800 text-white text-xs p-2 rounded shadow-lg z-10 \r
                                          opacity-0 group-hover:opacity-100 transition-opacity duration-200 \r
                                          whitespace-nowrap pointer-events-none`,children:[s.jsxs("div",{className:"font-semibold",children:[G.month," Details"]}),I.map(Ee=>{var De;const Ce=((De=G.breakdown)==null?void 0:De[Ee])||0;return Ce<=0?null:s.jsxs("div",{children:[Ee,": ",Ce," days"]},Ee)}),s.jsxs("div",{className:"border-t border-gray-600 mt-1 pt-1",children:["Total: ",G.total," days"]})]}),s.jsx("span",{className:"text-xs text-gray-500",children:G.month})]},re)})})]}),s.jsx("div",{className:"flex items-center justify-center flex-wrap gap-4 mt-4",children:I.map(G=>{const re=M[G];return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded ${re}`}),s.jsx("span",{className:"text-sm",children:G})]},G)})})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-4 pt-6 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold",children:O.totalGranted}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Granted"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:O.pendingApprovals}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending approvals"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:O.totalOnLeave}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total On leave"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:O.totalAvailed}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total availed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:O.totalRejected}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Rejected"})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:O.absent}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Absent"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:O.totalLossOfPay}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Loss of Pay"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-red-600",children:O.totalLapsed}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total lapsed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-green-600",children:O.totalEncashed}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Encashed"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:O.carryForward}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carry forward"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:O.withdrawals}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Withdrawals"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"h-5 w-5"}),s.jsx("span",{children:"Upcoming Holidays"})]})}),s.jsx(_e,{children:s.jsx("div",{className:"space-y-3",children:(()=>{if(console.log("[AdminOverview] Work Pattern Holidays data:",p),console.log("[AdminOverview] First work pattern holiday:",p==null?void 0:p[0]),!p||p.length===0)return s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No upcoming holidays configured in work pattern"});const G=new Date,re=p.filter(de=>{try{return new Date(de.selectedDate||de.date)>=G}catch{return!1}}).sort((de,ne)=>{const Ee=new Date(de.selectedDate||de.date),Ce=new Date(ne.selectedDate||ne.date);return Ee.getTime()-Ce.getTime()}).slice(0,5);return re.length===0?s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No upcoming holidays"}):re.map((de,ne)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:de.holidayName||de.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(()=>{try{const Ee=de.selectedDate||de.date,Ce=new Date(Ee);return isNaN(Ce.getTime())?"Date not available":Ce.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}catch{return"Date not available"}})()})]}),s.jsx($t,{variant:"outline",children:"Holiday"})]},ne))})()})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx(un,{className:"h-5 w-5"}),s.jsx("span",{children:"Leave Analytics"})]})}),s.jsx(_e,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:O.totalLapsed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lapsed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:O.totalEncashed}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Encashed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:O.carryForward}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Carry Forward"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:O.withdrawals}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Withdrawals"})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-medium mb-3",children:"Top Leave Reasons"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Imported leave transaction for Johnson Jeyakumar"}),s.jsx("span",{className:"font-medium",children:"3"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Imported leave transaction for Pradeep Reddy"}),s.jsx("span",{className:"font-medium",children:"3"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Imported leave transaction for Raghav Rohila"}),s.jsx("span",{className:"font-medium",children:"4"})]})]})]})]})})]})]})]})})}function ePe(){const[e,t]=T.useState("Leaves"),[r,n]=T.useState("All"),[a,i]=T.useState(!1),[o,l]=T.useState(null),[c,u]=T.useState(""),[d,f]=T.useState(!1),[h,m]=T.useState([]),[x,p]=T.useState(""),[v,b]=T.useState(1),[g]=T.useState(10),{toast:w}=Lr(),y=Jy(),j=localStorage.getItem("currentView")||"admin",{data:N=[]}=Le({queryKey:["/api/leave-requests"],enabled:j==="admin"}),{data:E=[]}=Le({queryKey:["/api/pto-requests"],enabled:j==="admin"}),{data:S=[]}=Le({queryKey:["/api/comp-off-requests"],enabled:j==="admin"}),{data:_=[]}=Le({queryKey:["/api/leave-types"]}),{data:D=[]}=Le({queryKey:["/api/users"]}),{data:F=[],isLoading:O}=Le({queryKey:["external-employees"],queryFn:Ds,staleTime:5*60*1e3}),L=be=>{if(!be)return"Unknown Employee";const H=F.find(me=>{var Re;return me.user_id===be||me.user_id===parseInt(be)||((Re=me.user_id)==null?void 0:Re.toString())===be});if(H&&H.user_name)return H.user_name;if(H&&(H.first_name||H.last_name)){const me=`${H.first_name||""} ${H.last_name||""}`.trim();if(me)return me}const te=D.find(me=>me.id===be);return te&&te.firstName?`${te.firstName} ${te.lastName||""}`.trim():`Employee ID: ${be}`};let k=N,P=E,I=S;if(y.isReportingManager&&y.reportees.length>0){const be=y.reportees.map(H=>H.user_id.toString());k=k.filter(H=>{var te;return be.includes((te=H.userId)==null?void 0:te.toString())}),P=P.filter(H=>{var te;return be.includes((te=H.userId)==null?void 0:te.toString())}),I=I.filter(H=>{var te;return be.includes((te=H.userId)==null?void 0:te.toString())})}const C=(()=>{switch(e){case"PTO":return P;case"CompOff":return I;default:return k}})(),R=C.filter(be=>be.status==="pending"||be.status==="withdrawal_pending"),z=C.filter(be=>be.status==="approved"),J=C.filter(be=>be.status==="rejected"),U=[{id:"Leaves",label:"Leaves",count:k.length,active:e==="Leaves"},{id:"PTO",label:"PTO",count:P.length,active:e==="PTO"},{id:"CompOff",label:"CompOff",count:I.length,active:e==="CompOff"}],q=[{id:"All",label:"All",count:C.length},{id:"Pending",label:"Pending",count:R.length},{id:"Approved",label:"Approved",count:z.length},{id:"Rejected",label:"Rejected",count:J.length}],Y=()=>{let be;switch(r){case"Pending":be=R;break;case"Approved":be=z;break;case"Rejected":be=J;break;default:be=C}return x.trim()&&(be=be.filter(te=>{const me=L(te.userId).toLowerCase(),Re=x.toLowerCase();if(me.includes(Re))return!0;let Ie="";if(e==="PTO")Ie="PTO";else if(e==="CompOff")Ie=`Comp-off (${te.type})`;else{const je=_.find(pt=>pt.id===te.leaveTypeId);Ie=(je==null?void 0:je.name)||"Unknown Leave Type"}return!!(Ie.toLowerCase().includes(Re)||(te.status==="withdrawal_pending"?"withdrawal pending":te.status).toLowerCase().includes(Re))})),be.sort((te,me)=>{if(te.status==="withdrawal_pending"&&me.status!=="withdrawal_pending")return-1;if(me.status==="withdrawal_pending"&&te.status!=="withdrawal_pending")return 1;const Re=new Date(te.createdAt||te.startDate||te.requestDate).getTime();return new Date(me.createdAt||me.startDate||me.requestDate).getTime()-Re})},Q=()=>Y(),Z=()=>{const be=Q(),H=(v-1)*g,te=H+g;return be.slice(H,te)},ue=Q().length,he=Math.ceil(ue/g),G=ue===0?0:(v-1)*g+1,re=Math.min(v*g,ue),de=be=>{n(be),b(1)},ne=be=>{t(be),b(1)},Ee=be=>{p(be),b(1)},Ce=It({mutationFn:async be=>{const H=Pe();return yt("POST",`${H}/${be}/approve`)},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/leave-requests"]}),Ye.invalidateQueries({queryKey:["/api/pto-requests"]}),Ye.invalidateQueries({queryKey:["/api/comp-off-requests"]}),Ye.invalidateQueries({queryKey:["/api/employee-leave-balances"]}),w({title:"Success",description:`${e.slice(0,-1)} request approved successfully`})},onError:be=>{w({title:"Error",description:be.message||`Failed to approve ${e.toLowerCase()} request`,variant:"destructive"})}}),De=It({mutationFn:async({requestId:be,reason:H})=>{const te=Pe();return yt("POST",`${te}/${be}/reject`,{rejectionReason:H})},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/leave-requests"]}),Ye.invalidateQueries({queryKey:["/api/pto-requests"]}),Ye.invalidateQueries({queryKey:["/api/comp-off-requests"]}),w({title:"Success",description:`${e.slice(0,-1)} request rejected successfully`})},onError:be=>{w({title:"Error",description:be.message||`Failed to reject ${e.toLowerCase()} request`,variant:"destructive"})}}),Pe=()=>{switch(e){case"PTO":return"/api/pto-requests";case"CompOff":return"/api/comp-off-requests";default:return"/api/leave-requests"}},ce=be=>{Ce.mutate(be)},$e=be=>{l(be),u(""),i(!0)},ct=()=>{o&&c.trim()&&(De.mutate({requestId:o,reason:c.trim()}),i(!1),l(null),u(""))},zt=be=>{m(be),f(!0)};return s.jsxs(fr,{children:[s.jsx("div",{className:"p-6",children:s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(mt,{className:"text-lg font-semibold text-gray-900",children:"Approval Requests"}),s.jsx("div",{className:"flex items-center space-x-1",children:U.map(be=>s.jsxs(ee,{variant:be.active?"default":"outline",size:"sm",onClick:()=>ne(be.id),className:`${be.active?"bg-black text-white hover:bg-gray-800":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:[be.label," (",be.count,")"]},be.id))})]})}),s.jsxs(_e,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"flex items-center space-x-6 border-b border-gray-200",children:q.map(be=>s.jsx("button",{onClick:()=>de(be.id),className:`flex items-center space-x-2 px-1 py-3 text-sm font-medium border-b-2 transition-colors ${r===be.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:s.jsxs("span",{children:[be.label," (",be.count,")"]})},be.id))}),s.jsxs(ee,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(ZR,{className:"w-4 h-4 mr-1"}),"View All"]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(ut,{placeholder:"Search by employee name, leave type, or status...",value:x,onChange:be=>Ee(be.target.value),className:"pl-10"})]})}),O?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Loading employee data..."})}):Q().length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 text-sm",children:x?`No results found for "${x}"`:"No leave requests found"})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Leave Type"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Date Applied"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Leave Period"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Days"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-500 uppercase tracking-wider w-32",children:"Actions"})]})}),s.jsx("tbody",{children:Z().map(be=>{let H;if(e==="PTO")H={type:"PTO",startDate:new Date(be.requestDate).toLocaleDateString(),endDate:new Date(be.requestDate).toLocaleDateString(),days:be.timeType==="half_day"?"0.5":be.timeType==="quarter_day"?"0.25":be.totalHours?`${be.totalHours}h`:"1",hasDocuments:be.documentUrl};else if(e==="CompOff")H={type:`Comp-off (${be.type})`,startDate:new Date(be.date||be.createdAt).toLocaleDateString(),endDate:new Date(be.date||be.createdAt).toLocaleDateString(),days:be.amount||be.transferAmount||"1",hasDocuments:be.documentUrl};else{const te=_.find(me=>me.id===be.leaveTypeId);H={type:(te==null?void 0:te.name)||"Unknown Leave Type",startDate:new Date(be.startDate).toLocaleDateString(),endDate:new Date(be.endDate).toLocaleDateString(),days:be.workingDays||be.totalDays||"1",hasDocuments:be.documents&&be.documents.length>0}}return s.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[s.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:L(be.userId)}),s.jsx("td",{className:"py-3 px-4 text-gray-700",children:H.type}),s.jsx("td",{className:"py-3 px-4 text-gray-700",children:new Date(be.createdAt||be.startDate||be.requestDate).toLocaleDateString()}),s.jsx("td",{className:"py-3 px-4 text-gray-700",children:H.startDate===H.endDate?H.startDate:`${H.startDate} - ${H.endDate}`}),s.jsxs("td",{className:"py-3 px-4 text-gray-700",children:[H.days," ",e==="PTO"&&be.timeType==="hours"?"":"days"]}),s.jsx("td",{className:"py-3 px-4",children:H.hasDocuments?s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>zt(e==="Leaves"?be.documents:[be.documentUrl]),className:"text-blue-600 hover:text-blue-700 p-1",children:s.jsx(Vn,{className:"w-4 h-4"})}):s.jsx("span",{className:"text-gray-400 text-sm",children:"No documents"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx($t,{variant:be.status==="pending"||be.status==="withdrawal_pending"?"secondary":be.status==="approved"?"default":"destructive",className:be.status==="pending"?"bg-yellow-100 text-yellow-800":be.status==="withdrawal_pending"?"bg-purple-100 text-purple-800":be.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:be.status==="withdrawal_pending"?"Withdrawal Pending":be.status.charAt(0).toUpperCase()+be.status.slice(1)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[(be.status==="pending"||be.status==="withdrawal_pending")&&s.jsxs(s.Fragment,{children:[s.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>ce(be.id),disabled:Ce.isPending,className:"text-green-600 border-green-200 hover:bg-green-50 px-2 py-1 h-7 text-xs whitespace-nowrap",children:[s.jsx(V2,{className:"w-3 h-3 mr-1"}),"Approve"]}),s.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>$e(be.id),disabled:De.isPending,className:"text-red-600 border-red-200 hover:bg-red-50 px-2 py-1 h-7 text-xs whitespace-nowrap",children:[s.jsx(Yn,{className:"w-3 h-3 mr-1"}),"Reject"]})]}),be.status!=="pending"&&s.jsx("span",{className:"text-gray-400 text-sm",children:be.status==="approved"?"Approved":"Rejected"})]})})]},be.id)})})]}),s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-500",children:s.jsxs("span",{children:["Showing ",G," to ",re," of ",ue," results"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>b(Math.max(1,v-1)),disabled:v===1,className:"flex items-center",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"}),"Previous"]}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,he)},(be,H)=>{let te;return he<=5||v<=3?te=H+1:v>=he-2?te=he-4+H:te=v-2+H,s.jsx(ee,{variant:te===v?"default":"outline",size:"sm",onClick:()=>b(te),className:"w-8 h-8 p-0",children:te},te)})}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>b(Math.min(he,v+1)),disabled:v===he,className:"flex items-center",children:["Next",s.jsx(Ss,{className:"w-4 h-4 ml-1"})]})]})]})]})})]})]})}),s.jsx(Xn,{open:a,onOpenChange:i,children:s.jsxs(Qn,{className:"sm:max-w-md",children:[s.jsx(Zn,{children:s.jsx(Jn,{children:"Reject Leave Request"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"rejectionReason",children:"Reason for rejection *"}),s.jsx(wn,{id:"rejectionReason",value:c,onChange:be=>u(be.target.value),placeholder:"Please provide a detailed reason for rejecting this leave request...",className:"mt-1",rows:4})]})}),s.jsxs(Wx,{children:[s.jsx(ee,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(ee,{variant:"destructive",onClick:ct,disabled:!c.trim()||De.isPending,children:De.isPending?"Rejecting...":"Reject Request"})]})]})}),s.jsx(Xn,{open:d,onOpenChange:f,children:s.jsxs(Qn,{className:"sm:max-w-2xl",children:[s.jsx(Zn,{children:s.jsx(Jn,{children:"Supporting Documents"})}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No documents attached"}):s.jsx("div",{className:"space-y-3",children:h.map((be,H)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vn,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:be.split("/").pop()||`Document ${H+1}`}),s.jsx("p",{className:"text-sm text-gray-500",children:"Supporting document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>window.open(be,"_blank"),children:[s.jsx(bx,{className:"w-4 h-4 mr-1"}),"View"]}),s.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>{const te=window.document.createElement("a");te.href=be,te.download=be.split("/").pop()||"document",te.click()},children:[s.jsx(Mi,{className:"w-4 h-4 mr-1"}),"Download"]})]})]},H))})}),s.jsx(Wx,{children:s.jsx(ee,{onClick:()=>f(!1),children:"Close"})})]})})]})}function tPe(){const[e,t]=T.useState(""),[r,n]=T.useState(null),[a,i]=T.useState(!1),[o,l]=T.useState([]),[c,u]=T.useState([]),[d,f]=T.useState(!0),[h,m]=T.useState(null),[,x]=ju(),p=Jy();T.useEffect(()=>{(async()=>{try{f(!0),m(null),console.log("[Employees] Starting to load employee data...");const E=await Ds();console.log("[Employees] Raw employee data received:",(E==null?void 0:E.length)||0);let S=E.map(_=>{try{const D=Su(_);return{id:D.user_id,name:D.user_name,designation:D.designation,function:D.userRole||"General",division:D.workerType||"Employee",location:"Office",leaveTypesApplied:0,avatar:D.profilePhoto,joinedDate:D.dateOfJoining?new Date(D.dateOfJoining).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",firstName:D.firstName,lastName:D.lastName,email:D.email,employeeNumber:D.employee_number,gender:D.gender,phoneNumber:D.phoneNumber,reportingManager:D.reportingManager}}catch(D){return console.error("[Employees] Error transforming employee:",_,D),null}}).filter(_=>_!==null);console.log(`[Employees] Initial load: ${S.length} employees`),console.log("[Employees] Reporting manager status:",p.isReportingManager,"Reportees:",p.reportees.length),console.log("[Employees] Successfully formatted employees:",S.length),console.log("[Employees] Sample employee data:",S[0]),l(S),u(S),m(null)}catch(E){console.error("[Employees] Error loading employees:",E),E instanceof Error&&E.message.includes("Authentication required")?m("Authentication required. Please visit /id/{your-jwt-token} to authenticate."):E instanceof Error?m(`Failed to load employee data: ${E.message}`):m("Failed to load employee data. Please try again or contact your administrator."),l([]),u([])}finally{f(!1)}})()},[]),T.useEffect(()=>{if(o.length>0){let N=[...o];if(p.isReportingManager&&p.reportees.length>0){const E=p.reportees.map(S=>S.user_id.toString());N=o.filter(S=>E.includes(S.id.toString())),console.log(`[Employees] Filtered to ${N.length} reportees for reporting manager`)}else console.log(`[Employees] Showing all ${o.length} employees`);u(N)}},[o,p.isReportingManager,p.reportees]);const v={total:c.length,onLeave:0,onPTO:0,onCompOff:0,absent:0,totalLossOfPay:0},b=[{name:"Casual Leave",balance:"12/20 d",color:"bg-gray-400"},{name:"Sick Leave",balance:"12/20 d",color:"bg-gray-400"},{name:"Earned Leave",balance:"12/20 d",color:"bg-gray-400"},{name:"Marriage Leave",balance:"12/20 d",color:"bg-gray-400"},{name:"Bereavement Leave",balance:"12/20 d",color:"bg-gray-400"}],g=[{label:"Total Granted",value:6},{label:"Pending approvals",value:6},{label:"Total availed",value:4},{label:"Total Encashed",value:6},{label:"Carry forwards",value:6},{label:"Total Rejected",value:2},{label:"Absent",value:2},{label:"Total Loss of Pay",value:0},{label:"Total lapsed",value:0}],w=N=>{n(N),i(!0)},y=()=>{i(!1),n(null)},j=(N,E)=>{E.stopPropagation(),localStorage.setItem("applyOnBehalfEmployee",JSON.stringify({id:N.id,name:N.name,designation:N.designation})),x("/leave-applications?onBehalf=true")};return a&&r?s.jsx(fr,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ee,{variant:"ghost",size:"sm",onClick:y,className:"text-gray-600 hover:text-gray-900",children:s.jsx(Vl,{className:"w-4 h-4"})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Employees Leave Details"})]}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-black rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xl font-bold",children:r.name.split(" ").map(N=>N[0]).join("")})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[r.name," (",r.designation,")"]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[s.jsxs("span",{children:["Function - ",r.function]}),s.jsxs("span",{children:["Division - ",r.division]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(IH,{className:"w-4 h-4"}),s.jsx("span",{children:r.location})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(r0,{className:"w-4 h-4"}),s.jsxs("span",{children:["Reporting to ",r.id==="7246"?"Rahul Sharma":"Admin User"]})]})]})]})]}),s.jsxs("div",{className:"text-right text-sm text-gray-600",children:["Joined on ",r.joinedDate]})]})})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No leaves applied currently"}),s.jsxs(ee,{className:"bg-teal-600 hover:bg-teal-700 text-white",children:["Setup Leaves",s.jsx(Ss,{className:"w-4 h-4 ml-1"})]})]})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Leave Types and Balances"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ee,{variant:"ghost",size:"sm",children:s.jsx(Vl,{className:"w-4 h-4"})}),s.jsx(ee,{variant:"ghost",size:"sm",children:s.jsx(Ss,{className:"w-4 h-4"})}),s.jsx(ee,{variant:"ghost",size:"sm",children:s.jsx(Nu,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"grid grid-cols-5 gap-4",children:b.map((N,E)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-12 h-12 ${N.color} rounded-full mx-auto mb-2`}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),s.jsx("div",{className:"text-sm text-gray-600",children:N.balance})]},E))})]})}),s.jsx(Ne,{children:s.jsxs(_e,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Leave Statistics"}),s.jsx("div",{className:"grid grid-cols-4 gap-4 mb-4",children:g.slice(0,8).map((N,E)=>s.jsx(Ne,{className:"border border-gray-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.value}),s.jsx("div",{className:"text-sm text-gray-600",children:N.label})]})},E))}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.slice(8).map((N,E)=>s.jsx(Ne,{className:"border border-gray-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.value}),s.jsx("div",{className:"text-sm text-gray-600",children:N.label})]})},E))})]})})]})}):d?s.jsx(fr,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Employees"})}),s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"text-gray-500",children:"Loading employee data..."})})]})}):h?s.jsx(fr,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Employees"})}),s.jsxs("div",{className:"text-center py-12",children:[s.jsxs("div",{className:"text-red-600 mb-4",children:[s.jsx(Yn,{className:"h-12 w-12 mx-auto mb-2"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Unable to Load Employee Data"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:h}),s.jsx(ee,{onClick:()=>window.location.reload(),children:"Retry"})]})]})}):s.jsx(fr,{children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:["Employees (",v.total,")"]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(ut,{placeholder:"Search for employees",value:e,onChange:N=>t(N.target.value),className:"pl-10 w-64"})]}),s.jsxs(ee,{variant:"outline",size:"sm",className:"text-gray-600",children:[s.jsx(e0,{className:"w-4 h-4 mr-1"}),"Filter"]})]})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[s.jsx(Ne,{className:"bg-teal-50 border-teal-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-teal-700",children:v.onLeave}),s.jsx("div",{className:"text-sm text-teal-600",children:"On leave"})]})}),s.jsx(Ne,{className:"bg-blue-50 border-blue-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-700",children:v.onPTO}),s.jsx("div",{className:"text-sm text-blue-600",children:"On PTO"})]})}),s.jsx(Ne,{className:"bg-green-50 border-green-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-700",children:v.onCompOff}),s.jsx("div",{className:"text-sm text-green-600",children:"On Comp-off"})]})}),s.jsx(Ne,{className:"bg-orange-50 border-orange-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-700",children:v.absent}),s.jsx("div",{className:"text-sm text-orange-600",children:"Absent"})]})}),s.jsx(Ne,{className:"bg-red-50 border-red-200",children:s.jsxs(_e,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-700",children:v.totalLossOfPay}),s.jsx("div",{className:"text-sm text-red-600",children:"Total Loss of Pay"})]})})]}),s.jsxs("div",{className:"bg-black text-white p-3 rounded-lg flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Leaves have not been set up for (0) Employees Apply Filter"}),s.jsx(ee,{variant:"ghost",size:"sm",className:"text-white hover:bg-gray-800",children:s.jsx(Yn,{className:"w-4 h-4"})})]}),s.jsx(Ne,{children:s.jsx(_e,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Designation"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Function"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Division"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Types Applied"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.filter(N=>{var E,S;return N.name.toLowerCase().includes(e.toLowerCase())||N.designation.toLowerCase().includes(e.toLowerCase())||((E=N.email)==null?void 0:E.toLowerCase().includes(e.toLowerCase()))||((S=N.employeeNumber)==null?void 0:S.toLowerCase().includes(e.toLowerCase()))}).map(N=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>w(N),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-bold",children:N.name.split(" ").map(E=>E[0]).join("")})}),s.jsx("span",{className:"text-sm text-gray-900",children:N.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.designation}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.function}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.division}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.location}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.leaveTypesApplied>0?s.jsx("span",{children:N.leaveTypesApplied}):s.jsx(ee,{variant:"link",size:"sm",className:"text-blue-600 p-0 h-auto",onClick:E=>j(N,E),children:"Assign Leaves"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:s.jsx(Ss,{className:"w-4 h-4"})})]},N.id))})]})})})})]})})}const rPe=we.object({name:we.string().min(1,"Workflow name is required"),effectiveDate:we.string().min(1,"Effective date is required"),process:we.string().min(1,"Process is required"),subProcesses:we.array(we.string()).min(1,"At least one sub-process is required"),reviewSteps:we.array(we.object({title:we.string(),roleIds:we.array(we.number()),autoApproval:we.boolean()})).optional()});function nPe(){var S;const{toast:e}=Lr(),[t,r]=T.useState(!1),[n,a]=T.useState([]),[i,o]=T.useState(!1),[l,c]=T.useState(null),[u,d]=T.useState(null),f=Za({resolver:bs(rPe),defaultValues:{name:"",effectiveDate:"",process:"",subProcesses:[],reviewSteps:[]}}),{data:h=[]}=Le({queryKey:["/api/workflows"]});Le({queryKey:["/api/roles"]});const{data:m}=Le({queryKey:["/api/company"]});T.useEffect(()=>{if(u&&t){console.log("Editing workflow data:",u);const _={name:u.name||"",effectiveDate:u.effectiveDate?new Date(u.effectiveDate).toISOString().split("T")[0]:"",process:u.process||"application",subProcesses:u.subProcesses?Array.isArray(u.subProcesses)?u.subProcesses:[u.subProcess||"apply-leave"]:["apply-leave"]};if(console.log("Form values being set:",_),f.reset(_),u.steps&&Array.isArray(u.steps)){const D=u.steps.map((F,O)=>({id:F.id||Date.now().toString()+O,title:F.title||"",roleIds:F.roleIds||[],autoApproval:F.autoApproval||!1,days:F.days||0,hours:F.hours||0}));a(D)}else a([])}},[u,t,f]);const x=It({mutationFn:async _=>{const D=localStorage.getItem("org_id")||"60";return yt("POST","/api/workflows",{..._,orgId:parseInt(D)})},onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/workflows"]}),e({title:"Success",description:"Workflow created successfully"}),r(!1),f.reset(),a([])},onError:_=>{e({title:"Error",description:_.message||"Failed to create workflow",variant:"destructive"})}}),p=It({mutationFn:async({id:_,data:D})=>yt("PATCH",`/api/workflows/${_}`,D),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/workflows"]}),r(!1),d(null),f.reset(),a([]),e({title:"Success",description:"Workflow updated successfully"})},onError:_=>{e({title:"Error",description:_.message||"Failed to update workflow",variant:"destructive"})}}),v=It({mutationFn:async _=>yt("DELETE",`/api/workflows/${_}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/workflows"]}),e({title:"Success",description:"Workflow deleted successfully"})},onError:_=>{e({title:"Error",description:_.message||"Failed to delete workflow",variant:"destructive"})}}),b=()=>{const _={id:Date.now().toString(),title:"",roleIds:[],autoApproval:!1,days:0,hours:0};a(D=>[...D,_])},g=(_,D)=>{a(F=>F.map(O=>O.id===_?{...O,...D}:O))},w=_=>{if(l!==null){const D=n[l];g(D.id,{roleIds:_})}},y=_=>{var D;console.log("[openAssignRolesDialog] Opening for step:",_),console.log("[openAssignRolesDialog] Current reviewSteps:",n),console.log("[openAssignRolesDialog] Step roleIds:",(D=n[_])==null?void 0:D.roleIds),c(_),o(!0)},j=_=>{if(m!=null&&m.effectiveDate&&_.effectiveDate){const F=new Date(m.effectiveDate);if(new Date(_.effectiveDate)<F){f.setError("effectiveDate",{message:"Effective date cannot be before company setup date"});return}}const D={..._,steps:n.map(F=>({title:F.title,roleIds:F.roleIds,autoApproval:F.autoApproval,days:F.days||0,hours:F.hours||0}))};u?p.mutate({id:u.id,data:D}):x.mutate(D)},N=_=>{d(_),r(!0)},E=_=>{window.confirm("Are you sure you want to delete this workflow?")&&v.mutate(_)};return s.jsx(fr,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Workflows"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage approval workflows for your organization"})]}),s.jsxs(Xn,{open:t,onOpenChange:_=>{r(_),_||(d(null),f.reset(),a([]))},children:[s.jsx(Zm,{asChild:!0,children:s.jsxs(ee,{className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Create Workflow"]})}),s.jsxs(Qn,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Zn,{children:s.jsx(Jn,{className:"text-xl font-semibold text-gray-900",children:u?"Edit Workflow":"New Workflow"})}),s.jsx(ti,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(j),className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(Ke,{control:f.control,name:"name",render:({field:_})=>s.jsxs(He,{children:[s.jsx(it,{className:"text-sm font-medium text-gray-700",children:"Workflow Name"}),s.jsx(et,{children:s.jsx(ut,{placeholder:"eg. Leave Approval for Factory Employees",..._,className:"mt-1"})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:f.control,name:"effectiveDate",render:({field:_})=>s.jsxs(He,{children:[s.jsx(it,{className:"text-sm font-medium text-gray-700",children:"Effective Date"}),s.jsx(et,{children:s.jsxs("div",{className:"relative mt-1",children:[s.jsx(ut,{type:"date",placeholder:"Pick a date",..._,min:m!=null&&m.effectiveDate?new Date(m.effectiveDate).toISOString().split("T")[0]:void 0,className:"pl-10"}),s.jsx(wr,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),s.jsx(ft,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(Ke,{control:f.control,name:"process",render:({field:_})=>s.jsxs(He,{children:[s.jsx(it,{className:"text-sm font-medium text-gray-700",children:"Select Process"}),s.jsx(et,{children:s.jsxs(Nt,{onValueChange:_.onChange,value:_.value,children:[s.jsx(wt,{className:"mt-1",children:s.jsx(St,{placeholder:"Select Process"})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"application",children:"Application"}),s.jsx(Ae,{value:"pto",children:"PTO"}),s.jsx(Ae,{value:"comp-off",children:"Comp-off"})]})]})}),s.jsx(ft,{})]})}),s.jsx(Ke,{control:f.control,name:"subProcesses",render:({field:_})=>{var D,F,O,L,k,P,I;return s.jsxs(He,{children:[s.jsx(it,{className:"text-sm font-medium text-gray-700",children:"Select sub-process"}),s.jsx(et,{children:s.jsxs("div",{className:"space-y-2",children:[f.watch("process")==="application"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"apply-leave",checked:((D=_.value)==null?void 0:D.includes("apply-leave"))||!1,onCheckedChange:M=>{const C=_.value||[];M?_.onChange([...C,"apply-leave"]):_.onChange(C.filter(R=>R!=="apply-leave"))}}),s.jsx(dt,{htmlFor:"apply-leave",className:"text-sm",children:"Apply Leave"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"withdraw-leave",checked:((F=_.value)==null?void 0:F.includes("withdraw-leave"))||!1,onCheckedChange:M=>{const C=_.value||[];M?_.onChange([...C,"withdraw-leave"]):_.onChange(C.filter(R=>R!=="withdraw-leave"))}}),s.jsx(dt,{htmlFor:"withdraw-leave",className:"text-sm",children:"Withdraw Leave"})]})]}),f.watch("process")==="pto"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"apply-pto",checked:((O=_.value)==null?void 0:O.includes("apply-pto"))||!1,onCheckedChange:M=>{const C=_.value||[];M?_.onChange([...C,"apply-pto"]):_.onChange(C.filter(R=>R!=="apply-pto"))}}),s.jsx(dt,{htmlFor:"apply-pto",className:"text-sm",children:"Apply PTO"})]}),f.watch("process")==="comp-off"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"bank-comp-off",checked:((L=_.value)==null?void 0:L.includes("bank-comp-off"))||!1,onCheckedChange:M=>{const C=_.value||[];M?_.onChange([...C,"bank-comp-off"]):_.onChange(C.filter(R=>R!=="bank-comp-off"))}}),s.jsx(dt,{htmlFor:"bank-comp-off",className:"text-sm",children:"Bank Comp-off"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"avail-comp-off",checked:((k=_.value)==null?void 0:k.includes("avail-comp-off"))||!1,onCheckedChange:M=>{const C=_.value||[];M?_.onChange([...C,"avail-comp-off"]):_.onChange(C.filter(R=>R!=="avail-comp-off"))}}),s.jsx(dt,{htmlFor:"avail-comp-off",className:"text-sm",children:"Avail Comp-off"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"transfer-comp-off",checked:((P=_.value)==null?void 0:P.includes("transfer-comp-off"))||!1,onCheckedChange:M=>{const C=_.value||[];M?_.onChange([...C,"transfer-comp-off"]):_.onChange(C.filter(R=>R!=="transfer-comp-off"))}}),s.jsx(dt,{htmlFor:"transfer-comp-off",className:"text-sm",children:"Transfer to Leaves"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:"encash-comp-off",checked:((I=_.value)==null?void 0:I.includes("encash-comp-off"))||!1,onCheckedChange:M=>{const C=_.value||[];M?_.onChange([...C,"encash-comp-off"]):_.onChange(C.filter(R=>R!=="encash-comp-off"))}}),s.jsx(dt,{htmlFor:"encash-comp-off",className:"text-sm",children:"En-Cash Comp"})]})]})]})}),s.jsx(ft,{})]})}})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Review Steps"}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-4",children:[s.jsx("div",{className:"bg-white px-4 py-2 rounded border border-gray-200 text-center",children:s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Workflow Name"})}),n.map((_,D)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-3",children:["Review ",D+1]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),s.jsx(ut,{placeholder:"eg. Leave Approval for Factory Employees",value:_.title,onChange:F=>g(_.id,{title:F.target.value}),className:"text-sm"})]}),s.jsx("div",{className:"text-xs text-gray-400 mb-3",children:_.roleIds.length===0?"No roles assigned":`${_.roleIds.length} role(s) assigned`}),s.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>y(D),className:"w-full text-teal-600 border-teal-600 hover:bg-teal-50 mb-3",children:"Assign Roles"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{id:`auto-approval-${_.id}`,checked:_.autoApproval,onCheckedChange:F=>g(_.id,{autoApproval:!!F})}),s.jsx(dt,{htmlFor:`auto-approval-${_.id}`,className:"text-xs",children:D===n.length-1?"Enable auto-approval if all conditions are met":"Forward to the next review"})]}),_.autoApproval&&s.jsxs("div",{className:"ml-6 space-y-2",children:[s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Auto-approve after:"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ut,{type:"number",min:"0",placeholder:"0",value:_.days||"",onChange:F=>g(_.id,{days:parseInt(F.target.value)||0}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs text-gray-500",children:"days"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ut,{type:"number",min:"0",max:"23",placeholder:"0",value:_.hours||"",onChange:F=>g(_.id,{hours:parseInt(F.target.value)||0}),className:"w-16 h-8 text-xs"}),s.jsx("span",{className:"text-xs text-gray-500",children:"hours"})]})]})]})]})]},_.id))]},"workflow-flow-updated"),s.jsx("div",{className:"flex justify-center",children:s.jsxs(ee,{type:"button",variant:"outline",onClick:b,className:"text-teal-600 border-teal-600 hover:bg-teal-50 border-dashed",children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Add Review Step"]})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Discard"}),s.jsx(ee,{type:"submit",disabled:x.isPending||p.isPending,className:"bg-teal-600 hover:bg-teal-700",children:u?p.isPending?"Updating...":"Update Workflow":x.isPending?"Creating...":"Create Workflow"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx(Ne,{children:s.jsxs(_e,{className:"p-8 text-center",children:[s.jsx(uo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflows created yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first workflow to manage approval processes"}),s.jsxs(ee,{onClick:()=>r(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Create Workflow"]})]})}):h.map(_=>s.jsx(Ne,{children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:_.name}),s.jsx("p",{className:"text-sm text-gray-600",children:_.description}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Process: ",_.process," | Sub-process: ",_.subProcess]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($t,{variant:_.isActive?"default":"secondary",children:_.isActive?"Active":"Inactive"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>N(_),className:"text-blue-600 hover:text-blue-700",children:s.jsx(uo,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>E(_.id),className:"text-red-600 hover:text-red-700",disabled:v.isPending,children:s.jsx(Ea,{className:"h-4 w-4"})})]})]})]})})},_.id))}),s.jsx(aPe,{open:i,onOpenChange:o,onAssign:w,selectedRoleIds:l!==null?((S=n[l])==null?void 0:S.roleIds)||[]:[]})]})})}function aPe({open:e,onOpenChange:t,onAssign:r,selectedRoleIds:n}){const[a,i]=T.useState(n),[o,l]=T.useState("");T.useEffect(()=>{console.log("[AssignRolesDialog] selectedRoleIds prop changed:",n),console.log("[AssignRolesDialog] typeof selectedRoleIds:",typeof n),console.log("[AssignRolesDialog] Array.isArray(selectedRoleIds):",Array.isArray(n)),i(n||[])},[n]),T.useEffect(()=>{e&&(console.log("[AssignRolesDialog] Dialog opened, setting tempSelectedRoles to:",n),i(n||[]))},[e,n]);const{data:c=[]}=Le({queryKey:["/api/roles"]});console.log("[AssignRolesDialog] Available roles from API:",c),console.log("[AssignRolesDialog] Current tempSelectedRoles:",a);const u=c.filter(h=>h.name.toLowerCase().includes(o.toLowerCase())),d=()=>{r(a),t(!1)},f=h=>{i(m=>m.includes(h)?m.filter(x=>x!==h):[...m,h])};return s.jsx(Xn,{open:e,onOpenChange:t,children:s.jsxs(Qn,{className:"max-w-md",children:[s.jsx(Zn,{children:s.jsx(Jn,{children:"Assign Roles"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(ut,{placeholder:"Search roles...",value:o,onChange:h=>l(h.target.value),className:"pl-10"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:u.map(h=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded",children:[s.jsx(Tt,{checked:a.includes(h.id),onCheckedChange:()=>f(h.id)}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"font-medium text-sm",children:h.name})})]},h.id))}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(ee,{onClick:d,children:["Assign (",a.length,")"]})]})]})]})})}function sPe(){return s.jsx(fr,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Role Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage roles and permissions for your organization."})]}),s.jsx(p6,{onNext:()=>{},onPrevious:()=>{}})]})})}function iPe(){return s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsx(F6,{onNext:()=>{},onPrevious:()=>{},isLast:!1,isLoading:!1})})})}function oPe(){return s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsx(L6,{onNext:()=>{},onPrevious:()=>{},isLast:!1,isLoading:!1})})})}function lPe(){return s.jsx(fr,{children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Leave Types Configuration"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage leave types, variants, and employee assignments for your organization."})]}),s.jsx(m6,{onNext:()=>{},onPrevious:()=>{}})]})})}const cPe=e=>({heart:jy,smile:t0,umbrella:Sy,baby:by,users:un,user:r0,calendar:wr,stethoscope:Ny})[e]||wr,Ab=({children:e})=>{const t=[{id:1,name:"Effective Date",status:"completed"},{id:2,name:"Leave Types",status:"current"},{id:3,name:"Comp off",status:"upcoming"},{id:4,name:"PTO",status:"upcoming"},{id:5,name:"Import Leave Data",status:"upcoming"},{id:6,name:"Roles",status:"upcoming"},{id:7,name:"Workflow",status:"upcoming"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[s.jsxs("div",{className:"w-80 bg-white shadow-sm border-r border-gray-200 flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"E"})}),s.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"EziiLeave"})]})}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Setup"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Configure your leave management system"})]}),s.jsx("div",{className:"space-y-4",children:t.map((r,n)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${r.status==="completed"?"bg-green-100 text-green-600":r.status==="current"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:r.status==="completed"?"✓":r.id}),s.jsx("span",{className:`text-sm font-medium ${r.status==="current"?"text-gray-900":"text-gray-500"}`,children:r.name})]},r.id))})]})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:e})]})};function uPe(){const[,e]=sR("/leave-types/:leaveTypeName"),[t]=ju(),[r,n]=T.useState(!1),[a,i]=T.useState(null),{toast:o}=Lr(),l=(e==null?void 0:e.leaveTypeName)||"",c=decodeURIComponent(l),u=t.includes("?setup=true"),{data:d=[],isLoading:f}=Le({queryKey:["/api/leave-variants"]}),{data:h=[]}=Le({queryKey:["/api/leave-types"]}),m=h.find(N=>N.name===c),x=d.filter(N=>N.leaveTypeName===c),p=It({mutationFn:async N=>await yt("DELETE",`/api/leave-variants/${N}`),onSuccess:()=>{Ye.invalidateQueries({queryKey:["/api/leave-variants"]}),o({title:"Success",description:"Variant deleted successfully."})},onError:N=>{console.error("Delete variant error:",N),o({title:"Error",description:"Failed to delete variant. Please try again.",variant:"destructive"})}}),v=()=>{i(null),n(!0)},b=N=>{i(N),n(!0)},g=N=>{confirm("Are you sure you want to delete this variant?")&&p.mutate(N)},w=()=>s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading..."})}),y=()=>s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg text-red-600",children:"Leave type not found"})});if(f)return u?s.jsx(Ab,{children:s.jsx(w,{})}):s.jsx(fr,{children:s.jsx(w,{})});if(!m)return u?s.jsx(Ab,{children:s.jsx(y,{})}):s.jsx(fr,{children:s.jsx(y,{})});const j=()=>s.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ee,{variant:"outline",onClick:()=>window.history.back(),className:"p-2",children:s.jsx(wy,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${m.color}20`},children:(()=>{const N=cPe(m.icon);return s.jsx(N,{className:"w-6 h-6",style:{color:m.color}})})()}),s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:c})]})]}),u&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{variant:"outline",children:"Previous"}),s.jsx(ee,{children:"Next"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Variants"}),x.length===0?s.jsxs(Ne,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-gray-500 mb-4",children:"No variants created for this leave type"}),s.jsxs(ee,{onClick:v,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create Leave Variant"]})]}):s.jsxs("div",{className:"space-y-4",children:[x.map(N=>{var E;return s.jsx(Ne,{className:"border border-gray-200",children:s.jsx(_e,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:N.leaveVariantName}),s.jsxs("p",{className:"text-sm text-gray-500",children:[N.paidDaysInYear," days · Applied to ",((E=N.applicableGenders)==null?void 0:E.join(", "))||"All"," Employees"]}),N.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.description})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>g(N.id),disabled:p.isPending,className:"text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(Ea,{className:"w-4 h-4"}),"Delete"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>b(N),className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[s.jsx(Nu,{className:"w-4 h-4"}),"Edit"]})]})]})})},N.id)}),s.jsxs(ee,{variant:"outline",onClick:v,className:"w-full border-dashed border-2 h-16 text-green-600 border-green-300 hover:bg-green-50",children:[s.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Create Leave Variant"]})]})]}),r&&s.jsx(M_,{variant:a,leaveType:m,onClose:()=>{n(!1),i(null)}})]});return u?s.jsx(Ab,{children:s.jsx(j,{})}):s.jsx(fr,{children:s.jsx(j,{})})}const Ll=T.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:tt("w-full caption-bottom text-sm",e),...t})}));Ll.displayName="Table";const $l=T.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:tt("[&_tr]:border-b",e),...t}));$l.displayName="TableHeader";const Bl=T.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:tt("[&_tr:last-child]:border-0",e),...t}));Bl.displayName="TableBody";const dPe=T.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:tt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));dPe.displayName="TableFooter";const Qr=T.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:tt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Qr.displayName="TableRow";const rt=T.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:tt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));rt.displayName="TableHead";const Ze=T.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:tt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ze.displayName="TableCell";const fPe=T.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:tt("mt-4 text-sm text-muted-foreground",e),...t}));fPe.displayName="TableCaption";function S4(){const t=P2().reportType||"dashboard",r=Jy(),{employees:n,loading:a,error:i}=Mu(),o=O=>{if(!O)return"Unknown Employee";const L=n.find(k=>{var P;return((P=k.user_id)==null?void 0:P.toString())===O||k.user_id===parseInt(O,10)});if(L&&L.user_name)return L.user_name;if(L&&(L.first_name||L.last_name)){const k=`${L.first_name||""} ${L.last_name||""}`.trim();if(k)return k}return`Employee ${O}`},l=O=>{switch(O){case"balances":return"balance-report";case"leave-availed":return"leave-availed-report";case"withdrawal-rejection":return"withdrawal-rejection-report";case"collaborative-leave":return"collaborative-leave-report";default:return"balance-report"}},[c,u]=T.useState(l(t)),[d,f]=T.useState({from:new Date(new Date().getFullYear(),0,1),to:new Date}),[h,m]=T.useState("all"),[x,p]=T.useState("all"),[v,b]=T.useState("all"),[g,w]=T.useState("");T.useEffect(()=>{u(l(t))},[t]);const y=localStorage.getItem("currentView")||"admin",{data:j=[]}=Le({queryKey:["/api/leave-requests"],enabled:y==="admin"}),{data:N=[]}=Le({queryKey:["/api/users"]}),{data:E=[]}=Le({queryKey:["/api/leave-types"]});Le({queryKey:["/api/employee-leave-balances"]}),Le({queryKey:["/api/leave-variants"]}),Le({queryKey:["/api/employee-assignments"]});const{data:S=[]}=Le({queryKey:["/api/collaborative-tasks"],enabled:y==="admin"&&c==="collaborative-leave-report"}),_=()=>{let O=j||[],L=N||[];if(r.isReportingManager&&r.reportees.length>0){const k=r.reportees.map(P=>P.user_id.toString());O=O.filter(P=>{var I;return k.includes((I=P.userId)==null?void 0:I.toString())}),L=L.filter(P=>{var I;return k.includes((I=P.id)==null?void 0:I.toString())}),console.log(`[AdminReports] Filtered to ${O.length} requests and ${L.length} employees for reporting manager`)}else console.log(`[AdminReports] Showing all ${O.length} requests and ${L.length} employees`);return{filteredRequests:O,filteredEmployees:L}},D=()=>{const{filteredRequests:O}=_(),L=O,k=L.length,P=L.filter(R=>R.status==="approved").length,I=L.filter(R=>R.status==="pending").length,M=L.filter(R=>R.status==="rejected").length,C=L.filter(R=>R.status==="approved").reduce((R,z)=>R+(parseFloat(z.workingDays)||0),0);return{totalRequests:k,approvedRequests:P,pendingRequests:I,rejectedRequests:M,totalDaysTaken:C}},F=()=>{D();const{filteredRequests:O}=_();switch(c){case"leave-availed-report":return s.jsxs(Ne,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Leave Availed Report"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed report of all approved leave applications with comprehensive employee and leave details"})]}),s.jsxs(_e,{className:"p-0",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ll,{children:[s.jsx($l,{children:s.jsxs(Qr,{className:"bg-gray-50",children:[s.jsx(rt,{className:"font-semibold",children:"Employee Number"}),s.jsx(rt,{className:"font-semibold",children:"Employee Name"}),s.jsx(rt,{className:"font-semibold",children:"Department"}),s.jsx(rt,{className:"font-semibold",children:"Designation"}),s.jsx(rt,{className:"font-semibold",children:"Application ID"}),s.jsx(rt,{className:"font-semibold",children:"From Date"}),s.jsx(rt,{className:"font-semibold",children:"From Date: Is Half Day"}),s.jsx(rt,{className:"font-semibold",children:"To Date"}),s.jsx(rt,{className:"font-semibold",children:"To Date: Is Half Day"}),s.jsx(rt,{className:"font-semibold",children:"Total Leave Days"}),s.jsx(rt,{className:"font-semibold",children:"Approved By"}),s.jsx(rt,{className:"font-semibold",children:"Leave Type"})]})}),s.jsx(Bl,{children:(()=>{const P=O.filter(I=>I.status==="approved");return P.length===0?s.jsx(Qr,{children:s.jsx(Ze,{colSpan:12,className:"py-8 px-4 text-center text-muted-foreground",children:"No approved leave requests found for the selected period"})}):P.map((I,M)=>{const C=n.find(G=>{var re;return((re=G.user_id)==null?void 0:re.toString())===I.userId||G.user_id===parseInt(I.userId,10)}),R=(C==null?void 0:C.employee_number)||I.userId,z=o(I.userId),J=(C==null?void 0:C.department)||"N/A",U=(C==null?void 0:C.designation)||"N/A",q=I.startDate?at(new Date(I.startDate),"dd-MMM-yyyy"):"N/A",Y=I.endDate?at(new Date(I.endDate),"dd-MMM-yyyy"):"N/A",Q=parseFloat(I.workingDays)||0,Z=I.fromHalfDay||(Q%1!==0?"Yes":"No"),ue=I.toHalfDay||(Q%1!==0&&I.startDate===I.endDate?"Yes":"No"),he=I.approvedByName||I.approvedBy||"System Auto-Approval";return s.jsxs(Qr,{className:M%2===0?"bg-white":"bg-gray-50",children:[s.jsx(Ze,{className:"font-medium",children:R}),s.jsx(Ze,{children:z}),s.jsx(Ze,{children:J}),s.jsx(Ze,{children:U}),s.jsx(Ze,{children:s.jsx($t,{variant:"outline",className:"font-mono text-xs",children:I.id})}),s.jsx(Ze,{children:q}),s.jsx(Ze,{className:"text-center",children:s.jsx($t,{variant:Z==="Yes"?"secondary":"outline",className:"text-xs",children:Z})}),s.jsx(Ze,{children:Y}),s.jsx(Ze,{className:"text-center",children:s.jsx($t,{variant:ue==="Yes"?"secondary":"outline",className:"text-xs",children:ue})}),s.jsx(Ze,{className:"text-center",children:s.jsxs($t,{variant:"outline",className:"font-semibold",children:[Q," days"]})}),s.jsx(Ze,{children:he}),s.jsx(Ze,{children:s.jsx($t,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:I.leaveTypeName||"Unknown Leave Type"})})]},`leave-${I.id}-${M}`)})})()})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Total Applications"}),s.jsx("div",{className:"text-2xl font-bold text-blue-900",children:O.filter(P=>P.status==="approved").length})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Total Days Availed"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:O.filter(P=>P.status==="approved").reduce((P,I)=>P+(parseFloat(I.workingDays)||0),0).toFixed(1)})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Unique Employees"}),s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:new Set(O.filter(P=>P.status==="approved").map(P=>P.userId)).size})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Avg Days per Application"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:(()=>{const P=O.filter(M=>M.status==="approved"),I=P.reduce((M,C)=>M+(parseFloat(C.workingDays)||0),0);return P.length>0?(I/P.length).toFixed(1):"0.0"})()})]})]})]})]});case"withdrawal-rejection-report":return s.jsxs(Ne,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Withdrawal Rejection Report"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive report of all withdrawn and rejected leave applications with balance impact analysis"})]}),s.jsxs(_e,{className:"p-0",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ll,{children:[s.jsx($l,{children:s.jsxs(Qr,{className:"bg-gray-50",children:[s.jsx(rt,{className:"font-semibold",children:"Employee Number"}),s.jsx(rt,{className:"font-semibold",children:"Employee Name"}),s.jsx(rt,{className:"font-semibold",children:"Department"}),s.jsx(rt,{className:"font-semibold",children:"Designation"}),s.jsx(rt,{className:"font-semibold",children:"Application ID"}),s.jsx(rt,{className:"font-semibold",children:"Application Date"}),s.jsx(rt,{className:"font-semibold",children:"Leave Period"}),s.jsx(rt,{className:"font-semibold",children:"Total Leave Days"}),s.jsx(rt,{className:"font-semibold",children:"Leave Type"}),s.jsx(rt,{className:"font-semibold",children:"Status Before Action"}),s.jsx(rt,{className:"font-semibold",children:"Balance Before Action"}),s.jsx(rt,{className:"font-semibold",children:"Action"}),s.jsx(rt,{className:"font-semibold",children:"Balance After Action"}),s.jsx(rt,{className:"font-semibold",children:"Action Initiated By"}),s.jsx(rt,{className:"font-semibold",children:"Reason"})]})}),s.jsx(Bl,{children:(()=>{const P=O.filter(I=>I.status==="withdrawn"||I.status==="rejected"||I.status==="withdrawal_pending"||I.status==="withdrawal_approved");return P.length===0?s.jsx(Qr,{children:s.jsx(Ze,{colSpan:15,className:"py-8 px-4 text-center text-muted-foreground",children:"No withdrawn or rejected leave requests found for the selected period"})}):P.map((I,M)=>{const C=n.find(De=>{var Pe;return((Pe=De.user_id)==null?void 0:Pe.toString())===I.userId||De.user_id===parseInt(I.userId,10)}),R=(C==null?void 0:C.employee_number)||I.userId,z=o(I.userId),J=(C==null?void 0:C.department)||"N/A",U=(C==null?void 0:C.designation)||"N/A",q=I.createdAt?at(new Date(I.createdAt),"dd-MMM-yyyy"):"N/A",Y=I.startDate?at(new Date(I.startDate),"dd-MMM-yyyy"):"N/A",Q=I.endDate?at(new Date(I.endDate),"dd-MMM-yyyy"):"N/A",Z=Y===Q?Y:`${Y} to ${Q}`,ue=parseFloat(I.workingDays)||0;let he="pending",G="Unknown",re="System",de=I.rejectionReason||I.withdrawalReason||"No reason provided";switch(I.status){case"rejected":he="pending",G="Rejected",re=I.rejectedBy||I.actionBy||"Admin",de=I.rejectionReason||"No reason provided";break;case"withdrawn":he=I.previousStatus||"pending",G="Withdrawn",re=I.withdrawnBy||z||"Employee",de=I.withdrawalReason||"Employee initiated withdrawal";break;case"withdrawal_pending":he="approved",G="Withdrawal Requested",re=I.withdrawnBy||z||"Employee",de=I.withdrawalReason||"Employee requested withdrawal";break;case"withdrawal_approved":he="approved",G="Withdrawal Approved",re=I.withdrawalApprovedBy||"Admin",de=I.withdrawalReason||"Withdrawal approved by admin";break}let ne="N/A",Ee="N/A";I.status==="rejected"||I.status==="withdrawn"&&he==="pending"?(ne="No impact",Ee="No impact"):I.status==="withdrawn"||I.status==="withdrawal_approved"?(ne=`Reduced by ${ue} days`,Ee=`Restored ${ue} days`):I.status==="withdrawal_pending"&&(ne=`Reduced by ${ue} days`,Ee="Pending restoration");const Ce=De=>{switch(De){case"rejected":return"destructive";case"withdrawn":return"secondary";case"withdrawal_pending":return"outline";case"withdrawal_approved":return"default";default:return"outline"}};return s.jsxs(Qr,{className:M%2===0?"bg-white":"bg-gray-50",children:[s.jsx(Ze,{className:"font-medium",children:R}),s.jsx(Ze,{children:z}),s.jsx(Ze,{children:J}),s.jsx(Ze,{children:U}),s.jsx(Ze,{children:s.jsx($t,{variant:"outline",className:"font-mono text-xs",children:I.id})}),s.jsx(Ze,{children:q}),s.jsx(Ze,{children:Z}),s.jsx(Ze,{className:"text-center",children:s.jsxs($t,{variant:"outline",className:"font-semibold",children:[ue," days"]})}),s.jsx(Ze,{children:s.jsx($t,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:I.leaveTypeName||"Unknown Leave Type"})}),s.jsx(Ze,{children:s.jsx($t,{variant:"outline",className:"capitalize",children:he})}),s.jsx(Ze,{className:"text-sm",children:ne}),s.jsx(Ze,{children:s.jsx($t,{variant:Ce(I.status),className:"capitalize",children:G})}),s.jsx(Ze,{className:"text-sm",children:Ee}),s.jsx(Ze,{children:re}),s.jsx(Ze,{className:"max-w-xs",children:s.jsx("div",{className:"text-sm text-gray-600 truncate",title:de,children:de})})]},`withdraw-reject-${I.id}-${M}`)})})()})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-red-600 font-medium",children:"Total Rejected"}),s.jsx("div",{className:"text-2xl font-bold text-red-900",children:O.filter(P=>P.status==="rejected").length})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"Total Withdrawn"}),s.jsx("div",{className:"text-2xl font-bold text-orange-900",children:O.filter(P=>P.status==="withdrawn"||P.status==="withdrawal_approved").length})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-yellow-600 font-medium",children:"Withdrawal Pending"}),s.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:O.filter(P=>P.status==="withdrawal_pending").length})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Days Affected"}),s.jsx("div",{className:"text-2xl font-bold text-purple-900",children:O.filter(P=>P.status==="rejected"||P.status==="withdrawn"||P.status==="withdrawal_pending"||P.status==="withdrawal_approved").reduce((P,I)=>P+(parseFloat(I.workingDays)||0),0).toFixed(1)})]})]})]})]});case"collaborative-leave-report":const k=(()=>{let P=S;return d!=null&&d.from&&(d!=null&&d.to)&&(P=P.filter(I=>{const M=I.createdAt?new Date(I.createdAt):null;return M&&M>=d.from&&M<=d.to})),v!=="all"&&(P=P.filter(I=>I.status===v)),g.trim()&&(P=P.filter(I=>{var M,C;return((M=I.assigneeName)==null?void 0:M.toLowerCase().includes(g.toLowerCase()))||((C=I.assigneeEmail)==null?void 0:C.toLowerCase().includes(g.toLowerCase()))})),P})();return s.jsxs(Ne,{children:[s.jsxs(ht,{children:[s.jsxs(mt,{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-5 h-5"}),"Collaborative Leave Report"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track all collaborative leave task assignments across the organization with current statuses and performance metrics"})]}),s.jsxs(_e,{className:"p-0",children:[s.jsx("div",{className:"p-6 border-b bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(un,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Tasks"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k.length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gn,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:k.filter(P=>P.status==="done").length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pending"})]}),s.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:k.filter(P=>["pending","accepted"].includes(P.status)).length})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(co,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Rejected"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:k.filter(P=>["rejected","not_done"].includes(P.status)).length})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ll,{children:[s.jsx($l,{children:s.jsxs(Qr,{className:"bg-gray-50",children:[s.jsx(rt,{className:"font-semibold",children:"Task ID"}),s.jsx(rt,{className:"font-semibold",children:"Leave Request ID"}),s.jsx(rt,{className:"font-semibold",children:"Leave Requester"}),s.jsx(rt,{className:"font-semibold",children:"Assignee Name"}),s.jsx(rt,{className:"font-semibold",children:"Assignee Email"}),s.jsx(rt,{className:"font-semibold",children:"Task Description"}),s.jsx(rt,{className:"font-semibold",children:"Support Date"}),s.jsx(rt,{className:"font-semibold",children:"Status"}),s.jsx(rt,{className:"font-semibold",children:"Accepted At"}),s.jsx(rt,{className:"font-semibold",children:"Last Updated"}),s.jsx(rt,{className:"font-semibold",children:"Status Comments"})]})}),s.jsx(Bl,{children:k.length===0?s.jsx(Qr,{children:s.jsx(Ze,{colSpan:11,className:"text-center py-8 text-gray-500",children:"No collaborative leave tasks found for the selected criteria."})}):k.map((P,I)=>{const M=R=>{switch(R){case"done":return s.jsx($t,{className:"bg-green-100 text-green-800 border-green-200",children:"Completed"});case"accepted":return s.jsx($t,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"In Progress"});case"pending":return s.jsx($t,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Pending"});case"rejected":return s.jsx($t,{className:"bg-red-100 text-red-800 border-red-200",children:"Rejected"});case"not_done":return s.jsx($t,{className:"bg-gray-100 text-gray-800 border-gray-200",children:"Not Done"});default:return s.jsx($t,{variant:"outline",children:R})}},C=P.expectedSupportDateFrom&&P.expectedSupportDateTo?`${at(new Date(P.expectedSupportDateFrom),"dd-MMM-yyyy")} to ${at(new Date(P.expectedSupportDateTo),"dd-MMM-yyyy")}`:P.expectedSupportDate?at(new Date(P.expectedSupportDate),"dd-MMM-yyyy"):"Not specified";return s.jsxs(Qr,{className:I%2===0?"bg-white":"bg-gray-50",children:[s.jsx(Ze,{className:"font-medium",children:s.jsx($t,{variant:"outline",className:"font-mono text-xs",children:P.id})}),s.jsx(Ze,{children:s.jsx($t,{variant:"outline",className:"font-mono text-xs",children:P.leaveRequestId})}),s.jsx(Ze,{className:"font-medium",children:P.leaveRequesterName||`User ${P.leaveRequesterId}`||"Unknown"}),s.jsx(Ze,{className:"font-medium",children:P.assigneeName}),s.jsx(Ze,{className:"text-sm text-gray-600",children:P.assigneeEmail}),s.jsx(Ze,{className:"max-w-xs",children:s.jsx("div",{className:"truncate",title:P.taskDescription,children:P.taskDescription})}),s.jsx(Ze,{className:"text-sm",children:C}),s.jsx(Ze,{children:M(P.status)}),s.jsx(Ze,{className:"text-sm",children:P.acceptedAt?at(new Date(P.acceptedAt),"dd-MMM-yyyy HH:mm"):"Not accepted"}),s.jsx(Ze,{className:"text-sm",children:P.lastStatusUpdate?at(new Date(P.lastStatusUpdate),"dd-MMM-yyyy HH:mm"):"No updates"}),s.jsx(Ze,{className:"max-w-xs",children:s.jsx("div",{className:"truncate",title:P.statusComments||"No comments",children:P.statusComments||"No comments"})})]},`task-${P.id}-${I}`)})})]})})]})]});default:return s.jsx("div",{children:"Select a report type to view data."})}};return s.jsx(fr,{children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx(mt,{className:"text-2xl",children:"Admin Reports"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Comprehensive leave management analytics and insights"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(e0,{className:"h-4 w-4 mr-2"}),"Filter"]}),s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),s.jsx(_e,{children:c==="collaborative-leave-report"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Task Status"}),s.jsxs(Nt,{value:v,onValueChange:b,children:[s.jsx(wt,{children:s.jsx(St,{placeholder:"Select status"})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"all",children:"All Statuses"}),s.jsx(Ae,{value:"pending",children:"Pending"}),s.jsx(Ae,{value:"accepted",children:"Accepted"}),s.jsx(Ae,{value:"done",children:"Completed"}),s.jsx(Ae,{value:"rejected",children:"Rejected"}),s.jsx(Ae,{value:"not_done",children:"Not Done"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Assignee Name"}),s.jsx("input",{type:"text",placeholder:"Search by name or email...",value:g,onChange:O=>w(O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[at(d.from,"MMM dd, yyyy")," - ",at(d.to,"MMM dd, yyyy")]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Actions"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(ee,{variant:"outline",size:"sm",onClick:()=>{b("all"),w("")},children:"Clear Filters"})})]})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Department"}),s.jsxs(Nt,{value:h,onValueChange:m,children:[s.jsx(wt,{children:s.jsx(St,{placeholder:"Select department"})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"all",children:"All Departments"}),s.jsx(Ae,{value:"engineering",children:"Engineering"}),s.jsx(Ae,{value:"hr",children:"Human Resources"}),s.jsx(Ae,{value:"sales",children:"Sales"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Leave Type"}),s.jsxs(Nt,{value:x,onValueChange:p,children:[s.jsx(wt,{children:s.jsx(St,{placeholder:"Select leave type"})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"all",children:"All Leave Types"}),E.map(O=>s.jsx(Ae,{value:O.id.toString(),children:O.name},O.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[at(d.from,"MMM dd, yyyy")," - ",at(d.to,"MMM dd, yyyy")]})]})]})})]}),s.jsx("div",{className:"space-y-6",children:F()})]})})})}function hPe(){const t=P2().reportType||"dashboard",{employees:r}=Mu(),n=()=>{const R=localStorage.getItem("user_id")||"2161",z=r.find(J=>{var U;return((U=J.user_id)==null?void 0:U.toString())===R||J.user_id===parseInt(R,10)});if(z&&z.user_name)return z.user_name;if(z&&(z.first_name||z.last_name)){const J=`${z.first_name||""} ${z.last_name||""}`.trim();if(J)return J}return`Employee ${R}`},a=R=>{switch(R){case"dashboard":return"my-leave-summary";case"history":return"my-leave-history";case"balances":return"my-leave-balances";case"withdrawal-history":return"my-withdrawal-history";default:return"my-leave-summary"}},[i,o]=T.useState(a(t)),[l,c]=T.useState({from:new Date(new Date().getFullYear(),0,1),to:new Date}),[u,d]=T.useState("2025"),[f,h]=T.useState("all"),[m,x]=T.useState("");T.useEffect(()=>{o(a(t))},[t]);const p=localStorage.getItem("user_id")||"2161",{data:v=[]}=Le({queryKey:[`/api/leave-requests?userId=${p}`]}),{data:b=[]}=Le({queryKey:[`/api/employee-leave-balances/${p}`]});Le({queryKey:[`/api/leave-balance-transactions/${p}`]});const{data:g=[]}=Le({queryKey:["/api/leave-types"]}),{data:w=[]}=Le({queryKey:["/api/leave-variants"]}),y=()=>{const R=v||[];return{totalRequests:R.length,approvedRequests:R.filter(z=>z.status==="approved").length,pendingRequests:R.filter(z=>z.status==="pending"||z.status==="approval_pending").length,rejectedRequests:R.filter(z=>z.status==="rejected").length,totalDaysTaken:R.reduce((z,J)=>z+(parseFloat(J.workingDays)||parseFloat(J.totalDays)||0),0)}},j=()=>{const R={};return v.forEach(z=>{const J=g.find(q=>q.id===z.leaveTypeId),U=(J==null?void 0:J.name)||"Unknown Leave Type";R[U]||(R[U]={days:0,requests:0}),R[U].days+=parseFloat(z.workingDays)||parseFloat(z.totalDays)||0,R[U].requests+=1}),Object.entries(R).map(([z,J])=>({name:z,...J}))},N=()=>b.map(R=>{const z=w.find(Z=>Z.id===R.leaveVariantId),J=g.find(Z=>Z.id===(z==null?void 0:z.leaveTypeId)),U=(R.entitlement||0)/2,q=(R.usedBalance||0)/2,Y=(R.carryForward||0)/2,Q=(R.currentBalance||0)/2;return{leaveType:(J==null?void 0:J.name)||(z==null?void 0:z.leaveTypeName)||"Unknown",entitlement:U,used:q,carryForward:Y,available:Q,year:R.year||new Date().getFullYear()}}),E=()=>{let R=v||[];return f!=="all"&&(R=R.filter(z=>{const J=g.find(U=>U.id===z.leaveTypeId);return(J==null?void 0:J.name)===f})),m&&(R=R.filter(z=>{var J,U;return((J=z.reason)==null?void 0:J.toLowerCase().includes(m.toLowerCase()))||((U=z.status)==null?void 0:U.toLowerCase().includes(m.toLowerCase()))})),R},S=()=>v.filter(R=>R.status==="withdrawal_pending"||R.status==="withdrawn"),_=y(),D=j(),F=N(),O=E(),L=S();console.log("=== EMPLOYEE REPORTS DEBUG ==="),console.log("URL reportType:",t),console.log("selectedReport:",i),console.log("localStorage user_id:",localStorage.getItem("user_id")),console.log("currentUserId variable:",p),console.log("myLeaveRequests length:",v.length),console.log("myLeaveBalances length:",b.length),console.log("myStats:",_),console.log("================================");const k=()=>{const R={employeeName:n(),employeeId:p,reportType:i,dateRange:l,data:i==="my-leave-balances"?F:i==="my-withdrawal-history"?L:O},z=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),J=URL.createObjectURL(z),U=document.createElement("a");U.href=J,U.download=`${i}-${n()}-${at(new Date,"yyyy-MM-dd")}.json`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(J)},P=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Ne,{children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(mt,{className:"text-sm font-medium",children:"Total Requests"}),s.jsx(Vn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(_e,{children:[s.jsx("div",{className:"text-2xl font-bold",children:_.totalRequests}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(Ne,{children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(mt,{className:"text-sm font-medium",children:"Approved"}),s.jsx(gn,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(_e,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.approvedRequests}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Successful requests"})]})]}),s.jsxs(Ne,{children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(mt,{className:"text-sm font-medium",children:"Pending"}),s.jsx(yn,{className:"h-4 w-4 text-yellow-600"})]}),s.jsxs(_e,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:_.pendingRequests}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),s.jsxs(Ne,{children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(mt,{className:"text-sm font-medium",children:"Days Taken"}),s.jsx(wr,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(_e,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.totalDaysTaken.toFixed(1)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total leave days"})]})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx(qA,{className:"h-5 w-5"}),s.jsx("span",{children:"My Leave Usage by Type"})]})}),s.jsx(_e,{children:s.jsx("div",{className:"space-y-4",children:D.map((R,z)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:R.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[R.requests," requests"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-lg",children:R.days.toFixed(1)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"days"})]})]},z))})})]})]}),I=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"My Leave History"})}),s.jsxs(_e,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ut,{placeholder:"Search by reason or status...",value:m,onChange:R=>x(R.target.value)})}),s.jsxs(Nt,{value:f,onValueChange:h,children:[s.jsx(wt,{className:"w-48",children:s.jsx(St,{placeholder:"Filter by leave type"})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"all",children:"All Leave Types"}),g.map(R=>s.jsx(Ae,{value:R.name,children:R.name},R.id))]})]}),s.jsxs(Nt,{value:u,onValueChange:d,children:[s.jsx(wt,{className:"w-32",children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"2025",children:"2025"}),s.jsx(Ae,{value:"2024",children:"2024"})]})]}),s.jsxs(ee,{onClick:k,variant:"outline",children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Export"]})]}),s.jsxs(Ll,{children:[s.jsx($l,{children:s.jsxs(Qr,{children:[s.jsx(rt,{children:"Date Applied"}),s.jsx(rt,{children:"Leave Type"}),s.jsx(rt,{children:"Duration"}),s.jsx(rt,{children:"From - To"}),s.jsx(rt,{children:"Working Days"}),s.jsx(rt,{children:"Status"}),s.jsx(rt,{children:"Reason"})]})}),s.jsx(Bl,{children:O.map(R=>{const z=g.find(J=>J.id===R.leaveTypeId);return s.jsxs(Qr,{children:[s.jsx(Ze,{children:at(new Date(R.appliedDate||R.createdAt),"MMM dd, yyyy")}),s.jsx(Ze,{children:(z==null?void 0:z.name)||"Unknown"}),s.jsxs(Ze,{children:[R.totalDays," days"]}),s.jsxs(Ze,{children:[at(new Date(R.startDate),"MMM dd")," - ",at(new Date(R.endDate),"MMM dd, yyyy")]}),s.jsxs(Ze,{children:[R.workingDays," days"]}),s.jsx(Ze,{children:s.jsx($t,{variant:R.status==="approved"?"default":R.status==="rejected"?"destructive":"secondary",children:R.status})}),s.jsx(Ze,{className:"max-w-xs truncate",children:R.reason||"No reason provided"})]},R.id)})})]})]})]})}),M=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx(wx,{className:"h-5 w-5"}),s.jsx("span",{children:"My Leave Balances"})]})}),s.jsxs(_e,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("p",{className:"text-muted-foreground",children:["Employee: ",s.jsx("span",{className:"font-medium",children:n()})," | Year: ",s.jsx("span",{className:"font-medium",children:u})]}),s.jsxs(ee,{onClick:k,variant:"outline",children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Export"]})]}),s.jsxs(Ll,{children:[s.jsx($l,{children:s.jsxs(Qr,{children:[s.jsx(rt,{children:"Leave Type"}),s.jsx(rt,{children:"Entitlement"}),s.jsx(rt,{children:"Used"}),s.jsx(rt,{children:"Carry Forward"}),s.jsx(rt,{children:"Available"}),s.jsx(rt,{children:"Utilization %"})]})}),s.jsx(Bl,{children:F.map((R,z)=>{const J=R.entitlement>0?R.used/R.entitlement*100:0;return s.jsxs(Qr,{children:[s.jsx(Ze,{className:"font-medium",children:R.leaveType}),s.jsx(Ze,{children:R.entitlement.toFixed(1)}),s.jsx(Ze,{children:R.used.toFixed(1)}),s.jsx(Ze,{children:R.carryForward.toFixed(1)}),s.jsx(Ze,{className:"font-medium",children:R.available.toFixed(1)}),s.jsx(Ze,{children:s.jsxs("span",{className:`font-medium ${J>80?"text-red-600":J>60?"text-yellow-600":"text-green-600"}`,children:[J.toFixed(1),"%"]})})]},z)})})]})]})]})}),C=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"My Withdrawal History"})}),s.jsxs(_e,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("p",{className:"text-muted-foreground",children:["Employee: ",s.jsx("span",{className:"font-medium",children:n()})]}),s.jsxs(ee,{onClick:k,variant:"outline",children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Export"]})]}),s.jsxs(Ll,{children:[s.jsx($l,{children:s.jsxs(Qr,{children:[s.jsx(rt,{children:"Original Request"}),s.jsx(rt,{children:"Leave Type"}),s.jsx(rt,{children:"Duration"}),s.jsx(rt,{children:"Withdrawal Date"}),s.jsx(rt,{children:"Withdrawal Status"}),s.jsx(rt,{children:"Withdrawal Reason"})]})}),s.jsxs(Bl,{children:[L.map(R=>{var J;const z=g.find(U=>U.id===R.leaveTypeId);return s.jsxs(Qr,{children:[s.jsxs(Ze,{children:[at(new Date(R.startDate),"MMM dd")," - ",at(new Date(R.endDate),"MMM dd, yyyy")]}),s.jsx(Ze,{children:(z==null?void 0:z.name)||"Unknown"}),s.jsxs(Ze,{children:[R.workingDays," days"]}),s.jsx(Ze,{children:R.withdrawalDate?at(new Date(R.withdrawalDate),"MMM dd, yyyy"):"Pending"}),s.jsx(Ze,{children:s.jsx($t,{variant:R.status==="withdrawn"?"default":R.status==="withdrawal_pending"?"secondary":"destructive",children:(J=R.status)==null?void 0:J.replace("_"," ")})}),s.jsx(Ze,{className:"max-w-xs truncate",children:R.withdrawalReason||"No reason provided"})]},R.id)}),L.length===0&&s.jsx(Qr,{children:s.jsx(Ze,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No withdrawal requests found"})})]})]})]})]})});return s.jsx(fr,{children:s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Employee Reports"}),s.jsx("p",{className:"text-muted-foreground",children:"View your personal leave data and history"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(ee,{variant:i==="my-leave-summary"?"default":"outline",onClick:()=>o("my-leave-summary"),children:[s.jsx(wx,{className:"h-4 w-4 mr-2"}),"My Dashboard"]}),s.jsxs(ee,{variant:i==="my-leave-history"?"default":"outline",onClick:()=>o("my-leave-history"),children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"My Leave History"]}),s.jsxs(ee,{variant:i==="my-leave-balances"?"default":"outline",onClick:()=>o("my-leave-balances"),children:[s.jsx(qA,{className:"h-4 w-4 mr-2"}),"My Leave Balances"]}),s.jsxs(ee,{variant:i==="my-withdrawal-history"?"default":"outline",onClick:()=>o("my-withdrawal-history"),children:[s.jsx(co,{className:"h-4 w-4 mr-2"}),"My Withdrawal History"]})]})}),i==="my-leave-summary"&&P(),i==="my-leave-history"&&I(),i==="my-leave-balances"&&M(),i==="my-withdrawal-history"&&C()]})})}function mPe(){const[e,t]=T.useState("2025"),[r,n]=T.useState(""),[a,i]=T.useState("all"),[o,l]=T.useState("all"),[c,u]=T.useState("all"),d=localStorage.getItem("org_id")||"38";console.log("[HR Report] Current org_id:",d);const{toast:f}=Lr(),h=ac(),{employees:m}=Mu(),x=It({mutationFn:async()=>(console.log("[ProRata] Triggering automatic pro-rata system"),console.log("[ProRata] External employee data available:",!!m,(m==null?void 0:m.length)||0),await yt("/api/recalculate-prorata-balances",{method:"POST",body:JSON.stringify({externalEmployeeData:m||[]})})),onSuccess:k=>{console.log("[ProRata] Success:",k),f({title:"Pro-rata calculation complete",description:`Updated leave balances for ${k.processedEmployees} employees using actual joining dates`}),h.invalidateQueries({queryKey:["/api/employee-leave-balances/all"]}),h.invalidateQueries({queryKey:["/api/leave-balance-transactions/all"]})},onError:k=>{console.error("[ProRata] Error:",k),f({title:"Pro-rata calculation failed",description:k.message,variant:"destructive"})}});se.useEffect(()=>{if(console.log("[ProRata] Automatic pro-rata system check:",{hasExternalData:!!m,externalCount:(m==null?void 0:m.length)||0,isPending:x.isPending,orgId:d}),!x.isPending){const k=`prorata_triggered_${d}`;sessionStorage.getItem(k)?console.log("[ProRata] Already triggered for this session, skipping"):(console.log("[ProRata] Triggering automatic pro-rata system (creates assignments + pro-rata calculations)"),m&&m.length>0?console.log("[ProRata] Using external employee data for accurate joining dates"):console.log("[ProRata] External API not available, using fallback system for user 14674"),sessionStorage.setItem(k,"true"),x.mutate())}},[m,d,x.isPending]);const{data:p=[]}=Le({queryKey:["/api/leave-types"]}),{data:v=[]}=Le({queryKey:["/api/leave-variants"]}),{data:b=[]}=Le({queryKey:["/api/employee-assignments"]}),{data:g=[]}=Le({queryKey:["/api/employee-leave-balances/all"],queryFn:()=>fetch(`/api/employee-leave-balances/all?year=${e}`,{headers:{"X-Org-Id":d}}).then(k=>k.json()),staleTime:0,refetchOnMount:!0}),{data:w=[]}=Le({queryKey:["/api/leave-balance-transactions/all"],queryFn:()=>fetch("/api/leave-balance-transactions/all",{headers:{"X-Org-Id":d}}).then(k=>k.json()),staleTime:0,refetchOnMount:!0});console.log("[HR Report] Debug data:"),console.log("All balances:",(g==null?void 0:g.length)||0,g),console.log("All transactions:",(w==null?void 0:w.length)||0,w),console.log("All assignments:",(b==null?void 0:b.length)||0,b),console.log("Leave variants:",(v==null?void 0:v.length)||0),console.log("External employees:",(m==null?void 0:m.length)||0,m),console.log("[ProRata] Recalculation status:",{hasTriggered:sessionStorage.getItem(`prorata_triggered_${d}`),isPending:x.isPending,isSuccess:x.isSuccess,isError:x.isError,error:x.error});const y=m==null?void 0:m.find(k=>k.employee_number==="DB061");console.log("[HR Report] DB061 Employee found:",y);const j=g==null?void 0:g.filter(k=>k.userId==="2162");console.log("[HR Report] User 2162 balances:",j);const N=b.map(k=>k.userId),E=g.map(k=>k.userId),S=[...new Set([...N,...E])];console.log("[HR Report] Employee IDs from assignments:",N),console.log("[HR Report] Employee IDs from balances:",E),console.log("[HR Report] Combined employee IDs:",S);const _=S.flatMap(k=>{m==null||m.find(z=>{var J,U,q;return((J=z.user_id)==null?void 0:J.toString())===k||((U=z.id)==null?void 0:U.toString())===k||((q=z.employee_number)==null?void 0:q.toString())===k});const I=b.filter(z=>z.userId===k).map(z=>z.leaveVariantId),M=g.filter(z=>z.userId===k),C=w.filter(z=>z.userId===k);return(I.length>0?I:M.map(z=>z.leaveVariantId)).map(z=>{const J=v.find(H=>H.id===z),U=p.find(H=>H.id===(J==null?void 0:J.leaveTypeId)),q=M.find(H=>H.leaveVariantId===z),Y=C.filter(H=>H.leaveVariantId===z),Q=Y.filter(H=>{var te;return H.transactionType==="grant"&&((te=H.description)==null?void 0:te.toLowerCase().includes("opening balance imported from excel"))}).sort((H,te)=>new Date(te.createdAt).getTime()-new Date(H.createdAt).getTime()),Z=Q.length>0?parseFloat(Q[0].amount||"0"):0,ue=J||(v==null?void 0:v.find(H=>H.id===(q==null?void 0:q.leaveVariantId))),he=p==null?void 0:p.find(H=>H.id===(ue==null?void 0:ue.leaveTypeId)),G=(he==null?void 0:he.grantLeaves)==="after_earning"||(q==null?void 0:q.grantLeaves)==="after_earning",re=q?parseFloat(q.currentBalance||"0"):0,de=q?parseFloat(q.totalEntitlement||"0"):0;let ne=0;if(G){const H=Y.filter(te=>{var me,Re,Ie,ve,je,pt;return te.transactionType==="grant"&&(((me=te.description)==null?void 0:me.toLowerCase().includes("after earning calculation"))||((Re=te.description)==null?void 0:Re.toLowerCase().includes("months ×"))||((Ie=te.description)==null?void 0:Ie.toLowerCase().includes("automatic balance calculation"))||((ve=te.description)==null?void 0:ve.toLowerCase().includes("balance computation"))||((je=te.description)==null?void 0:je.toLowerCase().includes("first login auto-calculation"))||((pt=te.description)==null?void 0:pt.toLowerCase().includes("after earning")))});H.length>0?ne=H.reduce((te,me)=>te+parseFloat(me.amount||"0"),0):ne=Math.max(0,re-Z)}else{const H=m==null?void 0:m.find(Re=>{var Ie,ve,je;return((Ie=Re.user_id)==null?void 0:Ie.toString())===k||((ve=Re.id)==null?void 0:ve.toString())===k||((je=Re.employee_number)==null?void 0:je.toString())===k}),te=H==null?void 0:H.date_of_joining,me=new Date().getFullYear();if(te)if(new Date(te).getFullYear()<me){const Ie=(ue==null?void 0:ue.paidDaysInYear)||0,ve=Ie*2;de>0&&de<=ve?ne=de:ne=Ie}else{const Ie=(ue==null?void 0:ue.paidDaysInYear)||0,ve=new Date(te),je=new Date(me,11,31),pt=Math.max(0,(je.getFullYear()-ve.getFullYear())*12+(je.getMonth()-ve.getMonth())+1);ne=Math.round(Ie/12*pt*2)/2,k==="14674"&&console.log(`[HR Report Pro-rata Debug] Jainish Shah User ${k} Variant ${z} (${(he==null?void 0:he.name)||"Unknown"}):`,{joiningDate:te,joinDate:ve.toISOString(),currentYear:me,endOfYear:je.toISOString(),remainingMonths:pt,variantConfiguredAmount:Ie,monthlyRate:Ie/12,calculatedEligibility:ne})}else ne=re;if(k==="14674"||k==="58976"){const Re=(ue==null?void 0:ue.paidDaysInYear)||0,Ie=Re*2,ve=H!=null&&H.date_of_joining?new Date(H.date_of_joining).getFullYear():null;console.log(`[HR Report Eligibility Debug] User ${k} (${(he==null?void 0:he.name)||"Unknown"}) Variant ${z}:`,{balanceData:q,currentBalanceRaw:q==null?void 0:q.currentBalance,currentBalanceInDays:re,openingBalance:Z,calculatedEligibility:ne,totalEntitlementInDays:de,variantConfiguredAmount:Re,maxReasonableAmount:Ie,usedTotalEntitlement:de>0&&de<=Ie,isAfterEarning:G,joiningDate:H==null?void 0:H.date_of_joining,joinYear:ve,joinedBeforeCurrentYear:ve<2025})}}const Ee=Z>0?ne+Z:ne;k==="58976"&&console.log(`[HR Report Ananth BS Debug] User 58976 Variant ${z}:`,{leaveTypeName:he==null?void 0:he.name,eligibilityCalculated:ne,openingBalanceFromTransactions:Z,totalEligibilityFinal:Ee,balanceData:q,currentBalanceInDays:re,totalEntitlementInDays:de,variantTransactions:(Y==null?void 0:Y.length)||0,isAfterEarning:G,employee:m==null?void 0:m.find(H=>{var te,me,Re;return((te=H.user_id)==null?void 0:te.toString())===k||((me=H.id)==null?void 0:me.toString())===k||((Re=H.employee_number)==null?void 0:Re.toString())===k})});const Ce=(ue==null?void 0:ue.leaveBalanceDeductionBefore)===!0,De=m==null?void 0:m.find(H=>{var te,me,Re;return((te=H.user_id)==null?void 0:te.toString())===k||((me=H.id)==null?void 0:me.toString())===k||((Re=H.employee_number)==null?void 0:Re.toString())===k}),Pe=k==="2161"||k==="14674"||k==="2176"||k==="2162"||(De==null?void 0:De.employee_number)==="DB061";((De==null?void 0:De.employee_number)==="DB061"||k==="2162"||k==="2176")&&(console.log(`[HR Report DB061 Debug] Found user ${k} with employee_number: ${De==null?void 0:De.employee_number}`),console.log(`[HR Report DB061 Debug] Variant transactions for user ${k}:`,Y),console.log(`[HR Report DB061 Debug] Variant data for user ${k}:`,ue),console.log(`[HR Report DB061 Debug] Leave type data for user ${k}:`,he)),Pe&&console.log(`[HR Report AVAILED Debug] User ${k}, Variant ${z} (${(he==null?void 0:he.name)||"Unknown"}):`,{variantName:(he==null?void 0:he.name)||"Unknown",isBeforeWorkflow:Ce,leaveBalanceDeductionBefore:ue==null?void 0:ue.leaveBalanceDeductionBefore,totalTransactions:Y.length,pendingDeductions:Y.filter(H=>H.transactionType==="pending_deduction").length,deductionTransactions:Y.filter(H=>H.transactionType==="deduction").length,allTransactionTypes:[...new Set(Y.map(H=>H.transactionType))],variantData:ue,allPendingTransactions:Y.filter(H=>H.transactionType==="pending_deduction").map(H=>({id:H.id,amount:H.amount,description:H.description}))});const ce=Y.filter(H=>{var pt,Wt;const te=parseFloat(H.amount||"0"),me=H.transactionType==="debit"||H.transactionType==="deduction",Re=te<0,Ie=H.transactionType==="pending_deduction";if(((pt=H.description)==null?void 0:pt.toLowerCase().includes("additional historical availed leave"))||((Wt=H.description)==null?void 0:Wt.toLowerCase().includes("status: rejected"))||Ie&&!Ce)return!1;const je=me||Re||Ie&&Ce;return Pe&&(Ie||me||Re)&&console.log("[HR Report] Transaction analysis:",{id:H.id,type:H.transactionType,amount:H.amount,description:H.description,isBeforeWorkflow:Ce,isPendingDeduction:Ie,isDeductionType:me,isNegativeAmount:Re,shouldInclude:je}),je}),$e=ce.reduce((H,te)=>H+Math.abs(parseFloat(te.amount||"0")),0);Pe&&console.log(`[HR Report AVAILED Result] User ${k}, Variant ${z}:`,{usageTransactionsCount:ce.length,availedAmount:$e,usageTransactions:ce.map(H=>({id:H.id,type:H.transactionType,amount:H.amount,description:H.description}))}),Y.filter(H=>{var te,me;return(H.transactionType==="debit"||H.transactionType==="deduction")&&(((te=H.description)==null?void 0:te.toLowerCase().includes("lop"))||((me=H.description)==null?void 0:me.toLowerCase().includes("loss of pay")))}).reduce((H,te)=>H+Math.abs(parseFloat(te.amount||"0")),0);const ct=Y.filter(H=>{var te;return(H.transactionType==="debit"||H.transactionType==="deduction")&&((te=H.description)==null?void 0:te.toLowerCase().includes("encash"))}).reduce((H,te)=>H+Math.abs(parseFloat(te.amount||"0")),0),zt=Y.filter(H=>{var te;return(H.transactionType==="debit"||H.transactionType==="deduction")&&((te=H.description)==null?void 0:te.toLowerCase().includes("lapse"))}).reduce((H,te)=>H+Math.abs(parseFloat(te.amount||"0")),0),be=Ee-$e;return{employeeNo:(De==null?void 0:De.employee_number)||k,employeeName:(De==null?void 0:De.user_name)||(De!=null&&De.first_name&&(De!=null&&De.last_name)?`${De.first_name} ${De.last_name}`:`Employee ${k}`),location:(De==null?void 0:De.location)||(De==null?void 0:De.city)||"N/A",department:(De==null?void 0:De.department)||(De==null?void 0:De.dept_name)||"N/A",division:(De==null?void 0:De.division)||(De==null?void 0:De.unit)||"N/A",leaveType:(he==null?void 0:he.name)||(U==null?void 0:U.name)||"Unknown",opBalance:Number(Z||0).toFixed(1),eligibility:Number(ne||0).toFixed(1),totalEligibility:Number(Ee||0).toFixed(1),availed:Number($e||0).toFixed(1),leaveLapsed:Number(zt||0).toFixed(1),leaveEncashed:Number(ct||0).toFixed(1),closingBalance:Number(be||0).toFixed(1),userId:k,variantId:z,leaveTypeId:(he==null?void 0:he.id)||(U==null?void 0:U.id)}})}).filter(Boolean),D=_.filter(k=>{var R;const P=!r||k.employeeName.toLowerCase().includes(r.toLowerCase())||k.employeeNo.toString().includes(r),I=a==="all"||k.location===a,M=o==="all"||k.department===o,C=c==="all"||((R=k.leaveTypeId)==null?void 0:R.toString())===c;return P&&I&&M&&C}),F=[...new Set(_.map(k=>k.location))].filter(Boolean),O=[...new Set(_.map(k=>k.department))].filter(Boolean),L=()=>{const P=[["Employee No","Employee Name","Location","Department","Division","Leave Type","Op Balance","Eligibility","Total Eligibility","Availed","Leave Lapsed","Leave Encashed","Closing Balance"].join(","),...D.map(R=>[R.employeeNo,R.employeeName,R.location,R.department,R.division,R.leaveType,R.opBalance,R.eligibility,R.totalEligibility,R.availed,R.leaveLapsed,R.leaveEncashed,R.closingBalance].map(z=>`"${z}"`).join(","))].join(`
`),I=new Blob([P],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a"),C=URL.createObjectURL(I);M.setAttribute("href",C),M.setAttribute("download",`HR_Leave_Balance_Report_${e}.csv`),M.style.visibility="hidden",document.body.appendChild(M),M.click(),document.body.removeChild(M)};return s.jsx(fr,{children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"max-w-full mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Vn,{className:"h-4 w-4 text-blue-600"})}),s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"HR Leave Balance Report"})]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs(ee,{onClick:L,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})})]}),s.jsxs(Ne,{className:"mb-6",children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(e0,{className:"h-4 w-4 text-gray-500"}),s.jsx(mt,{className:"text-lg",children:"Filters"})]})}),s.jsx(_e,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Employee"}),s.jsx(ut,{placeholder:"Name or Employee No...",value:r,onChange:k=>n(k.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),s.jsxs(Nt,{value:e,onValueChange:t,children:[s.jsx(wt,{children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"2025",children:"2025"}),s.jsx(Ae,{value:"2024",children:"2024"}),s.jsx(Ae,{value:"2023",children:"2023"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),s.jsxs(Nt,{value:a,onValueChange:i,children:[s.jsx(wt,{children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"all",children:"All Locations"}),F.map(k=>s.jsx(Ae,{value:k,children:k},k))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),s.jsxs(Nt,{value:o,onValueChange:l,children:[s.jsx(wt,{children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"all",children:"All Departments"}),O.map(k=>s.jsx(Ae,{value:k,children:k},k))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Leave Type"}),s.jsxs(Nt,{value:c,onValueChange:u,children:[s.jsx(wt,{children:s.jsx(St,{})}),s.jsxs(bt,{children:[s.jsx(Ae,{value:"all",children:"All Leave Types"}),p.map(k=>s.jsx(Ae,{value:k.id.toString(),children:k.name},k.id))]})]})]})]})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs(mt,{className:"text-lg",children:["Leave Balance Report (",D.length," records)"]})}),s.jsx(_e,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ll,{children:[s.jsx($l,{children:s.jsxs(Qr,{className:"bg-gray-50",children:[s.jsx(rt,{className:"font-semibold",children:"Employee No"}),s.jsx(rt,{className:"font-semibold",children:"Employee Name"}),s.jsx(rt,{className:"font-semibold",children:"Location"}),s.jsx(rt,{className:"font-semibold",children:"Department"}),s.jsx(rt,{className:"font-semibold",children:"Division"}),s.jsx(rt,{className:"font-semibold",children:"Leave Type"}),s.jsx(rt,{className:"font-semibold text-right",children:"Op Balance"}),s.jsx(rt,{className:"font-semibold text-right",children:"Eligibility"}),s.jsx(rt,{className:"font-semibold text-right",children:"Total Eligibility"}),s.jsx(rt,{className:"font-semibold text-right",children:"Availed"}),s.jsx(rt,{className:"font-semibold text-right",children:"Leave Lapsed"}),s.jsx(rt,{className:"font-semibold text-right",children:"Leave Encashed"}),s.jsx(rt,{className:"font-semibold text-right",children:"Closing Balance"})]})}),s.jsx(Bl,{children:D.length===0?s.jsx(Qr,{children:s.jsx(Ze,{colSpan:13,className:"text-center py-8 text-gray-500",children:"No data available for the selected filters"})}):D.map((k,P)=>s.jsxs(Qr,{className:P%2===0?"bg-white":"bg-gray-50",children:[s.jsx(Ze,{className:"font-medium",children:k.employeeNo}),s.jsx(Ze,{children:k.employeeName}),s.jsx(Ze,{children:k.location}),s.jsx(Ze,{children:k.department}),s.jsx(Ze,{children:k.division}),s.jsx(Ze,{children:k.leaveType}),s.jsx(Ze,{className:"text-right",children:k.opBalance}),s.jsx(Ze,{className:"text-right",children:k.eligibility}),s.jsx(Ze,{className:"text-right font-medium",children:k.totalEligibility}),s.jsx(Ze,{className:"text-right",children:k.availed}),s.jsx(Ze,{className:"text-right",children:k.leaveLapsed}),s.jsx(Ze,{className:"text-right",children:k.leaveEncashed}),s.jsx(Ze,{className:"text-right font-medium text-green-600",children:k.closingBalance})]},`${k.userId}-${k.variantId}`))})]})})})]})]})})})}function pPe(){const{toast:e}=Lr(),t=ac(),{data:r,isLoading:n}=Le({queryKey:["/api/collaborative-leave-settings"]}),a=It({mutationFn:async u=>await yt("PUT","/api/collaborative-leave-settings",u),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/collaborative-leave-settings"]}),e({title:"Settings Updated",description:"Collaborative leave settings have been saved successfully."})},onError:u=>{e({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"})}}),[i,o]=T.useState({enabled:!1,requireManagerApproval:!1,enableEmailNotifications:!0,closureReportRequired:!0,managerReviewRequired:!0});T.useEffect(()=>{r&&typeof r=="object"&&o({enabled:r.enabled??!1,requireManagerApproval:r.requireManagerApproval??!1,enableEmailNotifications:r.enableEmailNotifications??!0,closureReportRequired:r.closureReportRequired??!0,managerReviewRequired:r.managerReviewRequired??!0})},[r]);const l=()=>{a.mutate(i)},c=(u,d)=>{o(f=>({...f,[u]:d}))};return n?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx($j,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(uo,{className:"h-7 w-7 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Feature Settings"}),s.jsx("p",{className:"text-gray-600",children:"Configure collaborative leave management features"})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(un,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx(mt,{children:"Collaborative Leave Management"}),s.jsx(uf,{children:"Enable employees to assign tasks to colleagues during leave periods"})]})]})}),s.jsxs(_e,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{children:[s.jsx(dt,{className:"text-lg font-medium",children:"Enable Collaborative Leave"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Allow employees to create task assignments when applying for leave"})]}),s.jsx(Qs,{checked:i.enabled,onCheckedChange:u=>c("enabled",u),className:"scale-125"})]}),i.enabled&&s.jsxs("div",{className:"space-y-6 pl-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[s.jsx(kH,{className:"h-5 w-5 mr-2 text-gray-500"}),"Approval & Review Settings"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(dt,{children:"Manager Approval Required"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Require manager approval for task assignments"})]}),s.jsx(Qs,{checked:i.requireManagerApproval,onCheckedChange:u=>c("requireManagerApproval",u)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(dt,{children:"Closure Report Required"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Require completion reports after leave"})]}),s.jsx(Qs,{checked:i.closureReportRequired,onCheckedChange:u=>c("closureReportRequired",u)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(dt,{children:"Manager Review Required"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Require manager review of completion reports"})]}),s.jsx(Qs,{checked:i.managerReviewRequired,onCheckedChange:u=>c("managerReviewRequired",u)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[s.jsx(MH,{className:"h-5 w-5 mr-2 text-gray-500"}),"Notification Settings"]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsxs(dt,{className:"flex items-center",children:[s.jsx(t3,{className:"h-4 w-4 mr-2"}),"Email Notifications"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Send email notifications to assignees and managers"})]}),s.jsx(Qs,{checked:i.enableEmailNotifications,onCheckedChange:u=>c("enableEmailNotifications",u)})]})]})]}),s.jsx("div",{className:"flex justify-end pt-6 border-t",children:s.jsxs(ee,{onClick:l,disabled:a.isPending,className:"px-8",children:[a.isPending&&s.jsx($j,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Settings"]})})]})]})]})}function gPe(){const[e,t]=T.useState(!1),[r,n]=T.useState(!1),a=()=>{t(!0),setTimeout(()=>t(!1),3e3)},i=()=>{n(!0),setTimeout(()=>n(!1),3e3)};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Dancing Loader Demo"}),s.jsx("p",{className:"text-gray-600",children:"Check out our animated dancing loader in action!"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Small Loader"})}),s.jsx(_e,{className:"text-center",children:s.jsx(Oc,{size:"sm",text:"Small dancing loader"})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Medium Loader"})}),s.jsx(_e,{className:"text-center",children:s.jsx(Oc,{size:"md",text:"Medium dancing loader"})})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Large Loader"})}),s.jsx(_e,{className:"text-center",children:s.jsx(Oc,{size:"lg",text:"Large dancing loader"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Full Page Loader"})}),s.jsxs(_e,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"This loader covers the entire screen and is perfect for page transitions or major operations."}),s.jsx(ee,{onClick:a,className:"w-full",children:"Show Full Page Loader (3s)"})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Inline Loader"})}),s.jsxs(_e,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"This loader is perfect for loading content within a specific section."}),s.jsx(ee,{onClick:i,className:"w-full mb-4",children:"Show Inline Loader (3s)"}),r&&s.jsx(oee,{text:"Loading content..."})]})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Loader Without Text"})}),s.jsx(_e,{className:"text-center",children:s.jsx(Oc,{size:"md",text:""})})]})]}),e&&s.jsx(iee,{text:"Loading amazing content..."})]})}function xPe(){const[e,t]=sR("/id/:token"),[,r]=ju();return console.log("[TokenHandler] Component rendered - match:",e,"params:",t),console.log("[TokenHandler] Route pattern: /id/:token"),console.log("[TokenHandler] Window location:",window.location.pathname),T.useEffect(()=>{if(console.log("[TokenHandler] useEffect - match:",e,"params:",t),console.log("[TokenHandler] Current location:",window.location.pathname),e&&(t!=null&&t.token)){console.log("[TokenHandler] Processing token:",t.token);const n=XOe(t.token);n?(console.log("Decoded JWT payload:",n),QOe(n,t.token).then(()=>{console.log("=== TOKEN HANDLER STORAGE DEBUG ==="),console.log("localStorage keys after storage:",Object.keys(localStorage)),console.log("org_id:",localStorage.getItem("org_id")),console.log("user_id:",localStorage.getItem("user_id")),console.log("jwt_token present:",!!localStorage.getItem("jwt_token")),console.log("role_name:",localStorage.getItem("role_name")),console.log("==================================="),console.log("Redirecting to home page..."),r("/")})):(console.error("Failed to decode JWT token"),r("/"))}},[e,t,r]),s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Processing authentication..."})]})})}function vPe(){var i,o,l,c;const{data:e,isLoading:t,refetch:r}=Le({queryKey:["/api/pending-time-based-approvals"],refetchInterval:3e4}),n=It({mutationFn:async()=>await yt("/api/process-time-based-approvals","POST"),onSuccess:u=>{var d;Vs({title:"Time-based Approvals Processed",description:`Processed ${u.processed} requests`,variant:((d=u.errors)==null?void 0:d.length)>0?"destructive":"default"}),r()},onError:u=>{Vs({title:"Error Processing Approvals",description:u.message,variant:"destructive"})}}),a=u=>{const d=new Date(u),f=new Date,h=d.getTime()-f.getTime(),m=Math.floor(h/(1e3*60*60)),x=Math.floor(h%(1e3*60*60)/(1e3*60));return h<0?`${Math.abs(m)}h ${Math.abs(x)}m ago (Ready for processing)`:`In ${m}h ${x}m`};return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Time-Based Auto-Approval Test"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Monitor and process time-based auto-approval requests"})]}),s.jsxs(ee,{onClick:()=>n.mutate(),disabled:n.isPending,className:"flex items-center gap-2",children:[s.jsx(gn,{className:"h-4 w-4"}),n.isPending?"Processing...":"Process Due Approvals"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(Ne,{children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(mt,{className:"text-sm font-medium",children:"Pending Time-Based Approvals"}),s.jsx(yn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(_e,{children:[s.jsx("div",{className:"text-2xl font-bold",children:((i=e==null?void 0:e.pendingApprovals)==null?void 0:i.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests with scheduled auto-approval"})]})]}),s.jsxs(Ne,{children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(mt,{className:"text-sm font-medium",children:"Ready for Processing"}),s.jsx(of,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(_e,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:((o=e==null?void 0:e.pendingApprovals)==null?void 0:o.filter(u=>new Date(u.scheduledAt)<=new Date).length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Approvals past scheduled time"})]})]}),s.jsxs(Ne,{children:[s.jsxs(ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(mt,{className:"text-sm font-medium",children:"Auto-Refresh"}),s.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"})]}),s.jsxs(_e,{children:[s.jsx("div",{className:"text-sm",children:"Every 30 seconds"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Page refreshes automatically"})]})]})]}),s.jsxs(Ne,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Pending Time-Based Approvals"})}),s.jsx(_e,{children:t?s.jsx("div",{className:"text-center py-8",children:"Loading..."}):((l=e==null?void 0:e.pendingApprovals)==null?void 0:l.length)===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending time-based approvals found"}):s.jsx("div",{className:"space-y-4",children:(c=e==null?void 0:e.pendingApprovals)==null?void 0:c.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"font-medium",children:["Leave Request #",u.id]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["User ID: ",u.userId," | Leave Type: ",u.leaveTypeId]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Current Step: ",u.currentStep," | Workflow: ",u.workflowId]})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx($t,{variant:new Date(u.scheduledAt)<=new Date?"destructive":"secondary",children:new Date(u.scheduledAt)<=new Date?"Ready":"Scheduled"}),s.jsx("div",{className:"text-xs text-gray-500",children:a(u.scheduledAt)}),s.jsx("div",{className:"text-xs text-gray-400",children:new Date(u.scheduledAt).toLocaleString()})]})]},u.id))})})]})]})}function _4({children:e,permission:t,fallback:r="/"}){const{canViewScreen:n,loading:a}=s0();return a?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):n(t)?s.jsx(s.Fragment,{children:e}):s.jsx(tV,{to:r})}function yPe(){const{isAuthenticated:e,isLoading:t}=a0();return T.useEffect(()=>{Qq(),localStorage.getItem("leave_year")||(localStorage.setItem("leave_year","January-2025-December 2025"),console.log("[App] Set default leave_year: January-2025-December 2025"));const r=window.location.pathname;if(r.startsWith("/id/")){const n=r.substring(4);console.log("=== PROCESSING JWT TOKEN ==="),console.log("Found token in URL:",n);try{const a=n.split(".");if(a.length===3){const i=a[1],o=i+"=".repeat((4-i.length%4)%4),l=atob(o),c=JSON.parse(l);console.log("Decoded JWT payload:",c);const d=localStorage.getItem("user_id")||c.user_id;localStorage.setItem("org_id",c.org_id),localStorage.setItem("user_id",d),localStorage.setItem("role_id",c.role_id),localStorage.setItem("role_name",c.role_name),localStorage.setItem("user_type_id",c.user_type_id),localStorage.setItem("jwt_token",n),console.log("JWT processing - preserved user_id:",d,"from JWT:",c.user_id),console.log("JWT data stored, redirecting to home..."),window.location.href="/";return}}catch(a){console.error("Failed to process JWT token:",a)}}console.log("=== LOCALSTORAGE DEBUG ==="),console.log("Keys in localStorage:",Object.keys(localStorage)),console.log("org_id:",localStorage.getItem("org_id")),console.log("leave_year:",localStorage.getItem("leave_year")),console.log("user_id:",localStorage.getItem("user_id")),console.log("jwt_token:",localStorage.getItem("jwt_token")?"exists":"missing"),console.log("role_name:",localStorage.getItem("role_name")),console.log("========================"),console.log("======================")},[]),t?s.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):s.jsxs(eV,{children:[s.jsx(lr,{path:"/test",children:()=>s.jsx("div",{children:"Test route works!"})}),s.jsx(lr,{path:"/id/:token",component:xPe}),(window.location.pathname.startsWith("/id/"),null),e?s.jsxs(s.Fragment,{children:[s.jsx(lr,{path:"/",component:EOe}),s.jsx(lr,{path:"/employee-overview",component:()=>s.jsx(_4,{permission:"employeeOverview",children:s.jsx(fr,{children:s.jsx(H9,{})})})}),s.jsx(lr,{path:"/import-leave-data",component:AOe}),s.jsx(lr,{path:"/leave-applications",component:j4}),s.jsx(lr,{path:"/applications",component:j4}),s.jsx(lr,{path:"/holidays",component:OOe}),s.jsx(lr,{path:"/compensatory-off",component:FOe}),s.jsx(lr,{path:"/pto",component:WOe}),s.jsx(lr,{path:"/task-manager",component:VOe}),s.jsx(lr,{path:"/overview",component:JOe}),s.jsx(lr,{path:"/approvals",component:ePe}),s.jsx(lr,{path:"/employees",component:tPe}),s.jsx(lr,{path:"/workflows",component:nPe}),s.jsx(lr,{path:"/roles",component:sPe}),s.jsx(lr,{path:"/admin/leave-types",component:lPe}),s.jsx(lr,{path:"/admin/comp-off",component:iPe}),s.jsx(lr,{path:"/admin/pto",component:oPe}),s.jsx(lr,{path:"/admin/feature-settings",component:()=>s.jsx(_4,{permission:"adminSettings",children:s.jsx(fr,{children:s.jsx(pPe,{})})})}),s.jsx(lr,{path:"/admin/reports/:reportType?",component:S4}),s.jsx(lr,{path:"/admin-reports/:reportType?",component:S4}),s.jsx(lr,{path:"/hr-leave-balance-report",component:mPe}),s.jsx(lr,{path:"/reports/:reportType?",component:hPe}),s.jsx(lr,{path:"/leave-types/:leaveTypeName",component:uPe}),s.jsx(lr,{path:"/loader-demo",component:gPe}),s.jsx(lr,{path:"/time-based-approval-test",component:vPe})]}):s.jsx(lr,{path:"/",component:eK}),s.jsx(lr,{component:Jq})]})}function wPe(){return s.jsx(bV,{client:Ye,children:s.jsxs(Kq,{children:[s.jsx(jz,{}),s.jsx(yPe,{})]})})}YM(document.getElementById("root")).render(s.jsx(wPe,{}));
